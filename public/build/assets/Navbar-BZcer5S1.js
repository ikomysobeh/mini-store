import{d as ee,J as te,r as I,c as C,h as c,g as t,e as s,i as p,t as a,n as M,Z as N,b as o,m as ue,o as r,_ as de,E as fe,G as ve,H as me,F as U,p as B,a as w,u as e,f as h,l as O}from"./app-BKweO40s.js";import{c as se,b as m,E as he}from"./index-BUn4p9PZ.js";import{_ as D}from"./index-CHtoCzq_.js";import{S as F,L as T,M as pe,X as ge,_ as Z,U as G}from"./Separator.vue_vue_type_script_setup_true_lang-Du-ouKc9.js";import{_ as J,a as Q}from"./AvatarFallback.vue_vue_type_script_setup_true_lang-DiWCYZ_u.js";import{_ as W}from"./AvatarImage.vue_vue_type_script_setup_true_lang-DvLZr_z5.js";import{H as X}from"./house-CE27jCRI.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=se("HistoryIcon",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=se("ShoppingBagIcon",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),_e={class:"relative inline-block text-left"},be=["aria-label"],we={class:"text-base"},ke={class:"hidden sm:inline"},Ce={class:"py-1",role:"menu","aria-orientation":"vertical"},$e={key:0,class:"h-4 w-4 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},je={key:0,class:"h-4 w-4 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Y=ee({__name:"LanguageSwitcher",setup(i){const{locale:d}=te(),k=I(!1),_=C(()=>d.value),x=C(()=>d.value==="ar"?"Ø¹Ø±Ø¨ÙŠ":"English"),b=C(()=>d.value==="ar"?"ðŸ‡¸ðŸ‡¦":"ðŸ‡¬ðŸ‡§"),g=$=>{if($===_.value){k.value=!1;return}const l=window.location.pathname;let u;const j=l.replace(/^\/(en|ar)/,"")||"/";$==="ar"?u="/ar"+j:u="/en"+j,window.location.href=u};return($,l)=>(r(),c("div",_e,[t("button",{type:"button",onClick:l[0]||(l[0]=u=>k.value=!k.value),class:"inline-flex items-center gap-2 rounded-lg bg-background px-3 py-2 text-sm font-medium text-foreground transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2","aria-label":`Switch language - Current: ${x.value}`},[t("span",we,a(b.value),1),t("span",ke,a(x.value),1),(r(),c("svg",{class:M(["h-4 w-4 transition-transform",{"rotate-180":k.value}]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...l[4]||(l[4]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,be),s(N,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:o(()=>[ue(t("div",{class:M(["absolute right-0 z-50 mt-2 w-48 origin-top-right rounded-lg bg-background shadow-lg ring-1 ring-border focus:outline-none",_.value==="ar"?"left-0 right-auto":"right-0"])},[t("div",Ce,[t("button",{onClick:l[1]||(l[1]=u=>g("en")),class:M(["flex w-full items-center gap-3 px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground",{"bg-accent text-accent-foreground":_.value==="en","text-foreground":_.value!=="en"}]),role:"menuitem"},[l[6]||(l[6]=t("span",{class:"text-base"},"ðŸ‡¬ðŸ‡§",-1)),l[7]||(l[7]=t("span",{class:"flex-1 text-left"},"English",-1)),_.value==="en"?(r(),c("svg",$e,[...l[5]||(l[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):p("",!0)],2),t("button",{onClick:l[2]||(l[2]=u=>g("ar")),class:M(["flex w-full items-center gap-3 px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground",{"bg-accent text-accent-foreground":_.value==="ar","text-foreground":_.value!=="ar"}]),role:"menuitem"},[l[9]||(l[9]=t("span",{class:"text-base"},"ðŸ‡¸ðŸ‡¦",-1)),t("span",{class:M(["flex-1",_.value==="ar"?"text-right":"text-left"])},"Ø¹Ø±Ø¨ÙŠ",2),_.value==="ar"?(r(),c("svg",je,[...l[8]||(l[8]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):p("",!0)],2)])],2),[[de,k.value]])]),_:1}),k.value?(r(),c("div",{key:0,onClick:l[3]||(l[3]=u=>k.value=!1),class:"fixed inset-0 z-40","aria-hidden":"true"})):p("",!0)]))}}),Le={class:"sticky top-0 z-50 backdrop-blur-lg border-b bg-background/80"},Ie={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Me={class:"flex items-center justify-between h-16"},ze={href:"/",class:"flex items-center space-x-3 group"},Ee={key:0,class:"w-10 h-10 rounded-xl overflow-hidden flex items-center justify-center bg-white border"},Ne=["src","alt"],Se={key:1,class:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center"},Ue={class:"text-primary-foreground font-bold text-lg"},Be={class:"font-bold text-xl text-primary"},Oe={class:"hidden lg:flex space-x-4"},De={class:"hidden md:flex items-center space-x-4"},Fe={key:0,class:"absolute right-0 mt-2 w-80 bg-popover border border-border rounded-md shadow-lg z-50"},qe={class:"px-4 py-3 border-b border-border"},Ae={class:"flex items-center justify-between"},He={class:"text-sm font-semibold"},Ve={key:0,class:"px-4 py-8 text-center"},Pe={class:"text-sm text-muted-foreground"},Re={key:1,class:"max-h-80 overflow-y-auto"},Te={class:"px-4 py-3 space-y-3"},Ze=["src","alt"],Ge={class:"flex-1 min-w-0"},Je={class:"text-sm font-medium truncate"},Qe={class:"text-xs text-muted-foreground"},We={class:"text-sm font-semibold"},Xe={key:0,class:"text-center text-xs text-muted-foreground"},Ke={class:"px-4 py-3 border-t border-border space-y-3"},Ye={class:"flex justify-between items-center font-semibold"},et={class:"text-lg text-primary"},tt={key:0,class:"absolute right-0 mt-2 w-56 bg-popover border border-border rounded-md shadow-lg z-50"},st={class:"px-3 py-2 border-b border-border"},at={class:"flex flex-col space-y-1"},rt={class:"text-sm font-medium leading-none"},ot={class:"text-xs text-muted-foreground leading-none"},lt={class:"py-1"},nt=["disabled"],it={class:"border-t border-border py-1"},ct=["disabled"],ut={key:2,class:"flex items-center space-x-2"},dt={class:"md:hidden flex items-center space-x-2"},ft={key:0,class:"md:hidden border-t py-4 space-y-2"},vt={class:"flex flex-col space-y-2"},mt={key:0,class:"space-y-2"},ht={class:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider"},pt={key:1,class:"space-y-2"},gt={class:"px-3 py-2 bg-muted/30 rounded-lg mx-2"},xt={class:"flex items-center space-x-3"},yt={class:"text-sm font-medium"},_t={class:"text-xs text-muted-foreground"},bt={key:2,class:"space-y-2"},wt=ee({__name:"Navbar",props:{categories:{type:Array,default:()=>[]},cartItems:{type:Array,default:()=>[]},user:{type:Object,default:null},siteName:{type:String,default:"Elegant Store"},settings:{type:Object,default:()=>({})}},setup(i){const{t:d,locale:k}=te(),_=fe(),x=I(!1),b=I(!1),g=I(!1),$=I(null),l=I(null),u=I(!1),j=C(()=>i.user?.avatar||null),z=C(()=>i.user?.name||"User"),q=C(()=>i.user?.email||""),A=C(()=>i.settings?.logo_url||null),L=C(()=>i.cartItems.reduce((f,v)=>f+(parseInt(v.quantity)||0),0)),ae=C(()=>i.cartItems.reduce((f,v)=>{const n=parseFloat(v.price||0),ce=parseInt(v.quantity||0);return f+n*ce},0)),H=()=>"text-primary hover:bg-primary/10 hover:text-primary transition-all duration-300",V=f=>{$.value&&!$.value.contains(f.target)&&(b.value=!1),l.value&&!l.value.contains(f.target)&&(g.value=!1)},P=()=>{u.value||(b.value=!1,x.value=!1,u.value=!0,O.post("/logout",{},{onSuccess:()=>{window.location.href="/"},onError:f=>{console.error("Logout failed:",f),u.value=!1},onFinish:()=>{u.value=!1}}))},R=f=>f?.name?f.name.split(" ").map(v=>v[0]).join("").toUpperCase().substring(0,2):f?.email?.charAt(0).toUpperCase()||"U",re=()=>{x.value=!x.value,x.value&&(b.value=!1,g.value=!1)},oe=()=>{b.value=!b.value,b.value&&(x.value=!1,g.value=!1)},le=()=>{g.value=!g.value,g.value&&(x.value=!1,b.value=!1)},ne=f=>{b.value=!1,g.value=!1,O.visit(y(f))},S=f=>parseFloat(f||0).toFixed(2),y=f=>`/${k.value||_.props.locale||"en"}${f}`,ie=()=>{g.value=!1,O.visit(y("/cart"))},E=()=>{x.value=!1};return ve(()=>{document.addEventListener("click",V)}),me(()=>{document.removeEventListener("click",V)}),(f,v)=>(r(),c("nav",Le,[t("div",Ie,[t("div",Me,[t("a",ze,[A.value?(r(),c("div",Ee,[t("img",{src:A.value,alt:i.siteName+" Logo",class:"w-full h-full object-contain",onError:v[0]||(v[0]=n=>n.target.style.display="none")},null,40,Ne)])):(r(),c("div",Se,[t("span",Ue,a(i.siteName.charAt(0)),1)])),t("span",Be,a(i.siteName),1)]),t("div",Oe,[(r(!0),c(U,null,B(i.categories,n=>(r(),w(e(m),{key:n.id,variant:"ghost",class:M(H()),as:"a",href:y(`/products?category=${n.slug}`)},{default:o(()=>[h(a(n.name),1)]),_:2},1032,["class","href"]))),128))]),t("div",De,[s(Y),t("div",{class:"relative",ref_key:"cartDropdownRef",ref:l},[s(e(m),{variant:"outline",class:"relative",onClick:le},{default:o(()=>[s(e(F),{class:"h-5 w-5"}),L.value>0?(r(),w(e(D),{key:0,class:"absolute -top-2 -right-2 bg-primary text-primary-foreground min-w-5 h-5 flex items-center justify-center text-xs"},{default:o(()=>[h(a(L.value>99?"99+":L.value),1)]),_:1})):p("",!0)]),_:1}),s(N,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:o(()=>[g.value?(r(),c("div",Fe,[t("div",qe,[t("div",Ae,[t("h3",He,a(e(d)("cart.title")),1),s(e(D),{variant:"secondary"},{default:o(()=>[h(a(L.value)+" "+a(e(d)("cart.itemsInCart")),1)]),_:1})])]),i.cartItems.length===0?(r(),c("div",Ve,[s(e(F),{class:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),t("p",Pe,a(e(d)("cart.empty")),1)])):(r(),c("div",Re,[t("div",Te,[(r(!0),c(U,null,B(i.cartItems.slice(0,3),n=>(r(),c("div",{key:n.id,class:"flex items-center space-x-3 p-2 bg-muted/30 rounded-lg"},[t("img",{src:n.product?.image||n.image||"/placeholder-product.jpg",alt:n.product?.name||n.name,class:"w-12 h-12 object-cover rounded-md border"},null,8,Ze),t("div",Ge,[t("p",Je,a(n.product?.name||n.name),1),t("p",Qe," Qty: "+a(n.quantity)+" Ã— $"+a(S(n.price)),1)]),t("span",We," $"+a(S((n.price||0)*(n.quantity||1))),1)]))),128)),i.cartItems.length>3?(r(),c("div",Xe," +"+a(i.cartItems.length-3)+" more items ",1)):p("",!0)]),t("div",Ke,[t("div",Ye,[t("span",null,a(e(d)("cart.total"))+":",1),t("span",et,"$"+a(S(ae.value)),1)]),s(e(m),{class:"w-full",onClick:ie},{default:o(()=>[s(e(he),{class:"h-4 w-4 mr-2"}),h(" "+a(e(d)("cart.title")),1)]),_:1}),s(e(m),{class:"w-full",variant:"outline",as:"a",href:y("/checkout"),onClick:v[1]||(v[1]=n=>g.value=!1)},{default:o(()=>[s(e(ye),{class:"h-4 w-4 mr-2"}),h(" "+a(e(d)("checkout.title")),1)]),_:1},8,["href"])])]))])):p("",!0)]),_:1})],512),i.user?(r(),w(e(m),{key:0,variant:"outline",class:"relative",as:"a",href:y("/my-orders"),title:"My Orders"},{default:o(()=>[s(e(K),{class:"h-5 w-5"})]),_:1},8,["href"])):p("",!0),i.user?(r(),c("div",{key:1,class:"relative",ref_key:"userDropdownRef",ref:$},[s(e(m),{variant:"ghost",class:"relative h-10 w-10 rounded-full",onClick:oe,disabled:u.value},{default:o(()=>[s(e(J),{class:"h-9 w-9"},{default:o(()=>[j.value?(r(),w(e(W),{key:0,src:j.value,alt:z.value},null,8,["src","alt"])):p("",!0),s(e(Q),{class:"bg-primary/10 text-primary"},{default:o(()=>[h(a(R(i.user)),1)]),_:1})]),_:1})]),_:1},8,["disabled"]),s(N,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:o(()=>[b.value?(r(),c("div",tt,[t("div",st,[t("div",at,[t("p",rt,a(z.value),1),t("p",ot,a(q.value),1)])]),t("div",lt,[t("button",{onClick:v[2]||(v[2]=n=>ne("/")),class:"w-full px-3 py-2 text-left text-sm hover:bg-accent hover:text-accent-foreground flex items-center transition-colors",disabled:u.value},[s(e(X),{class:"mr-2 h-4 w-4"}),t("span",null,a(e(d)("nav.home")),1)],8,nt)]),t("div",it,[t("button",{onClick:P,disabled:u.value,class:"w-full px-3 py-2 text-left text-sm text-destructive hover:bg-destructive/10 flex items-center transition-colors disabled:opacity-50"},[s(e(T),{class:"mr-2 h-4 w-4"}),t("span",null,a(u.value?"...":e(d)("nav.logout")),1)],8,ct)])])):p("",!0)]),_:1})],512)):(r(),c("div",ut,[s(e(m),{variant:"ghost",size:"sm",as:"a",href:y("/login")},{default:o(()=>[h(a(e(d)("nav.login")),1)]),_:1},8,["href"]),s(e(m),{size:"sm",as:"a",href:y("/register")},{default:o(()=>[h(a(e(d)("nav.register")),1)]),_:1},8,["href"])]))]),t("div",dt,[s(Y),s(e(m),{variant:"outline",size:"sm",class:"relative",as:"a",href:y("/cart")},{default:o(()=>[s(e(F),{class:"h-4 w-4"}),L.value>0?(r(),w(e(D),{key:0,class:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-xs bg-primary text-primary-foreground"},{default:o(()=>[h(a(L.value>9?"9+":L.value),1)]),_:1})):p("",!0)]),_:1},8,["href"]),i.user?(r(),w(e(m),{key:0,variant:"outline",size:"sm",class:"relative",as:"a",href:y("/my-orders")},{default:o(()=>[s(e(K),{class:"h-4 w-4"})]),_:1},8,["href"])):p("",!0),s(e(m),{variant:"ghost",size:"sm",onClick:re,disabled:u.value},{default:o(()=>[x.value?(r(),w(e(ge),{key:1,class:"h-5 w-5"})):(r(),w(e(pe),{key:0,class:"h-5 w-5"}))]),_:1},8,["disabled"])])]),s(N,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:o(()=>[x.value?(r(),c("div",ft,[t("div",vt,[i.categories.length>0?(r(),c("div",mt,[t("p",ht,a(e(d)("common.category")),1),(r(!0),c(U,null,B(i.categories,n=>(r(),w(e(m),{key:n.id,variant:"ghost",class:M(H()+" justify-start"),as:"a",href:y(`/products?category=${n.slug}`),onClick:E},{default:o(()=>[h(a(n.name),1)]),_:2},1032,["class","href"]))),128)),s(e(Z),{class:"my-2"})])):p("",!0),i.user?(r(),c("div",pt,[t("div",gt,[t("div",xt,[s(e(J),{class:"h-8 w-8"},{default:o(()=>[j.value?(r(),w(e(W),{key:0,src:j.value,alt:z.value},null,8,["src","alt"])):p("",!0),s(e(Q),{class:"bg-primary/10 text-primary text-sm"},{default:o(()=>[h(a(R(i.user)),1)]),_:1})]),_:1}),t("div",null,[t("p",yt,a(z.value),1),t("p",_t,a(q.value),1)])])]),s(e(m),{variant:"ghost",class:"justify-start w-full",as:"a",href:"/",onClick:E,disabled:u.value},{default:o(()=>[s(e(X),{class:"mr-2 h-4 w-4"}),h(" "+a(e(d)("nav.home")),1)]),_:1},8,["disabled"]),s(e(Z),{class:"my-2"}),s(e(m),{variant:"ghost",class:"justify-start w-full text-destructive hover:text-destructive hover:bg-destructive/10",onClick:P,disabled:u.value},{default:o(()=>[s(e(T),{class:"mr-2 h-4 w-4"}),h(" "+a(u.value?"...":e(d)("nav.logout")),1)]),_:1},8,["disabled"])])):(r(),c("div",bt,[v[3]||(v[3]=t("p",{class:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider"},"Account",-1)),s(e(m),{variant:"ghost",class:"justify-start w-full",as:"a",href:y("/login"),onClick:E},{default:o(()=>[s(e(G),{class:"mr-2 h-4 w-4"}),h(" "+a(e(d)("nav.login")),1)]),_:1},8,["href"]),s(e(m),{variant:"outline",class:"justify-start w-full",as:"a",href:y("/register"),onClick:E},{default:o(()=>[s(e(G),{class:"mr-2 h-4 w-4"}),h(" "+a(e(d)("nav.register")),1)]),_:1},8,["href"])]))])])):p("",!0)]),_:1})])]))}}),Et=xe(wt,[["__scopeId","data-v-602ad241"]]);export{Et as N,ye as S};
