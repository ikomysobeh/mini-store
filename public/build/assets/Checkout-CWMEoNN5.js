import{d as F,h as c,n as f,g as e,e as o,u as s,a as w,i as _,b as l,f as p,o as u,r as z,w as L,c as $,m as k,C as I,t as b,v as A,q as Z,F as R,p as Y,k as ee,l as te}from"./app-CpQjUiSo.js";import{N as se}from"./Navbar-ByVz-CFS.js";import{c as ae,b as V,a as N,_ as P}from"./index-B-I_JJ0o.js";import{S as D,U as W}from"./Separator.vue_vue_type_script_setup_true_lang-Dyz0sWhy.js";import{S as G}from"./star-BYyB0v9C.js";import{G as oe}from"./gift-BXyWVLzK.js";import{H as B}from"./heart-CvwJWGaj.js";import{_ as C}from"./Input.vue_vue_type_script_setup_true_lang-CpooQczP.js";import{_ as x}from"./Label.vue_vue_type_script_setup_true_lang-DD5-dmce.js";import{a as U,_ as O}from"./CardTitle.vue_vue_type_script_setup_true_lang-OgblYUT6.js";import{C as j}from"./clock-DNTAU8q0.js";import{M as re}from"./message-square-D2sgi-DZ.js";import{U as Q}from"./users-Dr-iBOLK.js";import{C as ie}from"./chevron-down-CilPvFWw.js";import{C as ne}from"./chevron-up-C7oxWABL.js";import{C as le}from"./credit-card-DXkVg8ZY.js";import"./index-D3gA1W1f.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-DV1LV-xm.js";import"./useForwardExpose-CJgl1R84.js";import"./createContext-Ojr9SjVg.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-B6Ym8DI2.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=ae("TruckIcon",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),de={class:"w-32 h-32 bg-gradient-to-br from-muted to-muted/60 rounded-full flex items-center justify-center mx-auto mb-8 shadow-inner"},ue={class:"flex flex-col sm:flex-row gap-4 justify-center mb-12"},ce={class:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-3xl mx-auto"},me={class:"text-center p-6 bg-primary/10 rounded-xl"},fe={class:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4"},pe={class:"text-center p-6 bg-destructive/10 rounded-xl"},ve={class:"w-12 h-12 bg-destructive/20 rounded-full flex items-center justify-center mx-auto mb-4"},ye={class:"text-center p-6 bg-secondary/10 rounded-xl"},be={class:"w-12 h-12 bg-secondary/20 rounded-full flex items-center justify-center mx-auto mb-4"},ge={class:"mt-12 p-6 bg-muted/30 rounded-xl max-w-md mx-auto"},xe={class:"flex flex-col sm:flex-row gap-2 justify-center"},_e=F({__name:"EmptyCartState",props:{className:{default:""},showDonationOption:{type:Boolean,default:!1}},setup(m){return(y,i)=>(u(),c("div",{class:f(`text-center py-20 ${m.className}`)},[e("div",de,[o(s(D),{class:"h-16 w-16 text-muted-foreground"})]),i[13]||(i[13]=e("h2",{class:"text-3xl font-bold mb-3"},"Your cart is empty",-1)),i[14]||(i[14]=e("p",{class:"text-muted-foreground mb-8 max-w-md mx-auto"}," Add some items to your cart to proceed with checkout. Browse our collection of amazing products! ",-1)),e("div",ue,[o(s(V),{as:"a",href:"/products",size:"lg",class:"min-w-48"},{default:l(()=>[o(s(D),{class:"h-5 w-5 mr-2"}),i[0]||(i[0]=p(" Start Shopping ",-1))]),_:1}),o(s(V),{variant:"outline",as:"a",href:"/products?featured=true",size:"lg"},{default:l(()=>[o(s(G),{class:"h-5 w-5 mr-2"}),i[1]||(i[1]=p(" View Featured Products ",-1))]),_:1}),m.showDonationOption?(u(),w(s(V),{key:0,variant:"outline",as:"a",href:"/products?type=donation",size:"lg",class:"text-warning hover:bg-warning/10"},{default:l(()=>[o(s(oe),{class:"h-5 w-5 mr-2"}),i[2]||(i[2]=p(" Make a Donation ",-1))]),_:1})):_("",!0)]),e("div",ce,[e("div",me,[e("div",fe,[o(s(D),{class:"h-6 w-6 text-primary"})]),i[3]||(i[3]=e("h3",{class:"font-semibold mb-2"},"Browse Products",-1)),i[4]||(i[4]=e("p",{class:"text-sm text-muted-foreground"},"Discover our wide range of quality products and amazing deals",-1))]),e("div",pe,[e("div",ve,[o(s(B),{class:"h-6 w-6 text-destructive"})]),i[5]||(i[5]=e("h3",{class:"font-semibold mb-2"},"Check Wishlist",-1)),i[6]||(i[6]=e("p",{class:"text-sm text-muted-foreground"},"Items you've saved for later are waiting for you",-1))]),e("div",ye,[e("div",be,[o(s(G),{class:"h-6 w-6 text-secondary"})]),i[7]||(i[7]=e("h3",{class:"font-semibold mb-2"},"Featured Items",-1)),i[8]||(i[8]=e("p",{class:"text-sm text-muted-foreground"},"Our handpicked recommendations just for you",-1))])]),e("div",ge,[i[11]||(i[11]=e("h4",{class:"font-semibold mb-2"},"Need Help?",-1)),i[12]||(i[12]=e("p",{class:"text-sm text-muted-foreground mb-4"}," Contact our customer support for assistance with your order ",-1)),e("div",xe,[o(s(V),{variant:"outline",size:"sm",as:"a",href:"/contact"},{default:l(()=>[...i[9]||(i[9]=[p(" Contact Support ",-1)])]),_:1}),o(s(V),{variant:"outline",size:"sm",as:"a",href:"/help"},{default:l(()=>[...i[10]||(i[10]=[p(" View FAQ ",-1)])]),_:1})])])],2))}}),he={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},we={class:"lg:col-span-2 space-y-8"},ke={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Ce={class:"flex flex-col items-center text-center space-y-4"},Ve={class:"flex items-center space-x-1"},De={key:0,class:"absolute top-3 right-3"},Se={class:"flex flex-col items-center text-center space-y-4"},ze={key:0,class:"absolute top-3 right-3"},$e={key:0,class:"ml-auto inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"},Ie={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ne={class:"space-y-2"},Pe={class:"space-y-2"},Ue={class:"space-y-2"},Oe={key:0,class:"space-y-2"},Me={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},Ae={class:"flex items-start space-x-3"},je={class:"mt-2 space-y-1 text-sm text-blue-700"},Be={class:"flex items-center space-x-2"},Fe={class:"space-y-2"},Te=["placeholder"],qe={class:"flex items-center space-x-2"},Ee={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},He={class:"flex items-start space-x-3"},Le={class:"mt-2 space-y-1 text-sm text-blue-700"},Re={class:"flex items-center space-x-2"},Ye={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},We={class:"flex items-center space-x-2"},Ge={class:"flex items-center space-x-2"},Qe={key:0,class:"space-y-4"},Je={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},Ke={class:"space-y-2"},Xe={class:"space-y-2"},Ze={class:"space-y-2"},et={key:1,class:"space-y-4"},tt={class:"space-y-2"},st={class:"relative"},at={class:"space-y-2"},ot={class:"lg:col-span-1"},rt={class:"sticky top-24 space-y-6"},it={class:"space-y-3"},nt={class:"flex items-center space-x-3"},lt=["src","alt"],dt={key:1,class:"w-12 h-12 bg-muted rounded flex items-center justify-center border"},ut={class:"font-medium"},ct={class:"text-muted-foreground"},mt={class:"font-bold"},ft={class:"border-t pt-4"},pt={class:"flex justify-between text-xl font-bold"},vt={key:0,class:"bg-destructive/10 border border-destructive/20 rounded-lg p-4 text-center"},yt={key:0,class:"flex items-center"},bt={key:1,class:"flex items-center justify-center"},gt={key:1,class:"mt-3 rounded-md border border-amber-300 bg-amber-50 px-3 py-3 text-sm text-amber-900",role:"alert","aria-live":"polite"},xt={class:"font-medium"},_t={class:"mt-2 flex flex-wrap gap-2"},ht=F({__name:"CheckoutContent",props:{cartItems:{},customer:{default:null},user:{default:null},shippingMethods:{default:()=>[]},paymentMethods:{default:()=>[]},existingCustomerData:{default:null}},setup(m){const y=m,i=z(!1),n=z("purchase"),g=z(!1),v=z(!1),a=z({first_name:y.existingCustomerData?.first_name||y.customer?.first_name||"",last_name:y.existingCustomerData?.last_name||y.customer?.last_name||"",phone:y.existingCustomerData?.phone||y.customer?.phone||"",address:y.existingCustomerData?.address||y.customer?.address||"",notes:"",has_beneficiary:!1,beneficiary_first_name:"",beneficiary_last_name:"",beneficiary_phone:"",beneficiary_organization_name:"",beneficiary_special_instructions:"",beneficiary_is_organization:!1});L(g,d=>{a.value.has_beneficiary=d,d||(a.value.beneficiary_first_name="",a.value.beneficiary_last_name="",a.value.beneficiary_phone="",a.value.beneficiary_organization_name="",a.value.beneficiary_special_instructions="",a.value.beneficiary_is_organization=!1,v.value=!1)}),L(v,d=>{a.value.beneficiary_is_organization=d,d?(a.value.beneficiary_first_name="",a.value.beneficiary_last_name="",a.value.beneficiary_phone="",a.value.beneficiary_organization_name="3lmni al 9aid initiative"):a.value.beneficiary_organization_name=""});const h=$(()=>y.cartItems.reduce((d,t)=>d+t.price*t.quantity,0)),S=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),T=$(()=>{const d=[];return a.value.first_name||d.push("First Name"),a.value.last_name||d.push("Last Name"),a.value.phone||d.push("Phone Number"),n.value==="purchase"&&!a.value.address&&d.push("Delivery Address"),n.value==="donation"&&g.value&&a.value.has_beneficiary&&(v.value?a.value.beneficiary_organization_name||d.push("Organization Name"):!a.value.beneficiary_first_name&&!a.value.beneficiary_last_name&&d.push("Beneficiary First or Last Name")),d}),q=d=>d.product?.name||d.product_name||"Product",E=d=>d.product?.image||null,M=$(()=>{const d=a.value.first_name&&a.value.last_name&&a.value.phone,t=n.value==="donation"||a.value.address;let r=!0;return g.value&&a.value.has_beneficiary&&(v.value?r=!!a.value.beneficiary_organization_name:r=!!(a.value.beneficiary_first_name||a.value.beneficiary_last_name)),d&&t&&r}),K=async()=>{if(!(i.value||!M.value)){i.value=!0;try{const d=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(!d)throw new Error("CSRF token not found. Please refresh the page.");const t={is_donation:n.value==="donation",first_name:a.value.first_name,last_name:a.value.last_name,phone:a.value.phone,address:a.value.address,notes:a.value.notes,has_beneficiary:a.value.has_beneficiary,beneficiary_first_name:a.value.beneficiary_first_name,beneficiary_last_name:a.value.beneficiary_last_name,beneficiary_phone:a.value.beneficiary_phone,beneficiary_organization_name:a.value.beneficiary_organization_name,beneficiary_special_instructions:a.value.beneficiary_special_instructions,beneficiary_is_organization:a.value.beneficiary_is_organization},r=await fetch("/orders",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":d,Accept:"application/json"},credentials:"same-origin",body:JSON.stringify(t)});if(!r.ok){const X=await r.text();throw console.error("Response error:",r.status,X),new Error(`Server error: ${r.status}`)}const H=await r.json();if(H.url)window.location.href=H.url;else throw new Error("No checkout URL received")}catch(d){console.error("Order creation error:",d),alert(`Failed to create order: ${d.message}`)}finally{i.value=!1}}};return(d,t)=>(u(),c("div",he,[e("div",we,[o(s(P),null,{default:l(()=>[o(s(U),null,{default:l(()=>[o(s(O),{class:"text-center text-xl"},{default:l(()=>[...t[15]||(t[15]=[p("Choose Your Option",-1)])]),_:1})]),_:1}),o(s(N),null,{default:l(()=>[e("div",ke,[e("label",{class:f(["relative cursor-pointer rounded-xl border-2 p-6 focus:outline-none transition-all hover:shadow-md",n.value==="purchase"?"border-primary bg-primary shadow-md":"border-border hover:border-primary/50 bg-background"])},[k(e("input",{type:"radio",value:"purchase","onUpdate:modelValue":t[0]||(t[0]=r=>n.value=r),class:"sr-only"},null,512),[[I,n.value]]),e("div",Ce,[e("div",{class:f(["p-4 rounded-full",n.value==="purchase"?"bg-primary":"bg-primary/20"])},[o(s(D),{class:f(["h-8 w-8",n.value==="purchase"?"text-primary-foreground":"text-primary"])},null,8,["class"])],2),e("div",null,[e("h3",{class:f(["font-bold text-lg transition-colors",n.value==="purchase"?"text-primary-foreground":"text-foreground"])}," Purchase Items ",2),e("p",{class:f(["text-sm transition-colors",n.value==="purchase"?"text-primary-foreground/90":"text-muted-foreground"])}," Get the actual products delivered ",2)])]),e("div",{class:f(["mt-4 space-y-1 text-sm transition-colors",n.value==="purchase"?"text-yellow-100":"text-gray-600"])},[t[17]||(t[17]=e("p",null,"âœ“ Buy it for yourself or for one of your relatives in Sweida",-1)),t[18]||(t[18]=e("p",null,"âœ“ Receive it from one of our centers",-1)),e("p",Ve,[o(s(j),{class:"h-3 w-3"}),t[16]||(t[16]=e("span",null,"Delivery: 1 day to 1 week",-1))])],2),n.value==="purchase"?(u(),c("div",De,[...t[19]||(t[19]=[e("span",{class:"inline-flex items-center rounded-full bg-red-100 px-2.5 py-0.5 text-xs font-medium text-red-800"}," Selected âœ“ ",-1)])])):_("",!0)],2),e("label",{class:f(["relative cursor-pointer rounded-xl border-2 p-6 focus:outline-none transition-all hover:shadow-md",n.value==="donation"?"border-destructive bg-destructive shadow-md":"border-border hover:border-destructive/50 bg-background"])},[k(e("input",{type:"radio",value:"donation","onUpdate:modelValue":t[1]||(t[1]=r=>n.value=r),class:"sr-only"},null,512),[[I,n.value]]),e("div",Se,[e("div",{class:f(["p-4 rounded-full",n.value==="donation"?"bg-destructive":"bg-destructive/20"])},[o(s(B),{class:f(["h-8 w-8",n.value==="donation"?"text-destructive-foreground":"text-destructive"])},null,8,["class"])],2),e("div",null,[e("h3",{class:f(["font-bold text-lg transition-colors",n.value==="donation"?"text-destructive-foreground":"text-foreground"])}," Donate Amount ",2),e("p",{class:f(["text-sm transition-colors",n.value==="donation"?"text-yellow-100":"text-gray-600"])}," Support our cause financially ",2)])]),e("div",{class:f(["mt-4 space-y-1 text-sm transition-colors",n.value==="donation"?"text-yellow-100":"text-gray-600"])},[...t[20]||(t[20]=[e("p",null,"â¤ï¸ Donate to one of the displaced families",-1),e("p",null,"â¤ï¸ Contributed to warming a family",-1)])],2),n.value==="donation"?(u(),c("div",ze,[...t[21]||(t[21]=[e("span",{class:"inline-flex items-center rounded-full bg-red-100 px-2.5 py-0.5 text-xs font-medium text-red-800"}," Selected âœ“ ",-1)])])):_("",!0)],2)])]),_:1})]),_:1}),o(s(P),null,{default:l(()=>[o(s(U),null,{default:l(()=>[o(s(O),{class:"flex items-center space-x-2"},{default:l(()=>[o(s(W),{class:"h-5 w-5"}),e("span",null,b(n.value==="donation"?"Donor":"Customer")+" Information",1),m.existingCustomerData?.has_existing_data?(u(),c("span",$e," Pre-filled ")):_("",!0)]),_:1})]),_:1}),o(s(N),{class:"space-y-4"},{default:l(()=>[e("div",Ie,[e("div",Ne,[o(s(x),{for:"first_name"},{default:l(()=>[...t[22]||(t[22]=[p("First Name *",-1)])]),_:1}),o(s(C),{id:"first_name",modelValue:a.value.first_name,"onUpdate:modelValue":t[2]||(t[2]=r=>a.value.first_name=r),required:"",placeholder:"Enter your first name"},null,8,["modelValue"])]),e("div",Pe,[o(s(x),{for:"last_name"},{default:l(()=>[...t[23]||(t[23]=[p("Last Name *",-1)])]),_:1}),o(s(C),{id:"last_name",modelValue:a.value.last_name,"onUpdate:modelValue":t[3]||(t[3]=r=>a.value.last_name=r),required:"",placeholder:"Enter your last name"},null,8,["modelValue"])])]),e("div",Ue,[o(s(x),{for:"phone"},{default:l(()=>[...t[24]||(t[24]=[p("Phone Number *",-1)])]),_:1}),o(s(C),{id:"phone",modelValue:a.value.phone,"onUpdate:modelValue":t[4]||(t[4]=r=>a.value.phone=r),type:"tel",required:"",placeholder:"Your contact number"},null,8,["modelValue"])]),n.value==="purchase"?(u(),c("div",Oe,[o(s(x),{for:"address"},{default:l(()=>[...t[25]||(t[25]=[p("Delivery Address *",-1)])]),_:1}),k(e("textarea",{id:"address","onUpdate:modelValue":t[5]||(t[5]=r=>a.value.address=r),required:"",rows:"3",placeholder:"Your address in Suwayda (neighborhood like Al-Nahdah, Al-Shuhada, street & building number)",class:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,512),[[A,a.value.address]]),e("div",Me,[e("div",Ae,[o(s(J),{class:"h-5 w-5 text-blue-600 mt-0.5"}),e("div",null,[t[28]||(t[28]=e("h4",{class:"text-sm font-medium text-blue-800"},"Some Information",-1)),e("div",je,[e("p",Be,[o(s(j),{class:"h-3 w-3"}),t[26]||(t[26]=e("span",null,"The delivery will be coordinated either at one of our centers or through another suitable method.",-1))]),t[27]||(t[27]=e("p",null,"ðŸ“ž We will contact the number you provided within a week. ",-1))])])])])])):_("",!0),e("div",Fe,[o(s(x),{for:"notes",class:"flex items-center space-x-2"},{default:l(()=>[o(s(re),{class:"h-4 w-4"}),t[29]||(t[29]=e("span",null,"Additional Notes (Optional)",-1))]),_:1}),k(e("textarea",{id:"notes","onUpdate:modelValue":t[6]||(t[6]=r=>a.value.notes=r),rows:"2",placeholder:n.value==="donation"?"Any message or special instructions...":"Delivery preferences, preferred time slots, special instructions, etc...",class:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,8,Te),[[A,a.value.notes]])])]),_:1})]),_:1}),n.value==="donation"?(u(),w(s(P),{key:0},{default:l(()=>[o(s(U),null,{default:l(()=>[o(s(O),{class:"flex items-center justify-between"},{default:l(()=>[e("div",qe,[o(s(Q),{class:"h-5 w-5"}),t[30]||(t[30]=e("span",null,"Beneficiary Information",-1)),t[31]||(t[31]=e("span",{class:"inline-flex items-center rounded-full border border-gray-300 px-2.5 py-0.5 text-xs font-medium text-gray-700 bg-white"}," Optional ",-1))]),o(s(V),{variant:"ghost",size:"sm",onClick:t[7]||(t[7]=r=>g.value=!g.value),class:"flex items-center space-x-1"},{default:l(()=>[e("span",null,b(g.value?"Hide":"Add")+" Beneficiary",1),g.value?(u(),w(s(ne),{key:1,class:"h-4 w-4"})):(u(),w(s(ie),{key:0,class:"h-4 w-4"}))]),_:1})]),_:1}),e("div",Ee,[e("div",He,[o(s(J),{class:"h-5 w-5 text-blue-600 mt-0.5"}),e("div",null,[t[34]||(t[34]=e("h4",{class:"text-sm font-medium text-blue-800"},"Some Information",-1)),e("div",Le,[e("p",Re,[o(s(j),{class:"h-3 w-3"}),t[32]||(t[32]=e("span",null,"The delivery will be coordinated either at one of our centers or through another suitable method.",-1))]),t[33]||(t[33]=e("p",null,"ðŸ“ž We will contact the number you provided within a week. ",-1))])])])])]),_:1}),g.value?(u(),w(s(N),{key:0,class:"space-y-4"},{default:l(()=>[t[44]||(t[44]=e("div",{class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},[e("p",{class:"text-sm text-blue-800 font-medium"},"Who is this donation for?"),e("p",{class:"text-xs text-blue-600 mt-1"},"This section is completely optional. You can skip it if you prefer.")],-1)),e("div",Ye,[e("label",{class:f(`cursor-pointer rounded-lg border-2 p-4 ${v.value?"border-border":"border-primary bg-primary/10"}`)},[k(e("input",{type:"radio",value:!1,"onUpdate:modelValue":t[8]||(t[8]=r=>v.value=r),class:"sr-only"},null,512),[[I,v.value]]),e("div",We,[o(s(W),{class:"h-5 w-5"}),t[35]||(t[35]=e("span",{class:"font-medium"},"Individual Person",-1))])],2),e("label",{class:f(`cursor-pointer rounded-lg border-2 p-4 ${v.value?"border-primary bg-primary/10":"border-border"}`)},[k(e("input",{type:"radio",value:!0,"onUpdate:modelValue":t[9]||(t[9]=r=>v.value=r),class:"sr-only"},null,512),[[I,v.value]]),e("div",Ge,[o(s(Q),{class:"h-5 w-5"}),t[36]||(t[36]=e("span",{class:"font-medium"},"Organization",-1))])],2)]),v.value?(u(),c("div",et,[e("div",tt,[o(s(x),{for:"beneficiary_organization_name"},{default:l(()=>[...t[40]||(t[40]=[p("Organization Name",-1)])]),_:1}),e("div",st,[o(s(C),{id:"beneficiary_organization_name",modelValue:a.value.beneficiary_organization_name,"onUpdate:modelValue":t[13]||(t[13]=r=>a.value.beneficiary_organization_name=r),readonly:"",value:"3lmni al 9aid initiative",class:"bg-gray-50 text-gray-700 cursor-not-allowed"},null,8,["modelValue"]),t[41]||(t[41]=e("div",{class:"absolute inset-y-0 right-0 flex items-center pr-3"},[e("span",{class:"inline-flex items-center rounded-full bg-blue-100 px-2 py-1 text-xs font-medium text-blue-800"}," Auto-filled ")],-1))]),t[42]||(t[42]=e("p",{class:"text-xs text-gray-600"},' â„¹ï¸ This donation will be made on behalf of "3lmni al 9aid initiative" ',-1))])])):(u(),c("div",Qe,[e("div",Je,[e("div",Ke,[o(s(x),{for:"beneficiary_first_name"},{default:l(()=>[...t[37]||(t[37]=[p("First Name",-1)])]),_:1}),o(s(C),{id:"beneficiary_first_name",modelValue:a.value.beneficiary_first_name,"onUpdate:modelValue":t[10]||(t[10]=r=>a.value.beneficiary_first_name=r),placeholder:"Beneficiary's first name"},null,8,["modelValue"])]),e("div",Xe,[o(s(x),{for:"beneficiary_last_name"},{default:l(()=>[...t[38]||(t[38]=[p("Last Name",-1)])]),_:1}),o(s(C),{id:"beneficiary_last_name",modelValue:a.value.beneficiary_last_name,"onUpdate:modelValue":t[11]||(t[11]=r=>a.value.beneficiary_last_name=r),placeholder:"Beneficiary's last name"},null,8,["modelValue"])])]),e("div",Ze,[o(s(x),{for:"beneficiary_phone"},{default:l(()=>[...t[39]||(t[39]=[p("Phone (Optional)",-1)])]),_:1}),o(s(C),{id:"beneficiary_phone",modelValue:a.value.beneficiary_phone,"onUpdate:modelValue":t[12]||(t[12]=r=>a.value.beneficiary_phone=r),type:"tel",placeholder:"Beneficiary's contact number"},null,8,["modelValue"])])])),e("div",at,[o(s(x),{for:"beneficiary_special_instructions"},{default:l(()=>[...t[43]||(t[43]=[p("Special Instructions (Optional)",-1)])]),_:1}),k(e("textarea",{id:"beneficiary_special_instructions","onUpdate:modelValue":t[14]||(t[14]=r=>a.value.beneficiary_special_instructions=r),rows:"2",placeholder:"Any special requirements or instructions for the beneficiary...",class:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,512),[[A,a.value.beneficiary_special_instructions]])])]),_:1})):_("",!0)]),_:1})):_("",!0)]),e("div",ot,[e("div",rt,[o(s(P),null,{default:l(()=>[o(s(U),null,{default:l(()=>[o(s(O),{class:"flex items-center space-x-2"},{default:l(()=>[(u(),w(Z(n.value==="donation"?s(B):s(D)),{class:"h-5 w-5"})),e("span",null,b(n.value==="donation"?"Donation":"Order")+" Summary",1)]),_:1})]),_:1}),o(s(N),{class:"space-y-4"},{default:l(()=>[e("div",it,[(u(!0),c(R,null,Y(m.cartItems,r=>(u(),c("div",{key:r.id,class:"flex justify-between items-center text-sm"},[e("div",nt,[E(r)?(u(),c("img",{key:0,src:E(r),alt:q(r),class:"w-12 h-12 object-cover rounded border"},null,8,lt)):(u(),c("div",dt,[o(s(D),{class:"h-5 w-5 text-muted-foreground"})])),e("div",null,[e("p",ut,b(q(r)),1),e("p",ct,"Qty: "+b(r.quantity),1)])]),e("p",mt,b(S(r.price*r.quantity)),1)]))),128))]),e("div",ft,[e("div",pt,[e("span",null,b(n.value==="donation"?"Donation Amount":"Total")+":",1),e("span",null,b(S(h.value)),1)])]),n.value==="donation"?(u(),c("div",vt,[...t[45]||(t[45]=[e("p",{class:"text-sm text-destructive font-medium"},"ðŸ™ Thank you for supporting our cause!",-1)])])):_("",!0),o(s(V),{onClick:K,disabled:i.value||!M.value,class:f(["w-full h-14 text-lg font-bold",n.value==="donation"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-400":"bg-blue-600 hover:bg-blue-700 text-white disabled:bg-blue-400"])},{default:l(()=>[i.value?(u(),c("div",yt,[...t[46]||(t[46]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("span",null,"Processing...",-1)])])):(u(),c("div",bt,[o(s(le),{class:"h-6 w-6 mr-3"}),e("span",null,b(n.value==="donation"?`Donate ${S(h.value)} via Stripe`:`Pay ${S(h.value)} via Stripe`),1)]))]),_:1},8,["disabled","class"]),!i.value&&!M.value&&T.value.length?(u(),c("div",gt,[e("p",xt," Please complete the following to "+b(n.value==="donation"?"donate":"checkout")+": ",1),e("div",_t,[(u(!0),c(R,null,Y(T.value,r=>(u(),c("span",{key:r,class:"inline-flex items-center rounded-full bg-amber-100 px-2.5 py-1 text-xs font-medium"},b(r),1))),128))])])):_("",!0),t[47]||(t[47]=e("div",{class:"text-center text-xs text-muted-foreground space-y-1"},[e("p",null,"ðŸ”’ Secure payment powered by Stripe"),e("p",null,"You'll be redirected to complete your payment")],-1))]),_:1})]),_:1})])])]))}}),wt={class:"min-h-screen bg-background text-foreground"},kt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Yt=F({__name:"Checkout",props:{cartItems:{},categories:{},auth:{},settings:{},shippingMethods:{},paymentMethods:{},existingCustomerData:{}},setup(m){const y=m.settings?.site_name||"Elegant Store",i=m.auth?.user,n=$(()=>m.cartItems.length>0),g=$(()=>m.cartItems.some(h=>h.is_donatable)),v=h=>{te.delete(`/cart/remove/${h}`,{preserveState:!0})},a=()=>{console.log("Processing payment...")};return(h,S)=>(u(),c("div",wt,[o(s(ee),{title:"Checkout"}),o(se,{categories:m.categories,cartItems:m.cartItems,user:s(i),siteName:s(y),settings:m.settings},null,8,["categories","cartItems","user","siteName","settings"]),e("div",kt,[n.value?(u(),w(ht,{key:1,cartItems:m.cartItems,user:s(i),shippingMethods:m.shippingMethods,paymentMethods:m.paymentMethods,existingCustomerData:m.existingCustomerData,onRemoveItem:v,onProcessPayment:a},null,8,["cartItems","user","shippingMethods","paymentMethods","existingCustomerData"])):(u(),w(_e,{key:0,showDonationOption:g.value},null,8,["showDonationOption"]))])]))}});export{Yt as default};
