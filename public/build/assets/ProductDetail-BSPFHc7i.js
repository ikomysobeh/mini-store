import{d as w,r as P,K as Te,z as D,u as e,a as y,b as u,A as B,o,G as je,e as i,i as b,L as Ne,M as Ue,f as C,t as r,n as q,l as Y,h as f,g as a,q as _e,c as $,J as ee,E as Ve,w as Le,F as N,p as L,C as pe,B as Ke,k as He}from"./app-yiE6uSpj.js";import{N as Qe}from"./Navbar-DSt-yin_.js";import{M as We,_ as Ge}from"./Breadcrumb.vue_vue_type_script_setup_true_lang-DlrO3d-u.js";import{P as te,c as be,b as M,_ as J,a as Z,d as K,E as Xe}from"./index-BkCac0jj.js";import{A as Ye}from"./arrow-left-1Ps6Z9x1.js";import{X as xe,S as re}from"./Separator.vue_vue_type_script_setup_true_lang-CoE9-6I-.js";import{C as Q}from"./circle-check-big-XVrRg6Es.js";import{_ as Je}from"./Input.vue_vue_type_script_setup_true_lang-BFKXwIBs.js";import{_ as j}from"./index-mUKK6tz8.js";import{u as me,g as ve,a as ne,P as ke,b as we,c as Ce}from"./Presence-Bur1OGv_.js";import{c as Ze}from"./createContext-6SANLQZW.js";import{u as et}from"./index-Bw1oo_aB.js";import{u as S}from"./useForwardExpose-QaTcUrh8.js";import{D as tt,g as st,F as at,u as ot,a as lt,T as rt}from"./Teleport-CyzeKiyM.js";import{u as ie}from"./useLocale-D4osIG5o.js";import{C as nt}from"./circle-alert-D_xZ4SMb.js";import{C as ge}from"./circle-x-CPwENh6r.js";import{C as he}from"./chevron-left-Qeikfvkp.js";import{C as ye}from"./chevron-right-CjZEpzC8.js";import{P as it}from"./plus-7I_gJxHJ.js";import{U as ut}from"./user-plus-DkbnfNmA.js";import{_ as $e}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{H as ct}from"./heart-BtDmXrEm.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BWd9wGrz.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-DNUHzSUa.js";import"./house-Bas7qKW4.js";const[E,dt]=Ze("DialogRoot");var ft=w({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(t,{emit:s}){const n=t,l=et(n,"open",s,{defaultValue:n.defaultOpen,passive:n.open===void 0}),g=P(),h=P(),{modal:_}=Te(n);return dt({open:l,modal:_,openModal:()=>{l.value=!0},onOpenChange:d=>{l.value=d},onOpenToggle:()=>{l.value=!l.value},contentId:"",titleId:"",descriptionId:"",triggerElement:g,contentElement:h}),(d,x)=>D(d.$slots,"default",{open:e(l),close:()=>l.value=!1})}}),pt=ft,mt=w({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(t){const s=t;S();const n=E();return(c,l)=>(o(),y(e(te),B(s,{type:c.as==="button"?"button":void 0,onClick:l[0]||(l[0]=g=>e(n).onOpenChange(!1))}),{default:u(()=>[D(c.$slots,"default")]),_:3},16,["type"]))}}),vt=mt,gt=w({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:s}){const n=t,c=s,l=E(),{forwardRef:g,currentElement:h}=S();return l.titleId||=me(void 0,"reka-dialog-title"),l.descriptionId||=me(void 0,"reka-dialog-description"),je(()=>{l.contentElement=h,ve()!==document.body&&(l.triggerElement.value=ve())}),(_,d)=>(o(),y(e(at),{"as-child":"",loop:"",trapped:n.trapFocus,onMountAutoFocus:d[5]||(d[5]=x=>c("openAutoFocus",x)),onUnmountAutoFocus:d[6]||(d[6]=x=>c("closeAutoFocus",x))},{default:u(()=>[i(e(tt),B({id:e(l).contentId,ref:e(g),as:_.as,"as-child":_.asChild,"disable-outside-pointer-events":_.disableOutsidePointerEvents,role:"dialog","aria-describedby":e(l).descriptionId,"aria-labelledby":e(l).titleId,"data-state":e(st)(e(l).open.value)},_.$attrs,{onDismiss:d[0]||(d[0]=x=>e(l).onOpenChange(!1)),onEscapeKeyDown:d[1]||(d[1]=x=>c("escapeKeyDown",x)),onFocusOutside:d[2]||(d[2]=x=>c("focusOutside",x)),onInteractOutside:d[3]||(d[3]=x=>c("interactOutside",x)),onPointerDownOutside:d[4]||(d[4]=x=>c("pointerDownOutside",x))}),{default:u(()=>[D(_.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),De=gt,ht=w({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:s}){const n=t,c=s,l=E(),g=ne(c),{forwardRef:h,currentElement:_}=S();return ot(_),(d,x)=>(o(),y(De,B({...n,...e(g)},{ref:e(h),"trap-focus":e(l).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:x[0]||(x[0]=k=>{k.defaultPrevented||(k.preventDefault(),e(l).triggerElement.value?.focus())}),onPointerDownOutside:x[1]||(x[1]=k=>{const O=k.detail.originalEvent,A=O.button===0&&O.ctrlKey===!0;(O.button===2||A)&&k.preventDefault()}),onFocusOutside:x[2]||(x[2]=k=>{k.preventDefault()})}),{default:u(()=>[D(d.$slots,"default")]),_:3},16,["trap-focus"]))}}),yt=ht,_t=w({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:s}){const n=t,l=ne(s);S();const g=E(),h=P(!1),_=P(!1);return(d,x)=>(o(),y(De,B({...n,...e(l)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:x[0]||(x[0]=k=>{k.defaultPrevented||(h.value||e(g).triggerElement.value?.focus(),k.preventDefault()),h.value=!1,_.value=!1}),onInteractOutside:x[1]||(x[1]=k=>{k.defaultPrevented||(h.value=!0,k.detail.originalEvent.type==="pointerdown"&&(_.value=!0));const O=k.target;e(g).triggerElement.value?.contains(O)&&k.preventDefault(),k.detail.originalEvent.type==="focusin"&&_.value&&k.preventDefault()})}),{default:u(()=>[D(d.$slots,"default")]),_:3},16))}}),bt=_t,xt=w({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:s}){const n=t,c=s,l=E(),g=ne(c),{forwardRef:h}=S();return(_,d)=>(o(),y(e(ke),{present:_.forceMount||e(l).open.value},{default:u(()=>[e(l).modal.value?(o(),y(yt,B({key:0,ref:e(h)},{...n,...e(g),..._.$attrs}),{default:u(()=>[D(_.$slots,"default")]),_:3},16)):(o(),y(bt,B({key:1,ref:e(h)},{...n,...e(g),..._.$attrs}),{default:u(()=>[D(_.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),kt=xt,wt=w({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(t){const s=t;S();const n=E();return(c,l)=>(o(),y(e(te),B(s,{id:e(n).descriptionId}),{default:u(()=>[D(c.$slots,"default")]),_:3},16,["id"]))}}),Ct=wt,$t=w({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const s=E();return lt(!0),S(),(n,c)=>(o(),y(e(te),{as:n.as,"as-child":n.asChild,"data-state":e(s).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:u(()=>[D(n.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),Dt=$t,Ot=w({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(t){const s=E(),{forwardRef:n}=S();return(c,l)=>e(s)?.modal.value?(o(),y(e(ke),{key:0,present:c.forceMount||e(s).open.value},{default:u(()=>[i(Dt,B(c.$attrs,{ref:e(n),as:c.as,"as-child":c.asChild}),{default:u(()=>[D(c.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):b("v-if",!0)}}),It=Ot,Pt=w({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(t){const s=t;return(n,c)=>(o(),y(e(rt),Ne(Ue(s)),{default:u(()=>[D(n.$slots,"default")]),_:3},16))}}),qt=Pt,Bt=w({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(t){const s=t,n=E();return S(),(c,l)=>(o(),y(e(te),B(s,{id:e(n).titleId}),{default:u(()=>[D(c.$slots,"default")]),_:3},16,["id"]))}}),At=Bt;/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mt=be("LogInIcon",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zt=be("TruckIcon",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),Ft=w({__name:"BackButton",props:{href:{default:"/products"},label:{default:"Back to Products"},className:{default:"mb-6"}},setup(t){const s=()=>{t.href.startsWith("http")||t.href.startsWith("/")?Y.visit(t.href):window.history.back()};return(n,c)=>(o(),y(e(M),{variant:"outline",size:"sm",onClick:s,class:q(t.className)},{default:u(()=>[i(e(Ye),{class:"h-4 w-4 mr-2"}),C(" "+r(t.label),1)]),_:1},8,["class"]))}}),St={class:"flex items-center justify-between"},Et={class:"flex items-center space-x-2"},Rt={class:"text-sm text-primary font-medium"},Tt=w({__name:"SuccessMessage",props:{message:{},icon:{default:"check"},dismissible:{type:Boolean,default:!1},className:{default:"mb-6"}},setup(t){const s=P(!0),n=()=>{s.value=!1},c=l=>{switch(l){case"cart":return re;case"check":default:return Q}};return(l,g)=>s.value&&(t.message||l.$page.props.flash?.success)?(o(),f("div",{key:0,class:q(t.className)},[i(e(J),{class:"border-primary/20 bg-primary/10"},{default:u(()=>[i(e(Z),{class:"p-4"},{default:u(()=>[a("div",St,[a("div",Et,[(o(),y(_e(c(t.icon)),{class:"h-4 w-4 text-primary"})),a("p",Rt,r(t.message||l.$page.props.flash?.success),1)]),t.dismissible?(o(),f("button",{key:0,onClick:n,class:"text-primary hover:text-primary/80 transition-colors"},[i(e(xe),{class:"h-4 w-4"})])):b("",!0)])]),_:1})]),_:1})],2)):b("",!0)}}),jt=w({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(t,{emit:s}){const l=we(t,s);return(g,h)=>(o(),y(e(pt),B({"data-slot":"dialog"},e(l)),{default:u(()=>[D(g.$slots,"default")]),_:3},16))}}),Nt=w({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(t){const s=t,n=$(()=>{const{class:c,...l}=s;return l});return(c,l)=>(o(),y(e(It),B({"data-slot":"dialog-overlay"},n.value,{class:e(K)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",s.class)}),{default:u(()=>[D(c.$slots,"default")]),_:3},16,["class"]))}}),Ut=w({__name:"DialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(t,{emit:s}){const n=t,c=s,l=$(()=>{const{class:h,..._}=n;return _}),g=we(l,c);return(h,_)=>(o(),y(e(qt),null,{default:u(()=>[i(Nt),i(e(kt),B({"data-slot":"dialog-content"},e(g),{class:e(K)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",n.class)}),{default:u(()=>[D(h.$slots,"default"),i(e(vt),{class:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"},{default:u(()=>[i(e(xe)),_[0]||(_[0]=a("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),Vt=w({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const s=t,n=$(()=>{const{class:l,...g}=s;return g}),c=Ce(n);return(l,g)=>(o(),y(e(Ct),B({"data-slot":"dialog-description"},e(c),{class:e(K)("text-muted-foreground text-sm",s.class)}),{default:u(()=>[D(l.$slots,"default")]),_:3},16,["class"]))}}),Lt=w({__name:"DialogFooter",props:{class:{}},setup(t){const s=t;return(n,c)=>(o(),f("div",{"data-slot":"dialog-footer",class:q(e(K)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",s.class))},[D(n.$slots,"default")],2))}}),Kt=w({__name:"DialogHeader",props:{class:{}},setup(t){const s=t;return(n,c)=>(o(),f("div",{"data-slot":"dialog-header",class:q(e(K)("flex flex-col gap-2 text-center sm:text-left",s.class))},[D(n.$slots,"default")],2))}}),Ht=w({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(t){const s=t,n=$(()=>{const{class:l,...g}=s;return g}),c=Ce(n);return(l,g)=>(o(),y(e(At),B({"data-slot":"dialog-title"},e(c),{class:e(K)("text-lg leading-none font-semibold",s.class)}),{default:u(()=>[D(l.$slots,"default")]),_:3},16,["class"]))}}),Qt={class:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12"},Wt={class:"space-y-6 p-6"},Gt={class:"relative aspect-square bg-muted rounded-lg overflow-hidden group"},Xt=["src","alt"],Yt={key:1,class:"absolute inset-y-0 left-0 right-0 flex items-center justify-between p-4 opacity-0 group-hover:opacity-100 transition-opacity"},Jt={key:2,class:"absolute top-4 left-4 bg-black/50 text-white px-2 py-1 rounded text-sm"},Zt={key:3,class:"absolute bottom-4 left-4 bg-black/50 text-white px-2 py-1 rounded text-sm opacity-0 group-hover:opacity-100 transition-opacity"},es={key:0,class:"space-y-2"},ts={class:"flex space-x-2 overflow-x-auto pb-2"},ss=["onClick"],as=["src","alt"],os={class:"text-sm text-muted-foreground text-center"},ls={class:"space-y-6 p-6"},rs={class:"text-3xl font-bold"},ns={class:"space-y-2"},is={class:"text-3xl font-bold text-primary"},us={key:0,class:"text-sm text-muted-foreground"},cs={key:1,class:"space-y-3"},ds={class:"font-medium"},fs={class:"flex gap-2 flex-wrap"},ps=["onClick","title"],ms={key:0,class:"text-sm text-gray-600"},vs={key:2,class:"space-y-3"},gs={class:"font-medium"},hs={class:"flex gap-2 flex-wrap"},ys=["onClick"],_s={key:0,class:"text-sm text-gray-600"},bs={class:"space-y-2"},xs={key:0,class:"flex items-center space-x-2 text-success"},ks={class:"text-sm font-medium"},ws={key:1,class:"flex items-center space-x-2 text-info"},Cs={class:"text-sm font-medium"},$s={key:2,class:"flex items-center space-x-2 text-destructive"},Ds={class:"text-sm font-medium"},Os={key:3,class:"text-warning text-sm"},Is={key:3,class:"space-y-4"},Ps={class:"space-y-2"},qs={class:"text-sm font-medium"},Bs={class:"flex items-center space-x-3"},As={class:"flex items-center border rounded-md"},Ms={class:"text-sm text-muted-foreground"},zs={key:1,class:"animate-spin h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full"},Fs={class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},Ss={class:"flex items-start space-x-3"},Es={class:"flex-1"},Rs={class:"text-sm font-semibold text-blue-900 dark:text-blue-300 mb-1"},Ts={class:"text-sm text-blue-800 dark:text-blue-400"},js={key:4,class:"p-4 bg-info/10 border border-info/20 rounded-lg"},Ns={class:"text-info font-medium"},Us={class:"py-6 space-y-4"},Vs={class:"bg-muted/50 rounded-lg p-4 space-y-2"},Ls={class:"text-sm font-medium"},Ks={class:"text-sm text-muted-foreground space-y-1"},Hs={class:"flex items-center gap-2"},Qs={class:"flex items-center gap-2"},Ws={class:"flex items-center gap-2"},Gs={class:"relative max-w-4xl max-h-full p-4"},Xs=["src","alt"],Ys={key:0,class:"absolute inset-y-0 left-0 right-0 flex items-center justify-between px-4"},Js=w({__name:"ProductDetails",props:{product:{type:Object,required:!0},user:{type:Object,default:null}},setup(t){const{t:s}=ee(),{localizedUrl:n,cartAddUrl:c}=ie(),l=Ve(),g=$(()=>!!(l.props.auth?.user||l.props.user||l.props.auth_user||l.props.authUser));$(()=>l.props.auth?.user||l.props.user||l.props.auth_user||l.props.authUser||null);const h=P(!1),_=v=>{const m=typeof window<"u"?window.location.pathname:n("/products"),p=`?redirect=${encodeURIComponent(m)}`;Y.visit(n(`/login${p}`))},d=v=>{const m=typeof window<"u"?window.location.pathname:n("/products"),p=`?redirect=${encodeURIComponent(m)}`;Y.visit(n(`/register${p}`))},x=(v,m)=>g.value?(typeof v=="function"&&v(),!0):(h.value=!0,!1),k=P(1),O=P(null),A=P(null),z=P(!1),U=P(""),T=P(""),R=P(0),se=P(!1),W=$(()=>t.product.gallery&&t.product.gallery.length>0?t.product.gallery[R.value]?.url||t.product.primary_image||t.product.image:t.product.primary_image||t.product.image||"/placeholder.jpg"),V=$(()=>t.product.has_gallery&&t.product.images_count>1),ae=$(()=>t.product.gallery||[]),Oe=v=>{R.value=v},ue=()=>{V.value&&(R.value=(R.value+1)%ae.value.length)},ce=()=>{if(V.value){const v=ae.value.length;R.value=(R.value-1+v)%v}},Ie=()=>{se.value=!0},de=()=>{se.value=!1},I=$(()=>!t.product.has_variants||!O.value||!A.value?null:t.product.variants.find(v=>v.color_id===O.value&&v.size_id===A.value)),oe=$(()=>{if(!t.product.has_variants||!O.value)return t.product.available_sizes||[];const m=t.product.variants.filter(p=>p.color_id===O.value).map(p=>p.size_id);return t.product.available_sizes.filter(p=>m.includes(p.id))}),Pe=$(()=>I.value?I.value.price:t.product.price),G=$(()=>t.product.has_variants?I.value?I.value.stock:t.product.variants.reduce((m,p)=>m+parseInt(p.stock||0),0):t.product.stock||0),qe=$(()=>t.product.is_donatable?!0:t.product.has_variants?I.value?I.value.stock>0:t.product.variants.some(v=>v.stock>0):(t.product.stock||0)>0),fe=$(()=>t.product.is_donatable?!0:t.product.has_variants?I.value&&I.value.stock>0:qe.value),X=$(()=>{if(t.product.is_donatable)return 99;if(t.product.has_variants&&I.value)return Math.min(I.value.stock,99);if(t.product.has_variants&&!I.value){const v=Math.max(...t.product.variants.map(m=>m.stock||0));return Math.min(v,99)}return Math.min(G.value,99)}),F=$(()=>{if(t.product.has_variants){if(I.value)return I.value.stock>0?{type:"in-stock",message:`${I.value.stock} ${s("product.inStockVariant")}`}:{type:"out-of-stock",message:s("product.outOfStock")};{const v=t.product.variants.filter(m=>m.stock>0);return v.length>0?{type:"variants-available",message:`${v.length} ${s("product.variantsAvailable")} (${s("product.total")}: ${G.value} ${s("product.items")})`}:{type:"out-of-stock",message:s("product.outOfStock")}}}return G.value>0?{type:"in-stock",message:`${G.value} ${s("product.inStock")}`}:{type:"out-of-stock",message:s("product.outOfStock")}}),Be=$(()=>{switch(T.value){case"success":return Q;case"error":return ge;case"warning":return nt;default:return null}}),Ae=$(()=>{const v="flex items-center space-x-2 p-3 rounded-lg text-sm font-medium";switch(T.value){case"success":return v+" bg-success/10 text-success border border-success/20";case"error":return v+" bg-destructive/10 text-destructive border border-destructive/20";case"warning":return v+" bg-warning/10 text-warning border border-warning/20";default:return v+" bg-info/10 text-info border border-info/20"}});Le(O,()=>{A.value=null});const Me=v=>parseFloat(v.toString()).toFixed(2),ze=v=>{O.value=v},Fe=v=>{A.value=v},Se=()=>{k.value<X.value&&k.value++},Ee=()=>{k.value>1&&k.value--},le=(v,m)=>{U.value=v,T.value=m,m==="success"&&setTimeout(()=>{U.value="",T.value=""},3e3)},Re=()=>{x(()=>{if(t.product.has_variants&&!I.value){le(s("productDetail.selectColorSizeWarning"),"warning");return}z.value=!0,U.value="";const v={quantity:k.value};I.value&&(v.variant_id=I.value.id),Y.post(c(t.product.id),v,{preserveScroll:!0,preserveState:!0,onSuccess:m=>{const p=m.props?.flash?.success;le(p||s("productDetail.addedToCartSuccess"),"success"),z.value=!1},onError:m=>{console.error("Cart error:",m);const p=m.message||Object.values(m)[0]||s("productDetail.addToCartFailed");le(p,"error"),z.value=!1},onFinish:()=>{z.value=!1}})})};return(v,m)=>(o(),f(N,null,[a("div",Qt,[a("div",Wt,[a("div",Gt,[a("img",{src:W.value,alt:t.product.name,class:"w-full h-full object-cover cursor-pointer transition-transform group-hover:scale-105",onClick:Ie},null,8,Xt),t.product.is_donatable?(o(),y(e(j),{key:0,class:"absolute top-4 right-4 bg-warning/20 text-warning"},{default:u(()=>[C(r(e(s)("product.donation")),1)]),_:1})):b("",!0),V.value?(o(),f("div",Yt,[a("button",{onClick:ce,class:"p-2 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors"},[i(e(he),{class:"h-5 w-5"})]),a("button",{onClick:ue,class:"p-2 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors"},[i(e(ye),{class:"h-5 w-5"})])])):b("",!0),V.value?(o(),f("div",Jt,r(R.value+1)+" / "+r(t.product.images_count),1)):b("",!0),W.value?(o(),f("div",Zt,[i(e(Xe),{class:"h-3 w-3 inline mr-1"}),C(" "+r(e(s)("product.clickToZoom")),1)])):b("",!0)]),V.value?(o(),f("div",es,[a("div",ts,[(o(!0),f(N,null,L(ae.value,(p,H)=>(o(),f("button",{key:p.id||H,onClick:Ma=>Oe(H),class:q(["flex-shrink-0 w-20 h-20 rounded-md overflow-hidden border-2 transition-all",R.value===H?"border-primary ring-2 ring-primary/20":"border-gray-200 hover:border-gray-300"])},[a("img",{src:p.url,alt:p.alt||t.product.name,class:"w-full h-full object-cover"},null,8,as)],10,ss))),128))]),a("p",os,r(t.product.images_count)+" "+r(e(s)("product.imagesAvailable"))+" • "+r(e(s)("product.clickThumbnails")),1)])):b("",!0)]),a("div",ls,[i(e(j),{variant:"outline",class:"capitalize"},{default:u(()=>[C(r(t.product.category?.name||"Uncategorized"),1)]),_:1}),a("h1",rs,r(t.product.name),1),a("div",ns,[a("span",is,"$"+r(Me(Pe.value)),1),t.product.is_donatable?(o(),f("p",us,r(e(s)("product.donationItem")),1)):b("",!0)]),U.value?(o(),f("div",{key:0,class:q(Ae.value)},[(o(),y(_e(Be.value),{class:"h-4 w-4 flex-shrink-0"})),a("span",null,r(U.value),1),T.value==="error"||T.value==="warning"?(o(),f("button",{key:0,onClick:m[0]||(m[0]=p=>{U.value="",T.value=""}),class:"ml-auto"},[i(e(ge),{class:"h-4 w-4"})])):b("",!0)],2)):b("",!0),t.product.has_variants&&t.product.available_colors?(o(),f("div",cs,[a("h4",ds,r(e(s)("product.selectColor"))+":",1),a("div",fs,[(o(!0),f(N,null,L(t.product.available_colors,p=>(o(),f("button",{key:p.id,onClick:H=>ze(p.id),class:q(["w-12 h-12 rounded-full border-2 transition-all",O.value===p.id?"ring-2 ring-primary ring-offset-2":"border-gray-300"]),style:Ke({backgroundColor:p.hex_code}),title:p.name},null,14,ps))),128))]),O.value?(o(),f("p",ms,r(e(s)("product.selected"))+": "+r(t.product.available_colors.find(p=>p.id===O.value)?.name),1)):b("",!0)])):b("",!0),t.product.has_variants&&oe.value.length>0?(o(),f("div",vs,[a("h4",gs,r(e(s)("product.selectSize"))+":",1),a("div",hs,[(o(!0),f(N,null,L(oe.value,p=>(o(),f("button",{key:p.id,onClick:H=>Fe(p.id),class:q(["px-4 py-2 border rounded-md transition-all",A.value===p.id?"border-primary bg-primary text-white":"border-gray-300 hover:border-primary"])},r(p.name),11,ys))),128))]),A.value?(o(),f("p",_s,r(e(s)("product.selected"))+": "+r(oe.value.find(p=>p.id===A.value)?.name),1)):b("",!0)])):b("",!0),a("div",bs,[F.value.type==="in-stock"||F.value.type==="variants-available"?(o(),f("div",xs,[m[6]||(m[6]=a("div",{class:"w-2 h-2 bg-success rounded-full"},null,-1)),a("span",ks,r(F.value.message),1)])):F.value.type==="donation"?(o(),f("div",ws,[m[7]||(m[7]=a("div",{class:"w-2 h-2 bg-info rounded-full"},null,-1)),a("span",Cs,r(F.value.message),1)])):F.value.type==="out-of-stock"?(o(),f("div",$s,[m[8]||(m[8]=a("div",{class:"w-2 h-2 bg-destructive rounded-full"},null,-1)),a("span",Ds,r(F.value.message),1)])):b("",!0),t.product.has_variants&&(!O.value||!A.value)?(o(),f("div",Os,r(e(s)("product.pleaseSelect"))+" "+r(O.value?"":e(s)("product.color"))+r(!O.value&&!A.value?` ${e(s)("product.and")} `:"")+r(A.value?"":e(s)("product.size")),1)):b("",!0)]),fe.value||F.value.type==="variants-available"?(o(),f("div",Is,[a("div",Ps,[a("label",qs,r(e(s)("product.quantity")),1),a("div",Bs,[a("div",As,[i(e(M),{size:"sm",variant:"ghost",onClick:Ee,disabled:k.value<=1||z.value,class:"h-10 w-10 p-0"},{default:u(()=>[i(e(We),{class:"h-4 w-4"})]),_:1},8,["disabled"]),i(e(Je),{modelValue:k.value,"onUpdate:modelValue":m[1]||(m[1]=p=>k.value=p),modelModifiers:{number:!0},max:X.value,min:"1",type:"number",disabled:z.value,class:"h-10 w-16 text-center border-0"},null,8,["modelValue","max","disabled"]),i(e(M),{size:"sm",variant:"ghost",onClick:Se,disabled:k.value>=X.value||z.value,class:"h-10 w-10 p-0"},{default:u(()=>[i(e(it),{class:"h-4 w-4"})]),_:1},8,["disabled"])]),a("span",Ms,r(e(s)("product.max"))+": "+r(X.value),1)])]),i(e(M),{onClick:Re,disabled:!fe.value||z.value,size:"lg",class:q(["w-full",z.value?"opacity-75 cursor-not-allowed":""])},{default:u(()=>[z.value?(o(),f("div",zs)):(o(),y(e(re),{key:0,class:"h-4 w-4 mr-2"})),C(" "+r(e(s)("product.addToCart")),1)]),_:1},8,["disabled","class"]),a("div",Fs,[a("div",Ss,[i(e(zt),{class:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),a("div",Es,[a("h4",Rs,r(e(s)("productDetail.information")),1),a("p",Ts,r(e(s)("productDetail.deliveryInfo")),1)])])])])):t.product.has_variants&&F.value.type==="variants-available"?(o(),f("div",js,[a("p",Ns,r(e(s)("product.pleaseSelectColorSize")),1)])):b("",!0)])]),i(e(jt),{open:h.value,"onUpdate:open":m[5]||(m[5]=p=>h.value=p)},{default:u(()=>[i(e(Ut),{class:"sm:max-w-md"},{default:u(()=>[i(e(Kt),null,{default:u(()=>[i(e(Ht),{class:"flex items-center gap-2 text-xl"},{default:u(()=>[i(e(re),{class:"h-5 w-5 text-primary"}),C(" "+r(e(s)("productDetail.accountRequired")),1)]),_:1}),i(e(Vt),{class:"text-base pt-2"},{default:u(()=>[C(r(e(s)("productDetail.accountRequiredDesc")),1)]),_:1})]),_:1}),a("div",Us,[a("div",Vs,[a("p",Ls,r(e(s)("productDetail.withAccountYouCan")),1),a("ul",Ks,[a("li",Hs,[i(e(Q),{class:"h-4 w-4 text-success"}),C(" "+r(e(s)("productDetail.saveItemsToCart")),1)]),a("li",Qs,[i(e(Q),{class:"h-4 w-4 text-success"}),C(" "+r(e(s)("productDetail.trackYourOrders")),1)]),a("li",Ws,[i(e(Q),{class:"h-4 w-4 text-success"}),C(" "+r(e(s)("productDetail.fastCheckout")),1)])])])]),i(e(Lt),{class:"flex-col sm:flex-col gap-3"},{default:u(()=>[i(e(M),{onClick:m[2]||(m[2]=p=>d()),size:"lg",class:"w-full"},{default:u(()=>[i(e(ut),{class:"h-4 w-4 mr-2"}),C(" "+r(e(s)("productDetail.createAccount")),1)]),_:1}),i(e(M),{onClick:m[3]||(m[3]=p=>_()),variant:"outline",size:"lg",class:"w-full"},{default:u(()=>[i(e(Mt),{class:"h-4 w-4 mr-2"}),C(" "+r(e(s)("productDetail.logIn")),1)]),_:1}),i(e(M),{onClick:m[4]||(m[4]=p=>h.value=!1),variant:"ghost",size:"sm",class:"w-full"},{default:u(()=>[C(r(e(s)("productDetail.continueBrowsing")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),se.value&&W.value?(o(),f("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:de},[a("div",Gs,[a("img",{src:W.value,alt:t.product.name,class:"max-w-full max-h-full object-contain"},null,8,Xs),a("button",{onClick:de,class:"absolute top-4 right-4 text-white hover:text-gray-300 text-2xl bg-black/50 rounded-full w-10 h-10 flex items-center justify-center"}," × "),V.value?(o(),f("div",Ys,[a("button",{onClick:pe(ce,["stop"]),class:"p-3 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors"},[i(e(he),{class:"h-6 w-6"})]),a("button",{onClick:pe(ue,["stop"]),class:"p-3 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors"},[i(e(ye),{class:"h-6 w-6"})])])):b("",!0)])])):b("",!0)],64))}}),Zs=$e(Js,[["__scopeId","data-v-b790c461"]]),ea={class:"prose max-w-none"},ta={key:0},sa={class:"text-xl font-semibold mb-4"},aa={class:"text-muted-foreground leading-relaxed whitespace-pre-line"},oa={class:"font-semibold mb-3"},la={class:"space-y-2"},ra={class:"text-muted-foreground"},na={class:"font-semibold mb-4"},ia={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},ua={class:"text-muted-foreground font-medium"},ca={class:"font-semibold"},da={class:"text-muted-foreground"},fa=w({__name:"ProductDescription",props:{description:{},specifications:{},features:{},className:{default:"mb-12"}},setup(t){const{t:s}=ee(),n=t.description||t.specifications||t.features?.length;return(c,l)=>e(n)?(o(),y(e(J),{key:0,class:q(t.className)},{default:u(()=>[i(e(Z),{class:"p-6"},{default:u(()=>[a("div",ea,[t.description?(o(),f("div",ta,[a("h3",sa,r(e(s)("product.description")),1),a("div",aa,r(t.description),1)])):b("",!0),t.features?.length?(o(),f("div",{key:1,class:q({"mt-8":t.description})},[a("h4",oa,r(e(s)("productDetail.keyFeatures")),1),a("ul",la,[(o(!0),f(N,null,L(t.features,(g,h)=>(o(),f("li",{key:h,class:"flex items-start space-x-2"},[l[0]||(l[0]=a("div",{class:"w-1.5 h-1.5 bg-primary/80 rounded-full mt-2 flex-shrink-0"},null,-1)),a("span",ra,r(g),1)]))),128))])],2)):b("",!0),t.specifications?(o(),f("div",{key:2,class:q({"mt-8":t.description||t.features?.length})},[a("h4",na,r(e(s)("product.details")),1),a("div",ia,[(o(!0),f(N,null,L(t.specifications,(g,h)=>(o(),f("div",{key:h,class:"flex justify-between items-center py-2 px-3 bg-muted/30 rounded-lg"},[a("span",ua,r(h)+":",1),a("span",ca,r(g),1)]))),128))])],2)):b("",!0)])]),_:1})]),_:1},8,["class"])):(o(),y(e(J),{key:1,class:q(t.className)},{default:u(()=>[i(e(Z),{class:"p-6 text-center"},{default:u(()=>[a("p",da,r(e(s)("productDetail.noAdditionalInfo")),1)]),_:1})]),_:1},8,["class"]))}}),pa={class:"flex items-center justify-between"},ma={class:"text-2xl font-bold"},va={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},ga={class:"relative overflow-hidden"},ha=["src","alt"],ya={class:"absolute top-3 left-3"},_a={class:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-all duration-300"},ba={class:"absolute bottom-3 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-all duration-300"},xa={class:"font-semibold line-clamp-2 group-hover:text-primary transition-colors"},ka=["href"],wa={class:"flex items-center justify-between"},Ca={class:"flex flex-col"},$a={class:"text-lg font-bold text-primary"},Da={key:0,class:"text-sm text-muted-foreground line-through"},Oa={class:"flex space-x-2"},Ia={key:0,class:"text-center"},Pa=w({__name:"RelatedProducts",props:{products:{},title:{default:"Related Products"},maxItems:{default:4},className:{default:""}},setup(t){const{t:s}=ee(),{localizedUrl:n,productUrl:c}=ie(),l=h=>parseFloat(h.toString()).toFixed(2),g=t.products.slice(0,t.maxItems);return(h,_)=>t.products.length?(o(),f("div",{key:0,class:q(`space-y-6 ${t.className}`)},[a("div",pa,[a("h2",ma,r(t.title),1),t.products.length>t.maxItems?(o(),y(e(M),{key:0,variant:"outline",size:"sm",as:"a",href:e(n)("/products")},{default:u(()=>[C(r(e(s)("productDetail.viewAll")),1)]),_:1},8,["href"])):b("",!0)]),a("div",va,[(o(!0),f(N,null,L(e(g),d=>(o(),y(e(J),{key:d.id,class:"group overflow-hidden hover:shadow-xl hover:scale-[1.02] transition-all duration-500 cursor-pointer border-0 shadow-md"},{default:u(()=>[a("div",ga,[a("img",{src:d.image||"/placeholder-product.jpg",alt:d.name,class:"h-48 w-full object-cover group-hover:scale-110 transition-transform duration-700",loading:"lazy"},null,8,ha),a("div",ya,[d.is_donatable?(o(),y(e(j),{key:0,class:"bg-warning text-warning-foreground"},{default:u(()=>[C(r(e(s)("product.donation")),1)]),_:1})):d.stock<10&&d.stock>0?(o(),y(e(j),{key:1,variant:"destructive"},{default:u(()=>[C(r(e(s)("productDetail.onlyLeft",{count:d.stock})),1)]),_:2},1024)):d.stock===0?(o(),y(e(j),{key:2,variant:"destructive"},{default:u(()=>[C(r(e(s)("product.outOfStock")),1)]),_:1})):d.original_price&&d.original_price>d.price?(o(),y(e(j),{key:3,class:"bg-destructive/80 text-destructive-foreground"},{default:u(()=>[C(r(Math.round((d.original_price-d.price)/d.original_price*100))+"% OFF ",1)]),_:2},1024)):b("",!0)]),a("div",_a,[i(e(M),{size:"icon",variant:"secondary",class:"shadow-lg mb-2",title:"Add to wishlist"},{default:u(()=>[i(e(ct),{class:"h-4 w-4"})]),_:1})]),a("div",ba,[i(e(M),{size:"sm",variant:"secondary",class:"shadow-lg",as:"a",href:e(c)(d.slug)},{default:u(()=>[C(r(e(s)("productDetail.quickView")),1)]),_:1},8,["href"])])]),i(e(Z),{class:"p-4 space-y-3"},{default:u(()=>[a("h3",xa,[a("a",{href:e(c)(d.slug),class:"hover:underline"},r(d.name),9,ka)]),i(e(j),{variant:"outline",class:"text-xs capitalize"},{default:u(()=>[C(r(d.category?.name||"Uncategorized"),1)]),_:2},1024),a("div",wa,[a("div",Ca,[a("span",$a," $"+r(l(d.price)),1),d.original_price&&d.original_price>d.price?(o(),f("span",Da," $"+r(l(d.original_price)),1)):b("",!0)]),a("div",Oa,[i(e(M),{size:"sm",variant:"outline",as:"a",href:e(c)(d.slug),class:"hover:scale-105 transition-all duration-300"},{default:u(()=>[C(r(e(s)("productDetail.view")),1)]),_:1},8,["href"])])])]),_:2},1024)]),_:2},1024))),128))]),t.products.length>t.maxItems?(o(),f("div",Ia,[i(e(M),{variant:"outline",as:"a",href:e(n)("/products")},{default:u(()=>[C(r(e(s)("productDetail.viewMoreProducts",{count:t.products.length-t.maxItems})),1)]),_:1},8,["href"])])):b("",!0)],2)):b("",!0)}}),qa=$e(Pa,[["__scopeId","data-v-c7a20f65"]]),Ba={class:"min-h-screen bg-background text-foreground"},Aa={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ro=w({__name:"ProductDetail",props:{product:{type:Object,required:!0},relatedProducts:{type:Array,default:()=>[]},categories:{type:Array,default:()=>[]},auth:{type:Object,default:()=>({})},cartItems:{type:Array,default:()=>[]},settings:{type:Object,default:()=>({})}},setup(t){const{t:s}=ee(),{localizedUrl:n}=ie(),c=t.settings.site_name||"Elegant Store",l=t.auth.user,g=$(()=>[{label:s("nav.home"),href:n("/")},{label:s("nav.products"),href:n("/products")},{label:t.product.category?.name||"Uncategorized",href:n(`/products?category=${t.product.category?.slug}`)},{label:t.product.name,isActive:!0}]);return(h,_)=>(o(),f("div",Ba,[i(e(He),{title:t.product.name},null,8,["title"]),i(Qe,{categories:t.categories,cartItems:t.cartItems,user:e(l),siteName:e(c),settings:t.settings},null,8,["categories","cartItems","user","siteName","settings"]),a("div",Aa,[i(Ge,{items:g.value},null,8,["items"]),i(Ft,{href:e(n)("/products"),label:e(s)("common.back")},null,8,["href","label"]),i(Tt,{icon:"cart",dismissible:!0}),i(Zs,{product:t.product,user:e(l)},null,8,["product","user"]),i(fa,{description:t.product.description,specifications:t.product.specifications,features:t.product.features},null,8,["description","specifications","features"]),i(qa,{products:t.relatedProducts,title:e(s)("home.featuredProducts"),maxItems:4},null,8,["products","title"])])]))}});export{ro as default};
