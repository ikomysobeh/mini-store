import{d as j,m as N,v as O,u as l,h as r,n as F,z as G,o as i,g as e,e as a,i as S,b as m,f as p,t as v,s as Q,F as U,p as P,A as q,r as M,B as R,x as D,a as L,w as H,c as I}from"./app-Z0p12ZY1.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-DvD9KkSn.js";import{u as J,a as W,_ as w}from"./index-C6EVsNTI.js";import{_ as h}from"./Label.vue_vue_type_script_setup_true_lang-CRV5D4cp.js";import{P as X}from"./plus-BfDFAFPT.js";import{T}from"./trash-2-DG6Polf9.js";import{_ as Y}from"./Checkbox.vue_vue_type_script_setup_true_lang-BjWbS_21.js";import{_ as Z}from"./index-D-oT8fIx.js";import{E as ee}from"./eye-off-C_XkJPFs.js";import{E as te}from"./eye-BtYLyr3j.js";import{R as se}from"./refresh-cw-DmoQ71s3.js";const oe=j({__name:"Textarea",props:{class:{},defaultValue:{},modelValue:{}},emits:["update:modelValue"],setup(s,{emit:C}){const o=s,b=J(o,"modelValue",C,{passive:!0,defaultValue:o.defaultValue});return(z,_)=>N((i(),r("textarea",{"onUpdate:modelValue":_[0]||(_[0]=$=>G(b)?b.value=$:null),class:F(l(W)("flex min-h-20 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",o.class))},null,2)),[[O,l(b)]])}}),le={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ae={class:"space-y-6"},de={key:0,class:"text-red-500 text-sm mt-1"},ie={key:0,class:"text-red-500 text-sm mt-1"},re={class:"grid grid-cols-2 gap-4"},ne={key:0,class:"text-red-500 text-sm mt-1"},ue={key:0,class:"text-red-500 text-sm mt-1"},me=["value"],ce={key:0,class:"text-red-500 text-sm mt-1"},ve={class:"space-y-6"},fe={key:0,class:"text-red-500 text-sm mt-1"},pe={class:"space-y-4"},xe={class:"flex items-center space-x-2"},ge={class:"flex items-center space-x-2"},St=j({__name:"BasicProductForm",props:{form:{type:Object,required:!0},categories:{type:Array,required:!0}},setup(s){return(C,o)=>(i(),r("div",le,[e("div",ae,[e("div",null,[a(l(h),{for:"name"},{default:m(()=>[...o[8]||(o[8]=[p("Product Name *",-1)])]),_:1}),a(l(V),{id:"name",modelValue:s.form.name,"onUpdate:modelValue":o[0]||(o[0]=t=>s.form.name=t),type:"text",required:"",class:"mt-1",placeholder:"Enter product name"},null,8,["modelValue"]),s.form.errors?.name?(i(),r("div",de,v(s.form.errors.name),1)):S("",!0)]),e("div",null,[a(l(h),{for:"description"},{default:m(()=>[...o[9]||(o[9]=[p("Description",-1)])]),_:1}),a(l(oe),{id:"description",modelValue:s.form.description,"onUpdate:modelValue":o[1]||(o[1]=t=>s.form.description=t),rows:"4",class:"mt-1",placeholder:"Product description..."},null,8,["modelValue"]),s.form.errors?.description?(i(),r("div",ie,v(s.form.errors.description),1)):S("",!0)]),e("div",re,[e("div",null,[a(l(h),{for:"price"},{default:m(()=>[...o[10]||(o[10]=[p("Base Price ($) *",-1)])]),_:1}),a(l(V),{id:"price",modelValue:s.form.price,"onUpdate:modelValue":o[2]||(o[2]=t=>s.form.price=t),modelModifiers:{number:!0},type:"number",step:"0.01",min:"0",required:"",class:"mt-1",placeholder:"0.00"},null,8,["modelValue"]),s.form.errors?.price?(i(),r("div",ne,v(s.form.errors.price),1)):S("",!0)]),e("div",null,[a(l(h),{for:"stock"},{default:m(()=>[...o[11]||(o[11]=[p("Base Stock *",-1)])]),_:1}),a(l(V),{id:"stock",modelValue:s.form.stock,"onUpdate:modelValue":o[3]||(o[3]=t=>s.form.stock=t),modelModifiers:{number:!0},type:"number",min:"0",required:"",class:"mt-1",placeholder:"0"},null,8,["modelValue"]),o[12]||(o[12]=e("small",{class:"text-gray-500 block mt-1"},"Used when no variants are created",-1)),s.form.errors?.stock?(i(),r("div",ue,v(s.form.errors.stock),1)):S("",!0)])]),e("div",null,[a(l(h),{for:"category_id"},{default:m(()=>[...o[13]||(o[13]=[p("Category *",-1)])]),_:1}),N(e("select",{id:"category_id","onUpdate:modelValue":o[4]||(o[4]=t=>s.form.category_id=t),required:"",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm mt-1"},[o[14]||(o[14]=e("option",{value:""},"Select a category",-1)),(i(!0),r(U,null,P(s.categories,t=>(i(),r("option",{key:t.id,value:t.id},v(t.name),9,me))),128))],512),[[Q,s.form.category_id]]),s.form.errors?.category_id?(i(),r("div",ce,v(s.form.errors.category_id),1)):S("",!0)])]),e("div",ve,[e("div",null,[a(l(h),{for:"image"},{default:m(()=>[...o[15]||(o[15]=[p("Product Image",-1)])]),_:1}),a(l(V),{id:"image",type:"file",accept:"image/*",onChange:o[5]||(o[5]=t=>s.form.image=t.target.files[0]),class:"mt-1"}),s.form.errors?.image?(i(),r("div",fe,v(s.form.errors.image),1)):S("",!0)]),e("div",pe,[e("div",xe,[N(e("input",{id:"is_active","onUpdate:modelValue":o[6]||(o[6]=t=>s.form.is_active=t),type:"checkbox",class:"rounded border-gray-300"},null,512),[[q,s.form.is_active]]),a(l(h),{for:"is_active"},{default:m(()=>[...o[16]||(o[16]=[p("Active Product",-1)])]),_:1})]),e("div",ge,[N(e("input",{id:"is_donatable","onUpdate:modelValue":o[7]||(o[7]=t=>s.form.is_donatable=t),type:"checkbox",class:"rounded border-gray-300"},null,512),[[q,s.form.is_donatable]]),a(l(h),{for:"is_donatable"},{default:m(()=>[...o[17]||(o[17]=[p("Available for Donations",-1)])]),_:1})])])])]))}}),ye={class:"space-y-4"},be={class:"space-y-3 p-4 border rounded-lg bg-muted/20"},he={class:"flex gap-3"},ke={class:"flex-1"},_e={class:"relative"},$e={key:0,class:"space-y-2"},Ve={class:"space-y-2"},we={class:"flex items-center space-x-3"},ze=["title"],Ce={class:"font-medium"},Se={class:"text-sm text-muted-foreground"},Ae={key:1,class:"text-center py-6 text-muted-foreground"},At=j({__name:"ColorManager",props:{colors:{type:Array,default:()=>[]}},emits:["update:colors"],setup(s,{emit:C}){const o=C,t=M({name:"",hex:"#000000"}),b=()=>"temp_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),z=()=>{if(!t.value.name.trim())return;const y=[...s.colors,{id:b(),name:t.value.name.trim(),hex:t.value.hex,is_active:!0}];o("update:colors",y),t.value={name:"",hex:"#000000"}},_=y=>{const g=s.colors.filter(c=>c.id!==y);o("update:colors",g)},$=y=>{y.preventDefault(),z()};return(y,g)=>(i(),r("div",ye,[e("div",be,[a(l(h),{class:"text-sm font-medium"},{default:m(()=>[...g[2]||(g[2]=[p("Add New Color",-1)])]),_:1}),e("div",he,[e("div",ke,[a(l(V),{modelValue:t.value.name,"onUpdate:modelValue":g[0]||(g[0]=c=>t.value.name=c),placeholder:"Color name (e.g., Red)",onKeydown:R($,["enter"]),class:"h-9"},null,8,["modelValue"])]),e("div",_e,[N(e("input",{"onUpdate:modelValue":g[1]||(g[1]=c=>t.value.hex=c),type:"color",class:"w-16 h-9 rounded border border-input cursor-pointer",style:D({backgroundColor:t.value.hex})},null,4),[[O,t.value.hex]])]),a(l(w),{type:"button",onClick:z,size:"sm",disabled:!t.value.name.trim()},{default:m(()=>[a(l(X),{class:"h-4 w-4 mr-1"}),g[3]||(g[3]=p(" Add ",-1))]),_:1},8,["disabled"])])]),s.colors.length>0?(i(),r("div",$e,[a(l(h),{class:"text-sm font-medium"},{default:m(()=>[p("Selected Colors ("+v(s.colors.length)+")",1)]),_:1}),e("div",Ve,[(i(!0),r(U,null,P(s.colors,c=>(i(),r("div",{key:c.id,class:"flex items-center justify-between p-3 border rounded-lg bg-background hover:bg-muted/50 transition-colors"},[e("div",we,[e("div",{class:"w-6 h-6 rounded-full border-2 border-gray-200",style:D({backgroundColor:c.hex}),title:c.hex},null,12,ze),e("span",Ce,v(c.name),1),e("span",Se,v(c.hex),1)]),a(l(w),{type:"button",variant:"ghost",size:"sm",onClick:n=>_(c.id),class:"text-red-600 hover:text-red-700 hover:bg-red-50"},{default:m(()=>[a(l(T),{class:"h-4 w-4"})]),_:1},8,["onClick"])]))),128))])])):(i(),r("div",Ae,[...g[4]||(g[4]=[e("div",{class:"text-sm"},"No colors added yet",-1),e("div",{class:"text-xs"},"Add colors to create product variants",-1)])]))]))}}),Ue={class:"space-y-4"},Pe={class:"space-y-3 p-4 border rounded-lg bg-muted/20"},Ne={class:"flex gap-2"},Me={class:"space-y-3"},je={class:"space-y-2"},Ee={class:"w-20 text-muted-foreground capitalize"},Be={class:"flex flex-wrap gap-1"},Ie={key:0,class:"space-y-2"},Fe={class:"space-y-2"},De={class:"flex items-center space-x-3"},Le={class:"px-2 py-1 bg-primary/10 text-primary rounded text-sm font-medium"},Te={key:1,class:"text-center py-6 text-muted-foreground"},Ut=j({__name:"SizeManager",props:{sizes:{type:Array,default:()=>[]}},emits:["update:sizes"],setup(s,{emit:C}){const o=C,t=M(""),b=[{category:"clothing",sizes:["XS","S","M","L","XL","XXL"]},{category:"shoes",sizes:["36","37","38","39","40","41","42","43","44","45"]},{category:"general",sizes:["Small","Medium","Large","One Size"]}],z=()=>"temp_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),_=(c=null)=>{const n=(c||t.value).trim();if(!n||s.sizes.some(k=>k.name.toLowerCase()===n.toLowerCase()))return;const u=[...s.sizes,{id:z(),name:n,category_type:"general",is_active:!0}];o("update:sizes",u),t.value=""},$=c=>{const n=s.sizes.filter(u=>u.id!==c);o("update:sizes",n)},y=c=>{c.forEach(n=>{s.sizes.some(u=>u.name.toLowerCase()===n.toLowerCase())||_(n)})},g=c=>{c.preventDefault(),_()};return(c,n)=>(i(),r("div",Ue,[e("div",Pe,[a(l(h),{class:"text-sm font-medium"},{default:m(()=>[...n[2]||(n[2]=[p("Add New Size",-1)])]),_:1}),e("div",Ne,[a(l(V),{modelValue:t.value,"onUpdate:modelValue":n[0]||(n[0]=u=>t.value=u),placeholder:"Size name (e.g., M)",onKeydown:R(g,["enter"]),class:"flex-1 h-9"},null,8,["modelValue"]),a(l(w),{type:"button",onClick:n[1]||(n[1]=u=>_()),size:"sm",disabled:!t.value.trim()},{default:m(()=>[a(l(X),{class:"h-4 w-4 mr-1"}),n[3]||(n[3]=p(" Add ",-1))]),_:1},8,["disabled"])])]),e("div",Me,[a(l(h),{class:"text-sm font-medium"},{default:m(()=>[...n[4]||(n[4]=[p("Quick Add Common Sizes",-1)])]),_:1}),e("div",je,[(i(),r(U,null,P(b,u=>e("div",{key:u.category,class:"flex items-center gap-2 text-sm"},[e("span",Ee,v(u.category)+":",1),e("div",Be,[(i(!0),r(U,null,P(u.sizes,k=>(i(),L(l(w),{key:k,type:"button",variant:"outline",size:"sm",onClick:E=>_(k),disabled:s.sizes.some(E=>E.name===k),class:"h-7 px-2 text-xs"},{default:m(()=>[p(v(k),1)]),_:2},1032,["onClick","disabled"]))),128))]),a(l(w),{type:"button",variant:"ghost",size:"sm",onClick:k=>y(u.sizes),class:"ml-2 h-7 px-2 text-xs"},{default:m(()=>[...n[5]||(n[5]=[p(" Add All ",-1)])]),_:1},8,["onClick"])])),64))])]),s.sizes.length>0?(i(),r("div",Ie,[a(l(h),{class:"text-sm font-medium"},{default:m(()=>[p("Selected Sizes ("+v(s.sizes.length)+")",1)]),_:1}),e("div",Fe,[(i(!0),r(U,null,P(s.sizes,u=>(i(),r("div",{key:u.id,class:"flex items-center justify-between p-3 border rounded-lg bg-background hover:bg-muted/50 transition-colors"},[e("div",De,[e("div",Le,v(u.name),1)]),a(l(w),{type:"button",variant:"ghost",size:"sm",onClick:k=>$(u.id),class:"text-red-600 hover:text-red-700 hover:bg-red-50"},{default:m(()=>[a(l(T),{class:"h-4 w-4"})]),_:1},8,["onClick"])]))),128))])])):(i(),r("div",Te,[...n[6]||(n[6]=[e("div",{class:"text-sm"},"No sizes added yet",-1),e("div",{class:"text-xs"},"Add sizes to create product variants",-1)])]))]))}}),qe={class:"space-y-4"},Oe={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-muted/30 rounded-lg"},Re={class:"text-center"},Xe={class:"text-2xl font-bold text-primary"},Ke={class:"text-center"},Ge={class:"text-2xl font-bold text-green-600"},Qe={class:"text-center"},He={class:"text-2xl font-bold text-blue-600"},Je={key:1,class:"p-4 border rounded-lg space-y-3"},We={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},Ye={class:"flex gap-2"},Ze={class:"flex gap-2"},et={key:2,class:"border rounded-lg overflow-hidden"},tt={class:"overflow-x-auto"},st={class:"w-full"},ot={class:"divide-y"},lt={class:"p-3"},at={class:"flex items-center space-x-2"},dt={class:"text-sm font-medium"},it={class:"p-3"},rt={class:"p-3"},nt={class:"p-3"},ut={class:"flex items-center space-x-1"},mt={class:"p-3"},ct={class:"text-sm font-medium text-green-600"},vt={class:"p-3"},ft={class:"flex items-center space-x-2"},pt={class:"p-3"},xt={key:3,class:"text-center py-8 text-muted-foreground border rounded-lg"},Pt=j({__name:"VariantMatrix",props:{variants:{type:Array,default:()=>[]},basePrice:{type:[Number,String],default:0}},emits:["update:variants"],setup(s,{emit:C}){const o=C,t=M([...s.variants]);H(()=>s.variants,f=>{t.value=[...f]},{deep:!0});const b=()=>{o("update:variants",t.value)},z=(f,d,x)=>{t.value[f][d]=x,b()},_=f=>{t.value.splice(f,1),b()},$=M(""),y=M(""),g=()=>{const f=parseInt($.value);isNaN(f)||f<0||(t.value.forEach(d=>{d.stock=f}),b(),$.value="")},c=()=>{const f=parseFloat(y.value);isNaN(f)||(t.value.forEach(d=>{d.price_adjustment=f}),b(),y.value="")},n=()=>{const f=t.value.every(d=>d.is_active);t.value.forEach(d=>{d.is_active=!f}),b()},u=I(()=>t.value.length),k=I(()=>t.value.filter(f=>f.is_active).length),E=I(()=>t.value.reduce((f,d)=>f+(parseInt(d.stock)||0),0)),K=f=>{const d=parseFloat(s.basePrice)||0,x=parseFloat(f.price_adjustment)||0;return d+x};return(f,d)=>(i(),r("div",qe,[u.value>0?(i(),r("div",Oe,[e("div",Re,[e("div",Xe,v(u.value),1),d[2]||(d[2]=e("div",{class:"text-sm text-muted-foreground"},"Total Variants",-1))]),e("div",Ke,[e("div",Ge,v(k.value),1),d[3]||(d[3]=e("div",{class:"text-sm text-muted-foreground"},"Active Variants",-1))]),e("div",Qe,[e("div",He,v(E.value),1),d[4]||(d[4]=e("div",{class:"text-sm text-muted-foreground"},"Total Stock",-1))])])):S("",!0),u.value>0?(i(),r("div",Je,[d[7]||(d[7]=e("h4",{class:"font-medium"},"Bulk Operations",-1)),e("div",We,[e("div",Ye,[a(l(V),{modelValue:$.value,"onUpdate:modelValue":d[0]||(d[0]=x=>$.value=x),type:"number",min:"0",placeholder:"Set all stock",class:"h-8 text-sm"},null,8,["modelValue"]),a(l(w),{onClick:g,size:"sm",variant:"outline",disabled:!$.value},{default:m(()=>[...d[5]||(d[5]=[p(" Apply Stock ",-1)])]),_:1},8,["disabled"])]),e("div",Ze,[a(l(V),{modelValue:y.value,"onUpdate:modelValue":d[1]||(d[1]=x=>y.value=x),type:"number",step:"0.01",placeholder:"Set all adjustments",class:"h-8 text-sm"},null,8,["modelValue"]),a(l(w),{onClick:c,size:"sm",variant:"outline",disabled:!y.value},{default:m(()=>[...d[6]||(d[6]=[p(" Apply Price ",-1)])]),_:1},8,["disabled"])]),a(l(w),{onClick:n,size:"sm",variant:"outline",class:"w-full"},{default:m(()=>[k.value===u.value?(i(),L(l(ee),{key:0,class:"h-4 w-4 mr-2"})):(i(),L(l(te),{key:1,class:"h-4 w-4 mr-2"})),p(" "+v(k.value===u.value?"Deactivate All":"Activate All"),1)]),_:1})])])):S("",!0),u.value>0?(i(),r("div",et,[e("div",tt,[e("table",st,[d[9]||(d[9]=e("thead",{class:"bg-muted/50"},[e("tr",null,[e("th",{class:"text-left p-3 font-medium text-sm"},"Color"),e("th",{class:"text-left p-3 font-medium text-sm"},"Size"),e("th",{class:"text-left p-3 font-medium text-sm"},"Stock"),e("th",{class:"text-left p-3 font-medium text-sm"},"Price Adj."),e("th",{class:"text-left p-3 font-medium text-sm"},"Final Price"),e("th",{class:"text-left p-3 font-medium text-sm"},"Status"),e("th",{class:"text-left p-3 font-medium text-sm"},"Actions")])],-1)),e("tbody",ot,[(i(!0),r(U,null,P(t.value,(x,B)=>(i(),r("tr",{key:`${x.color_id}-${x.size_id}`,class:F(["hover:bg-muted/30 transition-colors",{"opacity-50":!x.is_active}])},[e("td",lt,[e("div",at,[e("div",{class:"w-5 h-5 rounded-full border border-gray-300",style:D({backgroundColor:x.color_hex})},null,4),e("span",dt,v(x.color_name),1)])]),e("td",it,[a(l(Z),{variant:"outline"},{default:m(()=>[p(v(x.size_name),1)]),_:2},1024)]),e("td",rt,[a(l(V),{value:x.stock,onInput:A=>z(B,"stock",parseInt(A.target.value)||0),type:"number",min:"0",class:"h-8 w-20 text-sm"},null,8,["value","onInput"])]),e("td",nt,[e("div",ut,[d[8]||(d[8]=e("span",{class:"text-sm"},"$",-1)),a(l(V),{value:x.price_adjustment,onInput:A=>z(B,"price_adjustment",parseFloat(A.target.value)||0),type:"number",step:"0.01",class:"h-8 w-20 text-sm"},null,8,["value","onInput"])])]),e("td",mt,[e("span",ct," $"+v(K(x).toFixed(2)),1)]),e("td",vt,[e("div",ft,[a(l(Y),{checked:x.is_active,"onUpdate:checked":A=>z(B,"is_active",A)},null,8,["checked","onUpdate:checked"]),e("span",{class:F(["text-xs",x.is_active?"text-green-600":"text-red-600"])},v(x.is_active?"Active":"Inactive"),3)])]),e("td",pt,[a(l(w),{onClick:A=>_(B),size:"sm",variant:"ghost",class:"text-red-600 hover:text-red-700 hover:bg-red-50"},{default:m(()=>[a(l(T),{class:"h-4 w-4"})]),_:1},8,["onClick"])])],2))),128))])])])])):(i(),r("div",xt,[a(l(se),{class:"h-12 w-12 mx-auto mb-3 opacity-50"}),d[10]||(d[10]=e("h3",{class:"font-medium mb-1"},"No Variants Generated",-1)),d[11]||(d[11]=e("p",{class:"text-sm"},"Add colors and sizes above to automatically generate product variants",-1))]))]))}});export{St as _,At as a,Ut as b,Pt as c};
