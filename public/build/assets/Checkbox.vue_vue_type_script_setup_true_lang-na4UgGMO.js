import{P as A,d as M}from"./index-Bcf6u7tk.js";import{g as B,u as H,P as O,b as j}from"./Presence-W72F6K9b.js";import{c as I}from"./createContext-DAbNSS2T.js";import{a as C,i as V,u as D,c as L,V as N,b as U}from"./VisuallyHidden-BvYrQgDr.js";import{u as $}from"./useForwardExpose-BeT512t3.js";import{d as g,c as y,G,H as z,a as b,o as v,b as h,e as q,u as r,z as w,M as Y,w as W,A as _,h as S,i as K,F as x,p as J,s as Q,C as X,q as Z}from"./app-5XmJp0tI.js";import{u as ee}from"./index-XbchDXnr.js";import{C as te}from"./check-Dg8c3GM_.js";function F(a,e){return C(a)?!1:Array.isArray(a)?a.some(t=>V(t,e)):V(a,e)}const ae={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function re(a,e){return e!=="rtl"?a:a==="ArrowLeft"?"ArrowRight":a==="ArrowRight"?"ArrowLeft":a}function le(a,e,t){const o=re(a.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(o))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(o)))return ae[o]}function oe(a,e=!1){const t=B();for(const o of a)if(o===t||(o.focus({preventScroll:e}),B()!==t))return}function ue(a,e){return a.map((t,o)=>a[(e+o)%a.length])}const[ne]=I("RovingFocusGroup");var se=g({__name:"RovingFocusItem",props:{tabStopId:{type:String,required:!1},focusable:{type:Boolean,required:!1,default:!0},active:{type:Boolean,required:!1},allowShiftKey:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(a){const e=a,t=ne(),o=H(),n=y(()=>e.tabStopId||o),i=y(()=>t.currentTabStopId.value===n.value),{getItems:u,CollectionItem:d}=D();G(()=>{e.focusable&&t.onFocusableItemAdd()}),z(()=>{e.focusable&&t.onFocusableItemRemove()});function m(l){if(l.key==="Tab"&&l.shiftKey){t.onItemShiftTab();return}if(l.target!==l.currentTarget)return;const c=le(l,t.orientation.value,t.dir.value);if(c!==void 0){if(l.metaKey||l.ctrlKey||l.altKey||!e.allowShiftKey&&l.shiftKey)return;l.preventDefault();let f=[...u().map(p=>p.ref).filter(p=>p.dataset.disabled!=="")];if(c==="last")f.reverse();else if(c==="prev"||c==="next"){c==="prev"&&f.reverse();const p=f.indexOf(l.currentTarget);f=t.loop.value?ue(f,p+1):f.slice(p+1)}Y(()=>oe(f))}}return(l,c)=>(v(),b(r(d),null,{default:h(()=>[q(r(A),{tabindex:i.value?0:-1,"data-orientation":r(t).orientation.value,"data-active":l.active?"":void 0,"data-disabled":l.focusable?void 0:"",as:l.as,"as-child":l.asChild,onMousedown:c[0]||(c[0]=f=>{l.focusable?r(t).onItemFocus(n.value):f.preventDefault()}),onFocus:c[1]||(c[1]=f=>r(t).onItemFocus(n.value)),onKeydown:m},{default:h(()=>[w(l.$slots,"default")]),_:3},8,["tabindex","data-orientation","data-active","data-disabled","as","as-child"])]),_:3}))}}),ie=se,de=g({inheritAttrs:!1,__name:"VisuallyHiddenInputBubble",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(a){const e=a,{primitiveElement:t,currentElement:o}=L(),n=y(()=>e.checked??e.value);return W(n,(i,u)=>{if(!o.value)return;const d=o.value,m=window.HTMLInputElement.prototype,c=Object.getOwnPropertyDescriptor(m,"value").set;if(c&&i!==u){const f=new Event("input",{bubbles:!0}),p=new Event("change",{bubbles:!0});c.call(d,i),d.dispatchEvent(f),d.dispatchEvent(p)}}),(i,u)=>(v(),b(N,_({ref_key:"primitiveElement",ref:t},{...e,...i.$attrs},{as:"input"}),null,16))}}),R=de,ce=g({inheritAttrs:!1,__name:"VisuallyHiddenInput",props:{name:{type:String,required:!0},value:{type:null,required:!0},checked:{type:Boolean,required:!1,default:void 0},required:{type:Boolean,required:!1},disabled:{type:Boolean,required:!1},feature:{type:String,required:!1,default:"fully-hidden"}},setup(a){const e=a,t=y(()=>typeof e.value=="object"&&Array.isArray(e.value)&&e.value.length===0&&e.required),o=y(()=>typeof e.value=="string"||typeof e.value=="number"||typeof e.value=="boolean"||e.value===null||e.value===void 0?[{name:e.name,value:e.value}]:typeof e.value=="object"&&Array.isArray(e.value)?e.value.flatMap((n,i)=>typeof n=="object"?Object.entries(n).map(([u,d])=>({name:`${e.name}[${i}][${u}]`,value:d})):{name:`${e.name}[${i}]`,value:n}):e.value!==null&&typeof e.value=="object"&&!Array.isArray(e.value)?Object.entries(e.value).map(([n,i])=>({name:`${e.name}[${n}]`,value:i})):[]);return(n,i)=>(v(),S(x,null,[K(" We render single input if it's required "),t.value?(v(),b(R,_({key:n.name},{...e,...n.$attrs},{name:n.name,value:n.value}),null,16,["name","value"])):(v(!0),S(x,{key:1},J(o.value,u=>(v(),b(R,_({key:u.name},{ref_for:!0},{...e,...n.$attrs},{name:u.name,value:u.value}),null,16,["name","value"]))),128))],2112))}}),fe=ce;const[pe]=I("CheckboxGroupRoot");function k(a){return a==="indeterminate"}function P(a){return k(a)?"indeterminate":a?"checked":"unchecked"}const[ve,me]=I("CheckboxRoot");var ye=g({inheritAttrs:!1,__name:"CheckboxRoot",props:{defaultValue:{type:[Boolean,String],required:!1},modelValue:{type:[Boolean,String,null],required:!1,default:void 0},disabled:{type:Boolean,required:!1},value:{type:null,required:!1,default:"on"},id:{type:String,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"},name:{type:String,required:!1},required:{type:Boolean,required:!1}},emits:["update:modelValue"],setup(a,{emit:e}){const t=a,o=e,{forwardRef:n,currentElement:i}=$(),u=pe(null),d=ee(t,"modelValue",o,{defaultValue:t.defaultValue,passive:t.modelValue===void 0}),m=y(()=>u?.disabled.value||t.disabled),l=y(()=>C(u?.modelValue.value)?d.value==="indeterminate"?"indeterminate":d.value:F(u.modelValue.value,t.value));function c(){if(C(u?.modelValue.value))d.value=k(d.value)?!0:!d.value;else{const s=[...u.modelValue.value||[]];if(F(s,t.value)){const E=s.findIndex(T=>V(T,t.value));s.splice(E,1)}else s.push(t.value);u.modelValue.value=s}}const f=U(i),p=y(()=>t.id&&i.value?document.querySelector(`[for="${t.id}"]`)?.innerText:void 0);return me({disabled:m,state:l}),(s,E)=>(v(),b(Z(r(u)?.rovingFocus.value?r(ie):r(A)),_(s.$attrs,{id:s.id,ref:r(n),role:"checkbox","as-child":s.asChild,as:s.as,type:s.as==="button"?"button":void 0,"aria-checked":r(k)(l.value)?"mixed":l.value,"aria-required":s.required,"aria-label":s.$attrs["aria-label"]||p.value,"data-state":r(P)(l.value),"data-disabled":m.value?"":void 0,disabled:m.value,focusable:r(u)?.rovingFocus.value?!m.value:void 0,onKeydown:Q(X(()=>{},["prevent"]),["enter"]),onClick:c}),{default:h(()=>[w(s.$slots,"default",{modelValue:r(d),state:l.value}),r(f)&&s.name&&!r(u)?(v(),b(r(fe),{key:0,type:"checkbox",checked:!!l.value,name:s.name,value:s.value,disabled:m.value,required:s.required},null,8,["checked","name","value","disabled","required"])):K("v-if",!0)]),_:3},16,["id","as-child","as","type","aria-checked","aria-required","aria-label","data-state","data-disabled","disabled","focusable","onKeydown"]))}}),be=ye,he=g({__name:"CheckboxIndicator",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(a){const{forwardRef:e}=$(),t=ve();return(o,n)=>(v(),b(r(O),{present:o.forceMount||r(k)(r(t).state.value)||r(t).state.value===!0},{default:h(()=>[q(r(A),_({ref:r(e),"data-state":r(P)(r(t).state.value),"data-disabled":r(t).disabled.value?"":void 0,style:{pointerEvents:"none"},"as-child":o.asChild,as:o.as},o.$attrs),{default:h(()=>[w(o.$slots,"default")]),_:3},16,["data-state","data-disabled","as-child","as"])]),_:3},8,["present"]))}}),_e=he;const Ee=g({__name:"Checkbox",props:{defaultValue:{type:[Boolean,String]},modelValue:{type:[Boolean,String,null]},disabled:{type:Boolean},value:{},id:{},asChild:{type:Boolean},as:{},name:{},required:{type:Boolean},class:{}},emits:["update:modelValue"],setup(a,{emit:e}){const t=a,o=e,n=y(()=>{const{class:u,...d}=t;return d}),i=j(n,o);return(u,d)=>(v(),b(r(be),_({"data-slot":"checkbox"},r(i),{class:r(M)("peer border-input data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t.class)}),{default:h(()=>[q(r(_e),{"data-slot":"checkbox-indicator",class:"flex items-center justify-center text-current transition-none"},{default:h(()=>[w(u.$slots,"default",{},()=>[q(r(te),{class:"size-3.5"})])]),_:3})]),_:3},16,["class"]))}});export{Ee as _};
