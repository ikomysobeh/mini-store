import{d as _,h as g,e as o,b as n,u as t,f as x,g as s,F as E,p as W,o as m,n as V,a as L,q as X,t as c,i as h,c as S,r as B,m as U,C as M,j as Y,k as K}from"./app-BIsdkUFR.js";import{c as z,a as $,_ as k,b as C}from"./index-1wb7NqwU.js";import{_ as F}from"./index-BCDJER87.js";import{a as N,_ as R}from"./CardTitle.vue_vue_type_script_setup_true_lang-BbzwQhHq.js";import{_ as Q}from"./Input.vue_vue_type_script_setup_true_lang-2lXwBhL7.js";import{_ as H}from"./Label.vue_vue_type_script_setup_true_lang-6xkc7M51.js";import{X as Z,a as ee}from"./Separator.vue_vue_type_script_setup_true_lang-BCygaSuc.js";import{I as te}from"./info-DRnLrk6A.js";import{P as j}from"./palette-NUWZ8d2F.js";import{M as q}from"./message-square-Dvd0nLyN.js";import{H as D}from"./heart-Zb1J_MV3.js";import{C as A}from"./circle-alert-Cj5AlgGJ.js";import{S as J}from"./save-25Pea6cn.js";import{_ as oe}from"./AdminLayout.vue_vue_type_script_setup_true_lang-Cw0dUj-z.js";import{E as se}from"./eye-dsrP_Bt2.js";import{C as le}from"./circle-check-big-CXEo-3Y7.js";import"./useForwardExpose-DfRgSPHl.js";import"./chevron-down-DVfPXNKi.js";import"./search-B8PsoUUd.js";import"./house-DH-e972f.js";import"./package-DtQNl1ka.js";import"./chevron-right-ChP98AYB.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O=z("GlobeIcon",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ae=z("ImageIcon",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ne=z("UploadIcon",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]),re={class:"sticky top-24"},ie={class:"space-y-1"},de=["onClick"],ue=_({__name:"SettingsNavigation",props:{tabs:{},activeTab:{}},emits:["update:activeTab"],setup(e,{emit:a}){const r=a;return(v,l)=>(m(),g("div",re,[o(t(k),null,{default:n(()=>[o(t(N),null,{default:n(()=>[o(t(R),{class:"text-lg"},{default:n(()=>[...l[0]||(l[0]=[x("Settings Sections",-1)])]),_:1})]),_:1}),o(t($),{class:"p-0"},{default:n(()=>[s("nav",ie,[(m(!0),g(E,null,W(e.tabs,i=>(m(),g("button",{key:i.id,onClick:y=>r("update:activeTab",i.id),class:V(["w-full flex items-center space-x-3 px-4 py-3 text-left text-sm font-medium transition-colors",e.activeTab===i.id?"bg-primary text-primary-foreground":"text-muted-foreground hover:text-foreground hover:bg-muted"])},[(m(),L(X(i.icon),{class:"h-4 w-4"})),s("span",null,c(i.label),1)],10,de))),128))])]),_:1})]),_:1})]))}}),me={class:"border rounded-lg p-4 bg-background"},ge={key:0,class:"mb-3"},ce=["src"],fe={class:"font-bold text-lg"},ve={class:"text-xl font-semibold mt-2"},xe={key:1,class:"text-sm text-muted-foreground mt-1"},pe={key:2,class:"mt-3 p-3 bg-red-50 border border-red-200 rounded text-xs"},he={class:"flex items-start space-x-2"},be={class:"text-red-700 mt-1"},we=_({__name:"SettingsPreview",props:{siteName:{},heroTitle:{},heroSubtitle:{},donationMessage:{},logoPreview:{},show:{type:Boolean}},setup(e){return(a,r)=>e.show?(m(),L(t(k),{key:0,class:"mt-6"},{default:n(()=>[o(t(N),null,{default:n(()=>[o(t(R),{class:"text-lg"},{default:n(()=>[...r[0]||(r[0]=[x("Live Preview",-1)])]),_:1})]),_:1}),o(t($),{class:"space-y-4"},{default:n(()=>[s("div",me,[e.logoPreview?(m(),g("div",ge,[s("img",{src:e.logoPreview,alt:"Logo preview",class:"h-8 w-auto"},null,8,ce)])):h("",!0),s("h3",fe,c(e.siteName||"Site Name"),1),s("h4",ve,c(e.heroTitle||"Hero Title"),1),e.heroSubtitle?(m(),g("p",xe,c(e.heroSubtitle),1)):h("",!0),e.donationMessage?(m(),g("div",pe,[s("div",he,[r[2]||(r[2]=s("span",null,"ðŸ’",-1)),s("div",null,[r[1]||(r[1]=s("p",{class:"font-medium text-red-800"},"Donation Message",-1)),s("p",be,c(e.donationMessage),1)])])])):h("",!0)])]),_:1})]),_:1})):h("",!0)}}),ye={class:"space-y-2"},$e={key:0,class:"text-destructive"},ke=["id","value","placeholder","rows","maxlength"],Se={class:"flex justify-between text-xs"},Ce={key:0,class:"text-destructive"},Le={key:2,class:"text-xs text-muted-foreground"},I=_({__name:"CharacterCountInput",props:{modelValue:{},label:{},placeholder:{},required:{type:Boolean,default:!1},maxLength:{},error:{},helpText:{},type:{default:"input"},rows:{default:3},class:{}},emits:["update:modelValue"],setup(e,{emit:a}){const r=e,v=a,l=S(()=>r.modelValue?.length||0),i=S(()=>l.value>r.maxLength*.8),y=S(()=>l.value>r.maxLength),P=S(()=>y.value?"text-destructive":i.value?"text-orange-600":"text-muted-foreground"),d=S(()=>{const b=r.class||"",w=r.error||y.value?"border-destructive":"";return r.type==="textarea"?`flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 ${b} ${w}`:`${b} ${w}`});return(b,w)=>(m(),g("div",ye,[o(t(H),{for:e.label.toLowerCase().replace(/\s+/g,"_")},{default:n(()=>[x(c(e.label)+" ",1),e.required?(m(),g("span",$e,"*")):h("",!0)]),_:1},8,["for"]),e.type==="input"?(m(),L(t(Q),{key:0,id:e.label.toLowerCase().replace(/\s+/g,"_"),"model-value":e.modelValue,"onUpdate:modelValue":w[0]||(w[0]=T=>v("update:modelValue",T)),placeholder:e.placeholder,maxlength:e.maxLength,class:V(d.value)},null,8,["id","model-value","placeholder","maxlength","class"])):(m(),g("textarea",{key:1,id:e.label.toLowerCase().replace(/\s+/g,"_"),value:e.modelValue,onInput:w[1]||(w[1]=T=>v("update:modelValue",T.target.value)),placeholder:e.placeholder,rows:e.rows,maxlength:e.maxLength,class:V(d.value)},null,42,ke)),s("div",Se,[s("div",null,[e.error?(m(),g("p",Ce,c(e.error),1)):h("",!0)]),s("span",{class:V(P.value)},c(l.value)+"/"+c(e.maxLength),3)]),e.helpText?(m(),g("p",Le,c(e.helpText),1)):h("",!0)]))}}),_e={class:"space-y-4"},Pe={key:0,class:"space-y-4"},Te={class:"flex items-center space-x-4"},Ne=["src"],Re={class:"space-y-2"},Ue={class:"flex space-x-2"},Me={class:"p-8 text-center"},Ie={class:"text-xs text-muted-foreground"},Ve={key:2,class:"text-sm text-destructive"},Be=_({__name:"LogoUpload",props:{logoPreview:{},hasNewLogo:{type:Boolean},error:{},maxSize:{default:2}},emits:["logoSelected","logoRemoved","existingLogoRemoved"],setup(e,{emit:a}){const r=e,v=a,l=B(null),i=P=>{const d=P.target,b=d.files?.[0];if(b){if(b.size>r.maxSize*1024*1024){alert(`File size must be less than ${r.maxSize}MB`),d.value="";return}if(!["image/jpeg","image/png","image/jpg","image/gif"].includes(b.type)){alert("Please select a valid image file (JPEG, PNG, JPG, GIF)"),d.value="";return}v("logoSelected",b),d.value=""}},y=()=>{l.value?.click()};return(P,d)=>(m(),g("div",_e,[o(t(H),null,{default:n(()=>[...d[1]||(d[1]=[x("Site Logo",-1)])]),_:1}),e.logoPreview?(m(),g("div",Pe,[s("div",Te,[s("img",{src:e.logoPreview,alt:"Current logo",class:"h-16 w-auto border rounded bg-white p-2"},null,8,Ne),s("div",Re,[d[4]||(d[4]=s("p",{class:"text-sm font-medium"},"Current Logo",-1)),s("div",Ue,[o(t(C),{variant:"outline",size:"sm",onClick:y},{default:n(()=>[o(t(ne),{class:"h-4 w-4 mr-2"}),d[2]||(d[2]=x(" Change Logo ",-1))]),_:1}),o(t(C),{variant:"destructive",size:"sm",onClick:d[0]||(d[0]=b=>e.hasNewLogo?v("logoRemoved"):v("existingLogoRemoved"))},{default:n(()=>[o(t(Z),{class:"h-4 w-4 mr-2"}),d[3]||(d[3]=x(" Remove ",-1))]),_:1})])])]),e.hasNewLogo?(m(),L(t(F),{key:0,class:"bg-blue-100 text-blue-800"},{default:n(()=>[o(t(te),{class:"h-3 w-3 mr-1"}),d[5]||(d[5]=x(" New logo will be saved when you save settings ",-1))]),_:1})):h("",!0)])):(m(),g("div",{key:1,onClick:y,class:"relative border-2 border-dashed border-muted-foreground/25 rounded-lg hover:border-muted-foreground/50 transition-colors cursor-pointer"},[s("div",Me,[o(t(ae),{class:"h-12 w-12 text-muted-foreground mx-auto mb-4"}),d[6]||(d[6]=s("p",{class:"text-sm font-medium text-muted-foreground mb-2"},"Click to upload your site logo",-1)),s("p",Ie,"PNG, JPG, GIF up to "+c(e.maxSize)+"MB",1)])])),s("input",{ref_key:"fileInput",ref:l,type:"file",accept:"image/*",onChange:i,class:"hidden"},null,544),e.error?(m(),g("p",Ve,c(e.error),1)):h("",!0),d[7]||(d[7]=s("p",{class:"text-xs text-muted-foreground"}," Upload your site logo. Recommended size: 200x50px for best results. ",-1))]))}}),De={class:"p-3 bg-orange-50 border border-orange-200 rounded-lg"},ze={class:"flex items-start space-x-2"},Ge=_({__name:"SettingsTabPanels",props:{activeTab:{},form:{},logoPreview:{},hasNewLogo:{type:Boolean}},emits:["update:siteName","update:heroTitle","update:heroSubtitle","update:donationMessage","logoSelected","logoRemoved","existingLogoRemoved"],setup(e,{emit:a}){const r=a;return(v,l)=>(m(),g(E,null,[U(o(t(k),null,{default:n(()=>[o(t(N),null,{default:n(()=>[o(t(R),{class:"flex items-center space-x-2"},{default:n(()=>[o(t(O),{class:"h-5 w-5"}),l[7]||(l[7]=s("span",null,"General Settings",-1))]),_:1})]),_:1}),o(t($),{class:"space-y-6"},{default:n(()=>[o(I,{"model-value":e.form.site_name,"onUpdate:modelValue":l[0]||(l[0]=i=>r("update:siteName",i)),label:"Site Name",placeholder:"Enter your site name",required:!0,"max-length":255,error:e.form.errors.site_name,"help-text":"This appears in the browser title and navigation"},null,8,["model-value","error"])]),_:1})]),_:1},512),[[M,e.activeTab==="general"]]),U(o(t(k),null,{default:n(()=>[o(t(N),null,{default:n(()=>[o(t(R),{class:"flex items-center space-x-2"},{default:n(()=>[o(t(j),{class:"h-5 w-5"}),l[8]||(l[8]=s("span",null,"Branding",-1))]),_:1})]),_:1}),o(t($),{class:"space-y-6"},{default:n(()=>[o(Be,{"logo-preview":e.logoPreview,"has-new-logo":e.hasNewLogo,error:e.form.errors.logo,"max-size":2,onLogoSelected:l[1]||(l[1]=i=>r("logoSelected",i)),onLogoRemoved:l[2]||(l[2]=i=>r("logoRemoved")),onExistingLogoRemoved:l[3]||(l[3]=i=>r("existingLogoRemoved"))},null,8,["logo-preview","has-new-logo","error"])]),_:1})]),_:1},512),[[M,e.activeTab==="branding"]]),U(o(t(k),null,{default:n(()=>[o(t(N),null,{default:n(()=>[o(t(R),{class:"flex items-center space-x-2"},{default:n(()=>[o(t(q),{class:"h-5 w-5"}),l[9]||(l[9]=s("span",null,"Homepage Content",-1))]),_:1})]),_:1}),o(t($),{class:"space-y-6"},{default:n(()=>[o(I,{"model-value":e.form.hero_title,"onUpdate:modelValue":l[4]||(l[4]=i=>r("update:heroTitle",i)),label:"Hero Title",placeholder:"Welcome to our store",required:!0,"max-length":255,error:e.form.errors.hero_title,"help-text":"Main headline displayed on your homepage",class:"text-lg"},null,8,["model-value","error"]),o(I,{"model-value":e.form.hero_subtitle,"onUpdate:modelValue":l[5]||(l[5]=i=>r("update:heroSubtitle",i)),label:"Hero Subtitle",placeholder:"Discover amazing products and support great causes",type:"textarea",rows:3,"max-length":500,error:e.form.errors.hero_subtitle,"help-text":"Secondary text displayed below the main title"},null,8,["model-value","error"])]),_:1})]),_:1},512),[[M,e.activeTab==="content"]]),U(o(t(k),null,{default:n(()=>[o(t(N),null,{default:n(()=>[o(t(R),{class:"flex items-center space-x-2"},{default:n(()=>[o(t(D),{class:"h-5 w-5"}),l[10]||(l[10]=s("span",null,"Donation Settings",-1))]),_:1})]),_:1}),o(t($),{class:"space-y-6"},{default:n(()=>[o(I,{"model-value":e.form.donation_message,"onUpdate:modelValue":l[6]||(l[6]=i=>r("update:donationMessage",i)),label:"Donation Message",placeholder:"Support our cause by making a donation. Every contribution helps make a difference.",type:"textarea",rows:4,"max-length":1e3,error:e.form.errors.donation_message},null,8,["model-value","error"]),s("div",De,[s("div",ze,[o(t(D),{class:"h-4 w-4 text-orange-600 mt-0.5"}),l[11]||(l[11]=s("div",{class:"text-sm text-orange-700"},[s("p",{class:"font-medium"},"Donation Information"),s("p",{class:"text-xs mt-1"},"This message will be displayed on donation pages and checkout to encourage support.")],-1))])])]),_:1})]),_:1},512),[[M,e.activeTab==="donations"]])],64))}}),Ee={class:"flex items-center justify-between"},Fe={class:"flex items-center space-x-2"},He={class:"flex items-center space-x-3"},je=_({__name:"UnsavedChangesAlert",props:{show:{type:Boolean},isProcessing:{type:Boolean}},emits:["save","reset"],setup(e,{emit:a}){const r=a;return(v,l)=>e.show?(m(),L(t(k),{key:0,class:"sticky bottom-4 border-2 border-orange-200 bg-orange-50"},{default:n(()=>[o(t($),{class:"p-4"},{default:n(()=>[s("div",Ee,[s("div",Fe,[o(t(A),{class:"h-4 w-4 text-orange-600"}),l[2]||(l[2]=s("p",{class:"text-sm font-medium text-orange-800"},"You have unsaved changes",-1))]),s("div",He,[o(t(C),{variant:"outline",onClick:l[0]||(l[0]=i=>r("reset")),disabled:e.isProcessing},{default:n(()=>[...l[3]||(l[3]=[x(" Reset ",-1)])]),_:1},8,["disabled"]),o(t(C),{onClick:l[1]||(l[1]=i=>r("save")),disabled:e.isProcessing},{default:n(()=>[o(t(J),{class:"h-4 w-4 mr-2"}),x(" "+c(e.isProcessing?"Saving...":"Save Changes"),1)]),_:1},8,["disabled"])])])]),_:1})]),_:1})):h("",!0)}}),qe={class:"min-h-screen bg-muted/20"},Ae={class:"border-b bg-background"},Je={class:"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8"},Oe={class:"flex items-center justify-between h-16"},We={class:"flex items-center space-x-4"},Xe={class:"p-2 bg-purple-100 rounded-lg"},Ye={class:"text-2xl font-bold text-foreground flex items-center space-x-2"},Ke={class:"flex items-center space-x-3"},Qe={class:"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Ze={key:0,class:"mb-6"},et={class:"flex items-center space-x-2"},tt={class:"text-sm text-green-700 font-medium"},ot={class:"grid grid-cols-1 lg:grid-cols-4 gap-8"},st={class:"lg:col-span-1"},lt={class:"lg:col-span-3 space-y-8"},_t=_({__name:"Index",props:{settings:{type:Object,required:!0}},setup(e){const a=Y({site_name:e.settings.site_name||"",hero_title:e.settings.hero_title||"",hero_subtitle:e.settings.hero_subtitle||"",donation_message:e.settings.donation_message||"",logo:null,remove_logo:!1}),r=B(e.settings.logo?`/storage/${e.settings.logo}`:null),v=B("general"),l=B(!1),i=S(()=>a.isDirty),y=S(()=>!!a.logo),P=[{id:"general",label:"General",icon:O},{id:"branding",label:"Branding",icon:j},{id:"content",label:"Content",icon:q},{id:"donations",label:"Donations",icon:D}],d=f=>{a.logo=f,a.remove_logo=!1;const u=new FileReader;u.onload=p=>{r.value=p.target?.result},u.readAsDataURL(f)},b=()=>{a.logo=null,r.value=e.settings.logo?`/storage/${e.settings.logo}`:null,a.remove_logo=!1},w=()=>{confirm("Are you sure you want to remove the current logo?")&&(r.value=null,a.remove_logo=!0,a.logo=null)},T=()=>{const f=new FormData;f.append("site_name",a.site_name||""),f.append("hero_title",a.hero_title||""),f.append("hero_subtitle",a.hero_subtitle||""),f.append("donation_message",a.donation_message||""),a.logo&&f.append("logo",a.logo),a.remove_logo&&f.append("remove_logo","1"),f.append("_method","PATCH"),a.post("/admin/settings",{data:f,forceFormData:!0,preserveScroll:!0,onSuccess:()=>{},onError:u=>{console.error("Settings update failed:",u)}})},G=()=>{confirm("Are you sure you want to reset all changes?")&&(a.reset(),r.value=e.settings.logo?`/storage/${e.settings.logo}`:null)};return(f,u)=>(m(),L(oe,{title:"Orders Management",breadcrumbs:f.breadcrumbs},{default:n(()=>[s("div",qe,[o(t(K),{title:"Site Settings"}),s("div",Ae,[s("div",Je,[s("div",Oe,[s("div",We,[s("div",Xe,[o(t(ee),{class:"h-6 w-6 text-purple-600"})]),s("div",null,[s("h1",Ye,[u[7]||(u[7]=s("span",null,"Site Settings",-1)),i.value?(m(),L(t(F),{key:0,variant:"outline",class:"bg-orange-50 text-orange-700 border-orange-200"},{default:n(()=>[o(t(A),{class:"h-3 w-3 mr-1"}),u[6]||(u[6]=x(" Unsaved Changes ",-1))]),_:1})):h("",!0)]),u[8]||(u[8]=s("p",{class:"text-sm text-muted-foreground"}," Configure your site appearance and content ",-1))])]),s("div",Ke,[o(t(C),{variant:"outline",onClick:u[0]||(u[0]=p=>l.value=!l.value)},{default:n(()=>[o(t(se),{class:"h-4 w-4 mr-2"}),x(" "+c(l.value?"Hide":"Show")+" Preview ",1)]),_:1}),o(t(C),{variant:"outline",onClick:G,disabled:!i.value||t(a).processing},{default:n(()=>[...u[9]||(u[9]=[x(" Reset ",-1)])]),_:1},8,["disabled"]),o(t(C),{onClick:T,disabled:t(a).processing||!i.value},{default:n(()=>[o(t(J),{class:"h-4 w-4 mr-2"}),x(" "+c(t(a).processing?"Saving...":"Save Settings"),1)]),_:1},8,["disabled"])])])])]),s("div",Qe,[f.$page.props.flash?.success?(m(),g("div",Ze,[o(t(k),{class:"border-green-200 bg-green-50"},{default:n(()=>[o(t($),{class:"p-4"},{default:n(()=>[s("div",et,[o(t(le),{class:"h-4 w-4 text-green-600"}),s("p",tt,c(f.$page.props.flash.success),1)])]),_:1})]),_:1})])):h("",!0),s("div",ot,[s("div",st,[o(ue,{tabs:P,"active-tab":v.value,"onUpdate:activeTab":u[1]||(u[1]=p=>v.value=p)},null,8,["active-tab"]),o(we,{show:l.value,"site-name":t(a).site_name,"hero-title":t(a).hero_title,"hero-subtitle":t(a).hero_subtitle,"donation-message":t(a).donation_message,"logo-preview":r.value},null,8,["show","site-name","hero-title","hero-subtitle","donation-message","logo-preview"])]),s("div",lt,[o(Ge,{"active-tab":v.value,form:t(a),"logo-preview":r.value,"has-new-logo":y.value,"onUpdate:siteName":u[2]||(u[2]=p=>t(a).site_name=p),"onUpdate:heroTitle":u[3]||(u[3]=p=>t(a).hero_title=p),"onUpdate:heroSubtitle":u[4]||(u[4]=p=>t(a).hero_subtitle=p),"onUpdate:donationMessage":u[5]||(u[5]=p=>t(a).donation_message=p),onLogoSelected:d,onLogoRemoved:b,onExistingLogoRemoved:w},null,8,["active-tab","form","logo-preview","has-new-logo"]),o(je,{show:i.value,"is-processing":t(a).processing,onSave:T,onReset:G},null,8,["show","is-processing"])])])])])]),_:1},8,["breadcrumbs"]))}});export{_t as default};
