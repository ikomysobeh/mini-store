import{d as J,r as C,c as _,G as K,H as Q,h as m,g as a,e as s,t as d,F as z,p as O,a as v,i as g,u as e,b as l,o as r,f as u,Z as E,n as A,l as B}from"./app-DwIQyjG_.js";import{c as W,_ as n}from"./index-B8m1Vjhc.js";import{_ as V}from"./index-DryFPPhI.js";import{S as D,U as b,a as F,L as H,M as Y,X as ee,_ as q}from"./Separator.vue_vue_type_script_setup_true_lang--anB_U2L.js";import{_ as P,a as R}from"./AvatarFallback.vue_vue_type_script_setup_true_lang-kRQSDDM4.js";import{_ as T}from"./AvatarImage.vue_vue_type_script_setup_true_lang-3YHn3GN3.js";import{_ as te}from"./_plugin-vue_export-helper-DlAUqK2U.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G=W("HistoryIcon",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]),se={class:"sticky top-0 z-50 backdrop-blur-lg border-b bg-background/80"},ae={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},le={class:"flex items-center justify-between h-16"},re={href:"/",class:"flex items-center space-x-3 group"},oe={key:0,class:"w-10 h-10 rounded-xl overflow-hidden flex items-center justify-center bg-white border"},ie=["src","alt"],ne={key:1,class:"w-10 h-10 bg-primary rounded-xl flex items-center justify-center"},de={class:"text-primary-foreground font-bold text-lg"},ue={class:"font-bold text-xl text-primary"},ce={class:"hidden lg:flex space-x-4"},fe={class:"hidden md:flex items-center space-x-4"},me={key:0,class:"absolute right-0 mt-2 w-56 bg-popover border border-border rounded-md shadow-lg z-50"},ve={class:"px-3 py-2 border-b border-border"},ge={class:"flex flex-col space-y-1"},pe={class:"text-sm font-medium leading-none"},he={class:"text-xs text-muted-foreground leading-none"},xe={class:"py-1"},ye=["disabled"],be=["disabled"],_e=["disabled"],we={class:"border-t border-border py-1"},ke=["disabled"],Ce={key:2,class:"flex items-center space-x-2"},je={class:"md:hidden flex items-center space-x-2"},Le={key:0,class:"md:hidden border-t py-4 space-y-2"},Me={class:"flex flex-col space-y-2"},Ne={key:0,class:"space-y-2"},Se={key:1,class:"space-y-2"},Ue={class:"px-3 py-2 bg-muted/30 rounded-lg mx-2"},$e={class:"flex items-center space-x-3"},Ie={class:"text-sm font-medium"},ze={class:"text-xs text-muted-foreground"},Oe={key:2,class:"space-y-2"},Ee=J({__name:"Navbar",props:{categories:{type:Array,default:()=>[]},cartItems:{type:Array,default:()=>[]},user:{type:Object,default:null},siteName:{type:String,default:"Elegant Store"},settings:{type:Object,default:()=>({})}},setup(o){const p=C(!1),h=C(!1),j=C(null),i=C(!1),w=_(()=>o.user?.avatar||null),k=_(()=>o.user?.name||"User"),M=_(()=>o.user?.email||""),N=_(()=>o.settings?.logo_url||null),x=_(()=>o.cartItems.reduce((c,t)=>c+(parseInt(t.quantity)||0),0)),S=()=>"text-primary hover:bg-primary/10 hover:text-primary transition-all duration-300",U=c=>{j.value&&!j.value.contains(c.target)&&(h.value=!1)},$=()=>{i.value||(h.value=!1,p.value=!1,i.value=!0,B.post("/logout",{},{onSuccess:()=>{window.location.href="/"},onError:c=>{console.error("Logout failed:",c),i.value=!1},onFinish:()=>{i.value=!1}}))},I=c=>c?.name?c.name.split(" ").map(t=>t[0]).join("").toUpperCase().substring(0,2):c?.email?.charAt(0).toUpperCase()||"U",X=()=>{p.value=!p.value,p.value&&(h.value=!1)},Z=()=>{h.value=!h.value,h.value&&(p.value=!1)},L=c=>{h.value=!1,c&&B.visit(c)},y=()=>{p.value=!1};return K(()=>{document.addEventListener("click",U)}),Q(()=>{document.removeEventListener("click",U)}),(c,t)=>(r(),m("nav",se,[a("div",ae,[a("div",le,[a("a",re,[N.value?(r(),m("div",oe,[a("img",{src:N.value,alt:o.siteName+" Logo",class:"w-full h-full object-contain",onError:t[0]||(t[0]=f=>f.target.style.display="none")},null,40,ie)])):(r(),m("div",ne,[a("span",de,d(o.siteName.charAt(0)),1)])),a("span",ue,d(o.siteName),1)]),a("div",ce,[(r(!0),m(z,null,O(o.categories,f=>(r(),v(e(n),{key:f.id,variant:"ghost",class:A(S()),as:"a",href:`/products?category=${f.slug}`},{default:l(()=>[u(d(f.name),1)]),_:2},1032,["class","href"]))),128))]),a("div",fe,[s(e(n),{variant:"outline",class:"relative",as:"a",href:"/cart"},{default:l(()=>[s(e(D),{class:"h-5 w-5"}),x.value>0?(r(),v(e(V),{key:0,class:"absolute -top-2 -right-2 bg-primary text-primary-foreground min-w-5 h-5 flex items-center justify-center text-xs"},{default:l(()=>[u(d(x.value>99?"99+":x.value),1)]),_:1})):g("",!0)]),_:1}),o.user?(r(),v(e(n),{key:0,variant:"outline",class:"relative",as:"a",href:"/my-orders",title:"My Orders"},{default:l(()=>[s(e(G),{class:"h-5 w-5"})]),_:1})):g("",!0),o.user?(r(),m("div",{key:1,class:"relative",ref_key:"dropdownRef",ref:j},[s(e(n),{variant:"ghost",class:"relative h-10 w-10 rounded-full",onClick:Z,disabled:i.value},{default:l(()=>[s(e(P),{class:"h-9 w-9"},{default:l(()=>[w.value?(r(),v(e(T),{key:0,src:w.value,alt:k.value},null,8,["src","alt"])):g("",!0),s(e(R),{class:"bg-primary/10 text-primary"},{default:l(()=>[u(d(I(o.user)),1)]),_:1})]),_:1})]),_:1},8,["disabled"]),s(E,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:l(()=>[h.value?(r(),m("div",me,[a("div",ve,[a("div",ge,[a("p",pe,d(k.value),1),a("p",he,d(M.value),1)])]),a("div",xe,[a("button",{onClick:t[1]||(t[1]=f=>L("/dashboard")),class:"w-full px-3 py-2 text-left text-sm hover:bg-accent hover:text-accent-foreground flex items-center transition-colors",disabled:i.value},[s(e(b),{class:"mr-2 h-4 w-4"}),t[4]||(t[4]=a("span",null,"Dashboard",-1))],8,ye),a("button",{onClick:t[2]||(t[2]=f=>L("/user/profile")),class:"w-full px-3 py-2 text-left text-sm hover:bg-accent hover:text-accent-foreground flex items-center transition-colors",disabled:i.value},[s(e(b),{class:"mr-2 h-4 w-4"}),t[5]||(t[5]=a("span",null,"Profile",-1))],8,be),a("button",{onClick:t[3]||(t[3]=f=>L("/user/settings")),class:"w-full px-3 py-2 text-left text-sm hover:bg-accent hover:text-accent-foreground flex items-center transition-colors",disabled:i.value},[s(e(F),{class:"mr-2 h-4 w-4"}),t[6]||(t[6]=a("span",null,"Settings",-1))],8,_e)]),a("div",we,[a("button",{onClick:$,disabled:i.value,class:"w-full px-3 py-2 text-left text-sm text-destructive hover:bg-destructive/10 flex items-center transition-colors disabled:opacity-50"},[s(e(H),{class:"mr-2 h-4 w-4"}),a("span",null,d(i.value?"Logging out...":"Log out"),1)],8,ke)])])):g("",!0)]),_:1})],512)):(r(),m("div",Ce,[s(e(n),{variant:"ghost",size:"sm",as:"a",href:"/login"},{default:l(()=>[...t[7]||(t[7]=[u(" Login ",-1)])]),_:1}),s(e(n),{size:"sm",as:"a",href:"/register"},{default:l(()=>[...t[8]||(t[8]=[u(" Sign Up ",-1)])]),_:1})]))]),a("div",je,[s(e(n),{variant:"outline",size:"sm",class:"relative",as:"a",href:"/cart"},{default:l(()=>[s(e(D),{class:"h-4 w-4"}),x.value>0?(r(),v(e(V),{key:0,class:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-xs bg-primary text-primary-foreground"},{default:l(()=>[u(d(x.value>9?"9+":x.value),1)]),_:1})):g("",!0)]),_:1}),o.user?(r(),v(e(n),{key:0,variant:"outline",size:"sm",class:"relative",as:"a",href:"/my-orders"},{default:l(()=>[s(e(G),{class:"h-4 w-4"})]),_:1})):g("",!0),s(e(n),{variant:"ghost",size:"sm",onClick:X,disabled:i.value},{default:l(()=>[p.value?(r(),v(e(ee),{key:1,class:"h-5 w-5"})):(r(),v(e(Y),{key:0,class:"h-5 w-5"}))]),_:1},8,["disabled"])])]),s(E,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:l(()=>[p.value?(r(),m("div",Le,[a("div",Me,[o.categories.length>0?(r(),m("div",Ne,[t[9]||(t[9]=a("p",{class:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider"},"Categories",-1)),(r(!0),m(z,null,O(o.categories,f=>(r(),v(e(n),{key:f.id,variant:"ghost",class:A(S()+" justify-start"),as:"a",href:`/products?category=${f.slug}`,onClick:y},{default:l(()=>[u(d(f.name),1)]),_:2},1032,["class","href"]))),128)),s(e(q),{class:"my-2"})])):g("",!0),o.user?(r(),m("div",Se,[a("div",Ue,[a("div",$e,[s(e(P),{class:"h-8 w-8"},{default:l(()=>[w.value?(r(),v(e(T),{key:0,src:w.value,alt:k.value},null,8,["src","alt"])):g("",!0),s(e(R),{class:"bg-primary/10 text-primary text-sm"},{default:l(()=>[u(d(I(o.user)),1)]),_:1})]),_:1}),a("div",null,[a("p",Ie,d(k.value),1),a("p",ze,d(M.value),1)])])]),s(e(n),{variant:"ghost",class:"justify-start w-full",as:"a",href:"/dashboard",onClick:y,disabled:i.value},{default:l(()=>[s(e(b),{class:"mr-2 h-4 w-4"}),t[10]||(t[10]=u(" Dashboard ",-1))]),_:1},8,["disabled"]),s(e(n),{variant:"ghost",class:"justify-start w-full",as:"a",href:"/user/profile",onClick:y,disabled:i.value},{default:l(()=>[s(e(b),{class:"mr-2 h-4 w-4"}),t[11]||(t[11]=u(" Profile ",-1))]),_:1},8,["disabled"]),s(e(n),{variant:"ghost",class:"justify-start w-full",as:"a",href:"/user/settings",onClick:y,disabled:i.value},{default:l(()=>[s(e(F),{class:"mr-2 h-4 w-4"}),t[12]||(t[12]=u(" Settings ",-1))]),_:1},8,["disabled"]),s(e(q),{class:"my-2"}),s(e(n),{variant:"ghost",class:"justify-start w-full text-destructive hover:text-destructive hover:bg-destructive/10",onClick:$,disabled:i.value},{default:l(()=>[s(e(H),{class:"mr-2 h-4 w-4"}),u(" "+d(i.value?"Logging out...":"Logout"),1)]),_:1},8,["disabled"])])):(r(),m("div",Oe,[t[15]||(t[15]=a("p",{class:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider"},"Account",-1)),s(e(n),{variant:"ghost",class:"justify-start w-full",as:"a",href:"/login",onClick:y},{default:l(()=>[s(e(b),{class:"mr-2 h-4 w-4"}),t[13]||(t[13]=u(" Login ",-1))]),_:1}),s(e(n),{variant:"outline",class:"justify-start w-full",as:"a",href:"/register",onClick:y},{default:l(()=>[s(e(b),{class:"mr-2 h-4 w-4"}),t[14]||(t[14]=u(" Sign Up ",-1))]),_:1})]))])])):g("",!0)]),_:1})])]))}}),Pe=te(Ee,[["__scopeId","data-v-c6614ffd"]]);export{Pe as N};
