import{d as M,J as Y,r as q,a as C,u as e,b as _,g as t,h as u,i as f,e as d,t as s,n as X,f as x,o as r,F as N,p as L,B as J,l as z,w as V,m as A,y as B,c as P,q as se,E as oe,k as re}from"./app-BKweO40s.js";import{N as ae,S as le}from"./Navbar-BZcer5S1.js";import{_ as G,b as D,a as K}from"./index-BUn4p9PZ.js";import{_ as I}from"./index-CHtoCzq_.js";import{H as E}from"./heart-DaFaWVIT.js";import{C as ne}from"./calendar-B6i7Wtgm.js";import{P as W}from"./package-BB5zXADH.js";import{P as de}from"./palette-Ur_nel76.js";import{C as Q}from"./credit-card-DJfAK_-3.js";import{R as ie}from"./ruler-DoFhrUcq.js";import{S as H,X as ce}from"./Separator.vue_vue_type_script_setup_true_lang-Du-ouKc9.js";import{a as ue,_ as pe}from"./CardTitle.vue_vue_type_script_setup_true_lang-qkb6-055.js";import{_ as me}from"./Input.vue_vue_type_script_setup_true_lang-DwSrJP0f.js";import{_ as j}from"./Label.vue_vue_type_script_setup_true_lang-BqaY_6et.js";import{F as ve}from"./filter-6-HApOH5.js";import{S as ge}from"./search-BJ4ITgyn.js";import{D as _e}from"./dollar-sign-Chr1_-Ig.js";import{T as fe}from"./trending-up-DeMieXKl.js";import{C as he}from"./chevron-left-Jqwh1rRk.js";import{C as ye}from"./chevron-right-DsnNsYDb.js";import{u as xe}from"./useLocale-B7JTgK1T.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-DiWCYZ_u.js";import"./useForwardExpose-D5hPEdrU.js";import"./index-DIkixBaz.js";import"./createContext-vVEoiJUg.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-DvLZr_z5.js";import"./house-CE27jCRI.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const be={class:"p-6"},ke={class:"flex items-start justify-between mb-4"},$e={class:"flex items-center space-x-3 mb-2"},we={class:"text-lg font-semibold text-foreground"},Se={class:"flex items-center text-sm text-muted-foreground space-x-4"},Ce={class:"flex items-center"},Fe={class:"flex items-center"},Re={key:0,class:"flex items-center"},Oe={class:"text-right"},Te={class:"text-2xl font-bold text-foreground"},Pe={key:0,class:"mb-4 p-3 bg-yellow-50 dark:bg-yellow-900/20 border border-yellow-200 dark:border-yellow-800 rounded-lg"},qe={class:"flex items-start space-x-2"},Ue={class:"flex-1"},ze={class:"text-sm font-medium text-yellow-800 dark:text-yellow-300"},De={class:"text-sm text-yellow-700 dark:text-yellow-400 mt-1"},Ne={class:"space-y-3 mb-6"},Ie={class:"flex-shrink-0"},je=["src","alt"],Ve={class:"flex-1 min-w-0"},Le={class:"font-medium text-foreground truncate"},Me={key:0,class:"flex items-center space-x-3 mt-1"},Ye={key:0,class:"flex items-center space-x-1"},Ae={class:"text-xs text-muted-foreground"},Be={key:1,class:"flex items-center space-x-1"},Ee={class:"text-xs text-muted-foreground"},He={key:1,class:"mt-1"},Ge={class:"flex items-center space-x-2 mt-1"},Je={class:"text-sm text-muted-foreground"},Qe={class:"text-sm font-medium text-foreground"},Xe={class:"text-right"},Ke={class:"font-semibold text-foreground"},We={key:0,class:"text-center py-2"},Ze={class:"text-sm text-muted-foreground"},et={key:1,class:"mb-4 p-3 bg-info/10 rounded-lg"},tt={class:"text-sm font-medium text-info mb-2"},st={class:"flex flex-wrap gap-2"},ot={class:"text-info"},rt={class:"text-info/80"},at={class:"flex items-center justify-between pt-4 border-t border-border"},lt={class:"text-sm text-muted-foreground"},nt={class:"flex space-x-3"},dt=M({__name:"OrderCard",props:{order:{}},setup(c){const{t:a,locale:o}=Y(),l=q(!1),p=b=>new Intl.NumberFormat(o.value==="ar"?"ar-SY":"en-US",{style:"currency",currency:"USD"}).format(b),g=b=>new Date(b).toLocaleDateString(o.value==="ar"?"ar-SY":"en-US",{day:"2-digit",month:"short",year:"numeric"}),h=b=>({pending:"bg-yellow-500/20 text-yellow-700 dark:text-yellow-400",processing:"bg-blue-500/20 text-blue-700 dark:text-blue-400",failed:"bg-red-500/20 text-red-700 dark:text-red-400",success:"bg-green-500/20 text-green-700 dark:text-green-400",done:"bg-gray-500/20 text-gray-700 dark:text-gray-400"})[b]||"bg-gray-100 text-gray-800",m=()=>{c.order.is_donation||z.post(`/my-orders/${c.order.id}/reorder`,{},{preserveScroll:!1,onSuccess:()=>{z.visit("/cart")},onError:b=>{console.error("Reorder failed:",b)}})},v=()=>{l.value=!0,z.post(`/my-orders/${c.order.id}/retry-payment`,{},{preserveScroll:!0,onStart:()=>{l.value=!0},onFinish:()=>{l.value=!1},onError:()=>{l.value=!1}})},S=()=>c.order.status==="pending"&&!c.order.paid_at,T=c.order.items.filter(b=>b.variant_display).length,U=c.order.items.reduce((b,F)=>b+F.quantity,0);return(b,F)=>(r(),C(e(G),{class:"overflow-hidden hover:shadow-lg transition-shadow duration-200"},{default:_(()=>[t("div",be,[t("div",ke,[t("div",null,[t("div",$e,[t("h3",we,s(e(a)("orders.orderNumber"))+s(c.order.id),1),d(e(I),{class:X(h(c.order.status))},{default:_(()=>[x(s(e(a)(`orders.status.${c.order.status}`)),1)]),_:1},8,["class"]),c.order.is_donation?(r(),C(e(I),{key:0,class:"bg-warning/20 text-warning"},{default:_(()=>[d(e(E),{class:"h-3 w-3 mr-1"}),x(" "+s(e(a)("checkout.donation")),1)]),_:1})):f("",!0),S()?(r(),C(e(I),{key:1,variant:"destructive"},{default:_(()=>[x(s(e(a)("orders.unpaid")),1)]),_:1})):f("",!0)]),t("div",Se,[t("div",Ce,[d(e(ne),{class:"h-4 w-4 mr-1"}),x(" "+s(g(c.order.created_at)),1)]),t("div",Fe,[d(e(W),{class:"h-4 w-4 mr-1"}),x(" "+s(c.order.items.length)+" "+s(e(a)("orders.items"))+" ("+s(e(U))+" "+s(e(a)("product.quantity").toLowerCase())+") ",1)]),e(T)>0?(r(),u("div",Re,[d(e(de),{class:"h-4 w-4 mr-1"}),x(" "+s(e(T))+" "+s(e(a)("orders.variants")),1)])):f("",!0)])]),t("div",Oe,[t("div",Te,s(p(c.order.total)),1)])]),S()?(r(),u("div",Pe,[t("div",qe,[d(e(Q),{class:"h-5 w-5 text-yellow-600 dark:text-yellow-400 mt-0.5"}),t("div",Ue,[t("h4",ze,s(e(a)("orders.paymentRequired")),1),t("p",De,s(e(a)("orders.paymentRequiredMessage")),1)])])])):f("",!0),t("div",Ne,[(r(!0),u(N,null,L(c.order.items.slice(0,3),(n,O)=>(r(),u("div",{key:n.id,class:"flex items-center space-x-3 p-3 bg-muted/30 rounded-lg"},[t("div",Ie,[t("img",{src:n.product?.image_url||"/placeholder-product.jpg",alt:n.display_name||n.product_name,class:"w-12 h-12 object-cover rounded border"},null,8,je)]),t("div",Ve,[t("h4",Le,s(n.display_name||n.product_name),1),n.variant_display?(r(),u("div",Me,[n.variant_display.color?(r(),u("div",Ye,[t("div",{class:"w-3 h-3 rounded-full border border-gray-300",style:J({backgroundColor:n.variant_display.color.hex_code})},null,4),t("span",Ae,s(n.variant_display.color.name),1)])):f("",!0),n.variant_display.size?(r(),u("div",Be,[d(e(ie),{class:"h-3 w-3 text-muted-foreground"}),t("span",Ee,s(n.variant_display.size.name),1)])):f("",!0)])):(r(),u("div",He,[d(e(I),{variant:"outline",class:"text-xs"},{default:_(()=>[x(s(e(a)("orders.standardProduct")),1)]),_:1})])),t("div",Ge,[t("span",Je,s(e(a)("product.quantity"))+": "+s(n.quantity),1),t("span",Qe,s(p(n.price))+" "+s(e(a)("orders.each")),1),n.is_donation_item?(r(),C(e(I),{key:0,variant:"outline",class:"text-xs"},{default:_(()=>[d(e(E),{class:"h-3 w-3 mr-1 text-red-500"}),x(" "+s(e(a)("checkout.donation")),1)]),_:1})):f("",!0)])]),t("div",Xe,[t("div",Ke,s(p(n.price*n.quantity)),1)])]))),128)),c.order.items.length>3?(r(),u("div",We,[t("span",Ze,s(e(a)("orders.moreItems",{count:c.order.items.length-3})),1)])):f("",!0)]),e(T)>0?(r(),u("div",et,[t("h5",tt,s(e(a)("orders.variantSummary")),1),t("div",st,[(r(!0),u(N,null,L(c.order.items.filter(n=>n.variant_display),n=>(r(),u("div",{key:n.id,class:"flex items-center space-x-2 bg-card px-2 py-1 rounded text-xs"},[n.variant_display?.color?(r(),u("div",{key:0,class:"w-3 h-3 rounded-full border",style:J({backgroundColor:n.variant_display.color.hex_code})},null,4)):f("",!0),t("span",ot,s(n.variant_display?.color?.name||e(a)("orders.noColor"))+" / "+s(n.variant_display?.size?.name||e(a)("orders.noSize")),1),t("span",rt,"(Ã—"+s(n.quantity)+")",1)]))),128))])])):f("",!0),t("div",at,[t("div",lt,s(e(U))+" "+s(e(a)("orders.items"))+" â€¢ "+s(e(T))+" "+s(e(a)("orders.variants")),1),t("div",nt,[S()?(r(),C(e(D),{key:0,variant:"default",size:"sm",onClick:v,disabled:l.value,class:"bg-green-600 hover:bg-green-700"},{default:_(()=>[d(e(Q),{class:"h-4 w-4 mr-2"}),x(" "+s(l.value?e(a)("checkout.processing"):e(a)("checkout.payNow")),1)]),_:1},8,["disabled"])):f("",!0),!c.order.is_donation&&!S()?(r(),C(e(D),{key:1,variant:"default",size:"sm",onClick:m},{default:_(()=>[d(e(H),{class:"h-4 w-4 mr-2"}),x(" "+s(e(a)("orders.reorder")),1)]),_:1})):f("",!0)])])])]),_:1}))}}),it={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 xl:grid-cols-5 gap-4"},ct={class:"space-y-2"},ut={class:"relative"},pt={class:"space-y-2"},mt={value:""},vt={value:"pending"},gt={value:"processing"},_t={value:"shipped"},ft={value:"delivered"},ht={value:"cancelled"},yt={class:"space-y-2"},xt={value:""},bt={value:"purchase"},kt={value:"donation"},$t={class:"space-y-2"},wt={value:""},St={value:"last_month"},Ct={value:"last_3_months"},Ft={value:"last_year"},Rt={value:"this_year"},Ot={class:"space-y-2"},Tt={class:"flex space-x-2"},Pt={key:0,class:"mt-4 pt-4 border-t border-border"},qt={class:"flex items-center space-x-2 text-sm text-muted-foreground"},Ut={class:"flex flex-wrap gap-2"},zt={key:0,class:"px-2 py-1 bg-info/20 text-info rounded text-xs"},Dt={key:1,class:"px-2 py-1 bg-success/20 text-success rounded text-xs"},Nt={key:2,class:"px-2 py-1 bg-primary/20 text-primary rounded text-xs"},It={key:3,class:"px-2 py-1 bg-warning/20 text-warning rounded text-xs"},jt=M({__name:"OrderFilters",props:{search:{type:String,default:""},status:{type:String,default:""},type:{type:String,default:""},dateRange:{type:String,default:""}},emits:["update:search","update:status","update:type","update:date-range","apply","clear"],setup(c,{emit:a}){const{t:o}=Y(),l=c,p=a,g=q(l.search),h=q(l.status),m=q(l.type),v=q(l.dateRange);V(()=>l.search,i=>g.value=i),V(()=>l.status,i=>h.value=i),V(()=>l.type,i=>m.value=i),V(()=>l.dateRange,i=>v.value=i);const S=i=>{console.log("ðŸ” Search updated:",i),g.value=i,p("update:search",i)},T=i=>{console.log("ðŸ“Š Status updated:",i),h.value=i,p("update:status",i)},U=i=>{console.log("ðŸ·ï¸ Type updated:",i),m.value=i,p("update:type",i)},b=i=>{console.log("ðŸ“… Date range updated:",i),v.value=i,p("update:date-range",i)},F=()=>{console.log("ðŸš€ Apply filters clicked with values:",{search:g.value,status:h.value,type:m.value,dateRange:v.value}),p("update:search",g.value),p("update:status",h.value),p("update:type",m.value),p("update:date-range",v.value),setTimeout(()=>{p("apply")},10)},n=()=>{console.log("ðŸ§¹ Clear filters clicked"),g.value="",h.value="",m.value="",v.value="",p("update:search",""),p("update:status",""),p("update:type",""),p("update:date-range",""),setTimeout(()=>{p("clear")},10)},O=()=>{const i=g.value||h.value||m.value||v.value;return console.log("ðŸŽ¯ Has active filters:",i,{search:g.value,status:h.value,type:m.value,dateRange:v.value}),i};return(i,y)=>(r(),C(e(G),null,{default:_(()=>[d(e(ue),null,{default:_(()=>[d(e(pe),{class:"flex items-center"},{default:_(()=>[d(e(ve),{class:"h-5 w-5 mr-2"}),x(" "+s(e(o)("orders.filterOrders")),1)]),_:1})]),_:1}),d(e(K),{class:"p-4"},{default:_(()=>[t("div",it,[t("div",ct,[d(e(j),{for:"search"},{default:_(()=>[x(s(e(o)("orders.searchOrders")),1)]),_:1}),t("div",ut,[d(e(ge),{class:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-muted-foreground"}),d(e(me),{id:"search",modelValue:g.value,"onUpdate:modelValue":y[0]||(y[0]=$=>g.value=$),onInput:y[1]||(y[1]=$=>S(g.value)),placeholder:e(o)("orders.searchPlaceholder"),class:"pl-10"},null,8,["modelValue","placeholder"])])]),t("div",pt,[d(e(j),{for:"status"},{default:_(()=>[x(s(e(o)("checkout.status")),1)]),_:1}),A(t("select",{id:"status","onUpdate:modelValue":y[2]||(y[2]=$=>h.value=$),onChange:y[3]||(y[3]=$=>T(h.value)),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[t("option",mt,s(e(o)("orders.allStatuses")),1),t("option",vt,s(e(o)("orders.status.pending")),1),t("option",gt,s(e(o)("orders.status.processing")),1),t("option",_t,s(e(o)("orders.status.shipped")),1),t("option",ft,s(e(o)("orders.status.delivered")),1),t("option",ht,s(e(o)("orders.status.cancelled")),1)],544),[[B,h.value]])]),t("div",yt,[d(e(j),{for:"type"},{default:_(()=>[x(s(e(o)("orders.orderType")),1)]),_:1}),A(t("select",{id:"type","onUpdate:modelValue":y[4]||(y[4]=$=>m.value=$),onChange:y[5]||(y[5]=$=>U(m.value)),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[t("option",xt,s(e(o)("orders.allOrders")),1),t("option",bt,s(e(o)("orders.purchases")),1),t("option",kt,s(e(o)("orders.donations")),1)],544),[[B,m.value]])]),t("div",$t,[d(e(j),{for:"dateRange"},{default:_(()=>[x(s(e(o)("orders.dateRange")),1)]),_:1}),A(t("select",{id:"dateRange","onUpdate:modelValue":y[6]||(y[6]=$=>v.value=$),onChange:y[7]||(y[7]=$=>b(v.value)),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"},[t("option",wt,s(e(o)("orders.allTime")),1),t("option",St,s(e(o)("orders.lastMonth")),1),t("option",Ct,s(e(o)("orders.last3Months")),1),t("option",Ft,s(e(o)("orders.lastYear")),1),t("option",Rt,s(e(o)("orders.thisYear")),1)],544),[[B,v.value]])]),t("div",Ot,[d(e(j),{class:"invisible"},{default:_(()=>[...y[8]||(y[8]=[x("Actions",-1)])]),_:1}),t("div",Tt,[d(e(D),{onClick:F,class:"flex-1",size:"sm"},{default:_(()=>[x(s(e(o)("common.apply")),1)]),_:1}),d(e(D),{onClick:n,variant:"outline",size:"sm",disabled:!O()},{default:_(()=>[d(e(ce),{class:"h-4 w-4"})]),_:1},8,["disabled"])])])]),O()?(r(),u("div",Pt,[t("div",qt,[t("span",null,s(e(o)("orders.activeFilters")),1),t("div",Ut,[g.value?(r(),u("span",zt,s(e(o)("common.search"))+': "'+s(g.value)+'" ',1)):f("",!0),h.value?(r(),u("span",Dt,s(e(o)("checkout.status"))+": "+s(e(o)(`orders.status.${h.value}`)),1)):f("",!0),m.value?(r(),u("span",Nt,s(e(o)("orders.type"))+": "+s(m.value==="purchase"?e(o)("orders.purchases"):e(o)("orders.donations")),1)):f("",!0),v.value?(r(),u("span",It,s(e(o)("orders.range"))+": "+s(v.value==="last_month"?e(o)("orders.lastMonth"):v.value==="last_3_months"?e(o)("orders.last3Months"):v.value==="last_year"?e(o)("orders.lastYear"):v.value==="this_year"?e(o)("orders.thisYear"):v.value),1)):f("",!0)])])])):f("",!0)]),_:1})]),_:1}))}}),Vt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-5 gap-4"},Lt={class:"flex items-center justify-between"},Mt={class:"text-sm text-muted-foreground mb-1"},Yt={class:"text-xl font-bold"},At=M({__name:"OrderStats",props:{stats:{type:Object,required:!0}},setup(c){const{t:a}=Y(),o=c,l=g=>`$${parseFloat(g||0).toFixed(2)}`,p=P(()=>[{label:a("orders.totalOrders"),value:o.stats.total_orders,icon:H,color:"text-info"},{label:a("orders.purchases"),value:o.stats.total_purchases,icon:H,color:"text-success"},{label:a("orders.donations"),value:o.stats.total_donations,icon:E,color:"text-warning"},{label:a("orders.totalSpent"),value:l(o.stats.total_spent),icon:_e,color:"text-primary"},{label:a("orders.thisYear"),value:l(o.stats.this_year_spent),icon:fe,color:"text-secondary"}]);return(g,h)=>(r(),u("div",Vt,[(r(!0),u(N,null,L(p.value,m=>(r(),C(e(G),{key:m.label,class:"hover:shadow-sm transition-shadow"},{default:_(()=>[d(e(K),{class:"p-4"},{default:_(()=>[t("div",Lt,[t("div",null,[t("p",Mt,s(m.label),1),t("p",Yt,s(m.value),1)]),(r(),C(se(m.icon),{class:X(`h-8 w-8 ${m.color}`)},null,8,["class"]))])]),_:2},1024)]),_:2},1024))),128))]))}}),Bt={key:0,class:"flex items-center justify-between"},Et={class:"flex items-center space-x-1"},Ht=M({__name:"Pagination",props:{links:{}},emits:["go-to-page"],setup(c,{emit:a}){const{t:o}=Y(),l=c,p=a,g=h=>{h&&p("go-to-page",h)};return(h,m)=>l.links.length>3?(r(),u("div",Bt,[d(e(D),{disabled:!l.links[0].url,variant:"outline",size:"sm",onClick:m[0]||(m[0]=v=>g(l.links[0].url))},{default:_(()=>[d(e(he),{class:"h-4 w-4 mr-2"}),x(" "+s(e(o)("common.previous")),1)]),_:1},8,["disabled"]),t("div",Et,[(r(!0),u(N,null,L(l.links,(v,S)=>(r(),u(N,{key:S},[S!==0&&S!==l.links.length-1?(r(),C(e(D),{key:0,variant:v.active?"default":"outline",size:"sm",disabled:!v.url,onClick:T=>g(v.url),innerHTML:v.label},null,8,["variant","disabled","onClick","innerHTML"])):f("",!0)],64))),128))]),d(e(D),{disabled:!l.links[l.links.length-1].url,variant:"outline",size:"sm",onClick:m[1]||(m[1]=v=>g(l.links[l.links.length-1].url))},{default:_(()=>[x(s(e(o)("common.next"))+" ",1),d(e(ye),{class:"h-4 w-4 ml-2"})]),_:1},8,["disabled"])])):f("",!0)}}),Gt={class:"min-h-screen bg-background"},Jt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Qt={class:"mb-8"},Xt={class:"text-3xl font-bold text-foreground mb-2"},Kt={class:"text-muted-foreground"},Wt={class:"space-y-6"},Zt={key:0,class:"text-center py-16 bg-card rounded-lg border border-border"},es={class:"text-xl font-semibold text-card-foreground mb-2"},ts={class:"text-muted-foreground mb-6 max-w-md mx-auto"},ss={class:"flex justify-center gap-4"},os={key:1},rs={key:2,class:"mt-8"},Us=M({__name:"Index",props:{orders:{type:Object,required:!0,default:()=>({data:[],links:[],meta:{current_page:1,last_page:1,per_page:10,total:0}})},stats:{type:Object,required:!0,default:()=>({total_orders:0,total_purchases:0,total_donations:0,total_spent:0,this_year_spent:0,recent_orders:0,orders_with_variants:0,favorite_colors:[]})},filters:{type:Object,default:()=>({})}},setup(c){const{t:a}=Y(),{localizedUrl:o}=xe(),l=c;console.log("ðŸ” Orders Index - Initial Data:",{orders:l.orders,stats:l.stats,filters:l.filters});const p=oe(),g=P(()=>p.props.auth),h=P(()=>g.value?.user),m=P(()=>p.props.cartItems||[]),v=P(()=>p.props.categories||[]),S=P(()=>p.props.settings||{}),T=P(()=>S.value.site_name||"Elegant Store"),U=P(()=>l.orders&&l.orders.data&&l.orders.data.length>0),b=P(()=>Object.values(l.filters).some(k=>k&&k!=="")),F=q(l.filters.search||""),n=q(l.filters.status||""),O=q(l.filters.type||""),i=q(l.filters.date_range||"");V([F,n,O,i],([k,w,R,te])=>{console.log("ðŸ”„ Filter values changed:",{search:k,status:w,type:R,dateRange:te})},{deep:!0});const y=()=>{const k={};F.value&&(k.search=F.value),n.value&&(k.status=n.value),O.value&&(k.type=O.value),i.value&&(k.date_range=i.value),console.log("ðŸš€ Applying filters with params:",k),console.log("ðŸŒ Current URL params will be:",new URLSearchParams(k).toString()),z.get(o("/my-orders"),k,{preserveState:!0,preserveScroll:!0,onStart:()=>{console.log("ðŸ”„ Filter request started")},onSuccess:w=>{console.log("âœ… Filter request successful:",w.props)},onError:w=>{console.error("âŒ Filter request failed:",w)},onFinish:()=>{console.log("ðŸ Filter request finished")}})},$=()=>{console.log("ðŸ§¹ Clearing all filters"),F.value="",n.value="",O.value="",i.value="",z.get(o("/my-orders"),{},{onSuccess:()=>{console.log("âœ… Filters cleared successfully")}})},Z=k=>{k&&(console.log("ðŸ“„ Navigating to page:",k),z.visit(k,{preserveState:!0,preserveScroll:!1}))},ee=()=>{z.visit(o("/products"))};return(k,w)=>(r(),u("div",Gt,[d(e(re),{title:e(a)("orders.myOrders")},null,8,["title"]),d(ae,{categories:v.value,cartItems:m.value,user:h.value,siteName:T.value,settings:S.value},null,8,["categories","cartItems","user","siteName","settings"]),t("div",Jt,[t("div",Qt,[t("h1",Xt,s(e(a)("orders.myOrders")),1),t("p",Kt,s(e(a)("orders.trackHistory")),1)]),c.stats.total_orders>0?(r(),C(At,{key:0,stats:c.stats,class:"mb-8"},null,8,["stats"])):f("",!0),c.stats.total_orders>0||b.value?(r(),C(jt,{key:1,search:F.value,"onUpdate:search":w[0]||(w[0]=R=>F.value=R),status:n.value,"onUpdate:status":w[1]||(w[1]=R=>n.value=R),type:O.value,"onUpdate:type":w[2]||(w[2]=R=>O.value=R),"date-range":i.value,"onUpdate:dateRange":w[3]||(w[3]=R=>i.value=R),onApply:y,onClear:$,class:"mb-8"},null,8,["search","status","type","date-range"])):f("",!0),t("div",Wt,[U.value?(r(),u("div",os,[(r(!0),u(N,null,L(c.orders.data,R=>(r(),C(dt,{key:R.id,order:R},null,8,["order"]))),128))])):(r(),u("div",Zt,[d(e(W),{class:"h-20 w-20 text-muted-foreground mx-auto mb-4"}),t("h3",es,s(b.value?e(a)("orders.noOrdersFound"):e(a)("orders.noOrdersYet")),1),t("p",ts,s(b.value?e(a)("orders.noOrdersMatch"):e(a)("orders.noOrdersStartShopping")),1),t("div",ss,[b.value?(r(),u("button",{key:0,onClick:$,class:"px-6 py-3 bg-secondary text-secondary-foreground rounded-md hover:bg-secondary/90 transition-colors"},s(e(a)("orders.clearFilters")),1)):(r(),u("button",{key:1,onClick:ee,class:"px-6 py-3 bg-primary text-primary-foreground rounded-md hover:bg-primary/90 transition-colors flex items-center gap-2"},[d(e(le),{class:"h-5 w-5"}),x(" "+s(e(a)("home.shopNow")),1)]))])]))]),U.value&&c.orders.links?(r(),u("div",rs,[d(Ht,{links:c.orders.links,onGoToPage:Z},null,8,["links"])])):f("",!0)])]))}});export{Us as default};
