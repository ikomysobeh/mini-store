import{d as V,r as j,w as I,a as x,u as o,n as $,b as u,e as l,g as s,i as _,h as m,f as S,o as c,c as w,F as P,p as F,t as p,q as L,k as U,l as k}from"./app-Z0p12ZY1.js";import{_ as H}from"./PageHeader.vue_vue_type_script_setup_true_lang-C7xCooLo.js";import{c as q,_ as y}from"./index-C6EVsNTI.js";import{_ as X}from"./Input.vue_vue_type_script_setup_true_lang-DvD9KkSn.js";import{_ as T,a as z}from"./CardContent.vue_vue_type_script_setup_true_lang-CQMrU5cX.js";import{S as G}from"./search-TGeXU5Yb.js";import{X as J}from"./Separator.vue_vue_type_script_setup_true_lang-CcQ1zeyN.js";import{_ as K}from"./BulkActions.vue_vue_type_script_setup_true_lang-CgpTcy0f.js";import{_ as O}from"./index-D-oT8fIx.js";import{P as E}from"./plus-BfDFAFPT.js";import{E as Q}from"./eye-BtYLyr3j.js";import{S as R}from"./square-pen-CILU6Mkx.js";import{T as M}from"./trash-2-DG6Polf9.js";import{C as W}from"./circle-check-big-D6sWdGhy.js";import{C as Y}from"./circle-alert-D6vs6SCQ.js";import{_ as Z}from"./AdminLayout.vue_vue_type_script_setup_true_lang-CjSncbLu.js";import"./arrow-left-C7wE9jPO.js";import"./heart-B17uU2Pp.js";import"./chevron-down-C4YX7wvQ.js";import"./house-3MHY2EkL.js";import"./package-NI0p2es3.js";import"./chevron-right-zplc0Vtq.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A=q("FolderOpenIcon",[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]]),ee={class:"flex space-x-4"},te={class:"relative flex-1"},se=V({__name:"SearchBar",props:{modelValue:{},placeholder:{},showClear:{type:Boolean},className:{}},emits:["update:modelValue","search","clear"],setup(a,{emit:g}){const n=a,r=g,h=j(n.modelValue);I(()=>n.modelValue,f=>{h.value=f}),I(h,f=>{r("update:modelValue",f),r("search",f)});const i=()=>{h.value="",r("clear")};return(f,v)=>(c(),x(o(T),{class:$(`mb-6 ${a.className||""}`)},{default:u(()=>[l(o(z),{class:"p-4"},{default:u(()=>[s("div",ee,[s("div",te,[l(o(G),{class:"absolute left-3 top-3 h-4 w-4 text-muted-foreground"}),l(o(X),{modelValue:h.value,"onUpdate:modelValue":v[0]||(v[0]=b=>h.value=b),placeholder:a.placeholder||"Search...",class:"pl-10"},null,8,["modelValue","placeholder"]),h.value&&a.showClear?(c(),m("button",{key:0,onClick:i,class:"absolute right-3 top-3 text-muted-foreground hover:text-foreground"},[l(o(J),{class:"h-4 w-4"})])):_("",!0)]),a.showClear?(c(),x(o(y),{key:0,variant:"outline",onClick:i},{default:u(()=>[...v[1]||(v[1]=[S(" Clear ",-1)])]),_:1})):_("",!0)])]),_:1})]),_:1},8,["class"]))}}),ae={class:"overflow-x-auto"},oe={key:0,class:"w-full"},le={class:"border-b bg-muted/30"},re={key:0,class:"p-4 text-left w-12"},ce=["checked","indeterminate"],ne={key:0,class:"p-4"},ie=["checked","onChange"],de={class:"p-4"},ue={class:"flex items-center space-x-3"},me={class:"w-10 h-10 rounded-lg overflow-hidden bg-muted flex-shrink-0"},ge=["src","alt"],he={key:1,class:"w-full h-full flex items-center justify-center"},fe={class:"min-w-0 flex-1"},pe={class:"font-medium truncate"},ve={key:0,class:"text-sm text-muted-foreground truncate max-w-xs"},xe={class:"p-4"},_e={class:"bg-muted px-2 py-1 rounded text-sm font-mono"},be={class:"p-4"},Ce={class:"p-4"},ye={class:"p-4"},we={class:"text-sm text-muted-foreground"},ke={class:"p-4"},Se={class:"flex items-center justify-end space-x-1"},$e={key:1,class:"text-center py-16"},Ae={class:"w-24 h-24 bg-muted rounded-full flex items-center justify-center mx-auto mb-6"},Ve={class:"text-muted-foreground mb-6 max-w-md mx-auto"},Ne=V({__name:"CategoriesTable",props:{categories:{},selectedCategories:{},showCheckboxes:{type:Boolean}},emits:["update:selectedCategories","toggleSelectAll","deleteCategory"],setup(a,{emit:g}){const n=a,r=g,h=w(()=>n.categories.length>0&&n.selectedCategories.length===n.categories.length),i=w(()=>n.selectedCategories.length>0&&n.selectedCategories.length<n.categories.length),f=d=>d?new Date(d).toLocaleDateString("nl-NL",{day:"2-digit",month:"short",year:"numeric"}):"N/A",v=d=>d?"bg-green-100 text-green-800 border-green-200":"bg-red-100 text-red-800 border-red-200",b=d=>d?W:Y,N=()=>{r("toggleSelectAll")},D=d=>{const e=[...n.selectedCategories],t=e.indexOf(d);t>-1?e.splice(t,1):e.push(d),r("update:selectedCategories",e)},B=(d,e)=>{r("deleteCategory",d,e)};return(d,e)=>(c(),x(o(T),{class:"shadow-sm"},{default:u(()=>[l(o(z),{class:"p-0"},{default:u(()=>[s("div",ae,[a.categories.length>0?(c(),m("table",oe,[s("thead",le,[s("tr",null,[a.showCheckboxes?(c(),m("th",re,[s("input",{type:"checkbox",checked:h.value,indeterminate:i.value,onChange:N,class:"rounded border-border"},null,40,ce)])):_("",!0),e[0]||(e[0]=s("th",{class:"p-4 text-left font-medium"},"Name",-1)),e[1]||(e[1]=s("th",{class:"p-4 text-left font-medium"},"Slug",-1)),e[2]||(e[2]=s("th",{class:"p-4 text-left font-medium"},"Products",-1)),e[3]||(e[3]=s("th",{class:"p-4 text-left font-medium"},"Status",-1)),e[4]||(e[4]=s("th",{class:"p-4 text-left font-medium"},"Created",-1)),e[5]||(e[5]=s("th",{class:"p-4 text-right font-medium"},"Actions",-1))])]),s("tbody",null,[(c(!0),m(P,null,F(a.categories,t=>(c(),m("tr",{key:t.id,class:"border-b hover:bg-muted/30 transition-colors"},[a.showCheckboxes?(c(),m("td",ne,[s("input",{type:"checkbox",checked:a.selectedCategories.includes(t.id),onChange:C=>D(t.id),class:"rounded border-border"},null,40,ie)])):_("",!0),s("td",de,[s("div",ue,[s("div",me,[t.image?(c(),m("img",{key:0,src:t.image,alt:t.name,class:"w-full h-full object-cover"},null,8,ge)):(c(),m("div",he,[l(o(A),{class:"h-5 w-5 text-muted-foreground"})]))]),s("div",fe,[s("p",pe,p(t.name||"Untitled"),1),t.description?(c(),m("p",ve,p(t.description),1)):_("",!0)])])]),s("td",xe,[s("code",_e,p(t.slug||"no-slug"),1)]),s("td",be,[l(o(O),{variant:"outline",class:"text-xs"},{default:u(()=>[S(p(t.products_count||0)+" product"+p(t.products_count!==1?"s":""),1)]),_:2},1024)]),s("td",Ce,[l(o(O),{class:$([v(t.is_active),"text-xs px-2 py-1 border flex items-center w-fit"])},{default:u(()=>[(c(),x(L(b(t.is_active)),{class:"h-3 w-3 mr-1"})),S(" "+p(t.is_active?"Active":"Inactive"),1)]),_:2},1032,["class"])]),s("td",ye,[s("div",we,p(f(t.created_at)),1)]),s("td",ke,[s("div",Se,[l(o(y),{variant:"ghost",size:"sm",as:"a",href:`/products?category=${t.slug}`,target:"_blank",title:"View Category",class:"h-8 w-8 p-0"},{default:u(()=>[l(o(Q),{class:"h-4 w-4"})]),_:1},8,["href"]),l(o(y),{variant:"ghost",size:"sm",as:"a",href:`/admin/categories/${t.id}/edit`,title:"Edit Category",class:"h-8 w-8 p-0"},{default:u(()=>[l(o(R),{class:"h-4 w-4"})]),_:1},8,["href"]),l(o(y),{variant:"ghost",size:"sm",onClick:C=>B(t.id,t.name),class:"h-8 w-8 p-0 text-red-600 hover:text-red-700 hover:bg-red-50",title:"Delete Category"},{default:u(()=>[l(o(M),{class:"h-4 w-4"})]),_:1},8,["onClick"])])])]))),128))])])):(c(),m("div",$e,[s("div",Ae,[l(o(A),{class:"h-12 w-12 text-muted-foreground"})]),e[7]||(e[7]=s("h3",{class:"text-xl font-semibold mb-2"},"No categories found",-1)),s("p",Ve,p(a.selectedCategories.length?"No categories match your selection":"Create your first product category to organize your products"),1),l(o(y),{as:"a",href:"/admin/categories/create",size:"lg"},{default:u(()=>[l(o(E),{class:"h-5 w-5 mr-2"}),e[6]||(e[6]=S(" Add First Category ",-1))]),_:1})]))])]),_:1})]),_:1}))}}),De={key:0,class:"flex justify-center mb-3"},Be={class:"p-2 bg-muted rounded-lg"},je={class:"text-sm text-muted-foreground mt-1"},Te=V({__name:"SummaryStats",props:{stats:{},columns:{default:4},className:{default:"mt-8"}},setup(a){const g=w(()=>`grid-cols-1 md:grid-cols-${Math.min(a.columns,a.stats.length)}`),n=r=>({primary:"text-primary",green:"text-green-600",red:"text-red-600",blue:"text-blue-600",yellow:"text-yellow-600",purple:"text-purple-600",orange:"text-orange-600"})[r]||"text-primary";return(r,h)=>(c(),m("div",{class:$(`grid ${g.value} gap-4 ${a.className}`)},[(c(!0),m(P,null,F(a.stats,(i,f)=>(c(),x(o(T),{key:f},{default:u(()=>[l(o(z),{class:"p-6 text-center"},{default:u(()=>[i.icon?(c(),m("div",De,[s("div",Be,[(c(),x(L(i.icon),{class:"h-6 w-6 text-muted-foreground"}))])])):_("",!0),s("p",{class:$(`text-3xl font-bold ${n(i.color)}`)},p(typeof i.value=="number"?i.value.toLocaleString():i.value),3),s("p",je,p(i.label),1)]),_:2},1024)]),_:2},1024))),128))],2))}}),ze={class:"min-h-screen bg-muted/20"},Ie={class:"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},ot=V({__name:"Index",props:{categories:{type:[Object,Array],default:()=>({data:[],total:0})},filters:{type:Object,default:()=>({})}},setup(a){const g=w(()=>Array.isArray(a.categories)?{data:a.categories,total:a.categories.length}:a.categories&&typeof a.categories=="object"?{data:a.categories.data||[],total:a.categories.total||a.categories.data?.length||0}:{data:[],total:0}),n=j(a.filters.search||""),r=j([]),h=[{label:"Add Category",href:"/admin/categories/create",icon:E}],i=[{label:"Delete Selected",icon:M,variant:"destructive",destructive:!0,onClick:B}],f=w(()=>[{label:"Total Categories",value:g.value.total||0,color:"primary",icon:A},{label:"Active",value:g.value.data.filter(e=>e.is_active).length,color:"green"},{label:"Inactive",value:g.value.data.filter(e=>!e.is_active).length,color:"red"},{label:"Total Products",value:g.value.data.reduce((e,t)=>e+(t.products_count||0),0),color:"blue"}]),v=e=>{const t={};e&&(t.search=e),k.get("/admin/categories",t,{preserveState:!0,preserveScroll:!0})},b=()=>{n.value="",k.get("/admin/categories",{},{preserveState:!0,preserveScroll:!0})},N=()=>{const e=g.value.data;r.value.length===e.length?r.value=[]:r.value=e.map(t=>t.id)},D=(e,t)=>{confirm(`Are you sure you want to delete "${t}"? Products in this category will be uncategorized.`)&&k.delete(`/admin/categories/${e}`,{preserveScroll:!0})};function B(){r.value.length!==0&&confirm(`Are you sure you want to delete ${r.value.length} categories?`)&&k.post("/admin/categories/bulk-delete",{category_ids:r.value},{preserveScroll:!0,onSuccess:()=>{r.value=[]}})}const d=()=>{r.value=[]};return(e,t)=>(c(),x(Z,{title:"Orders Management",breadcrumbs:e.breadcrumbs},{default:u(()=>[s("div",ze,[l(o(U),{title:"Categories Management"}),l(H,{title:"Categories",description:"Manage product categories",icon:o(A),"icon-color":"text-purple-600",actions:h},null,8,["icon"]),s("div",Ie,[l(se,{modelValue:n.value,"onUpdate:modelValue":t[0]||(t[0]=C=>n.value=C),placeholder:"Search categories...","show-clear":!0,onSearch:v,onClear:b},null,8,["modelValue"]),l(K,{"selected-count":r.value.length,"item-name":"categor",actions:i,onCancel:d},null,8,["selected-count"]),l(Ne,{categories:g.value.data,"selected-categories":r.value,"onUpdate:selectedCategories":t[1]||(t[1]=C=>r.value=C),"show-checkboxes":!0,onToggleSelectAll:N,onDeleteCategory:D},null,8,["categories","selected-categories"]),l(Te,{stats:f.value,columns:4},null,8,["stats"])])])]),_:1},8,["breadcrumbs"]))}});export{ot as default};
