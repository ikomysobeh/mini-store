import{a as j}from"./index-Bw1oo_aB.js";import{l as w,S as g,P as O}from"./index-BkCac0jj.js";import{c as h,r as $,$ as C,a0 as I,d as v,O as _,a1 as M,a2 as b,w as B,a as x,o as R,b as T,z as k,u as U}from"./app-yiE6uSpj.js";function A(n){return typeof n=="string"?`'${n}'`:new N().serialize(n)}const N=(function(){class n{#e=new Map;compare(e,t){const r=typeof e,a=typeof t;return r==="string"&&a==="string"?e.localeCompare(t):r==="number"&&a==="number"?e-t:String.prototype.localeCompare.call(this.serialize(e,!0),this.serialize(t,!0))}serialize(e,t){if(e===null)return"null";switch(typeof e){case"string":return t?e:`'${e}'`;case"bigint":return`${e}n`;case"object":return this.$object(e);case"function":return this.$function(e)}return String(e)}serializeObject(e){const t=Object.prototype.toString.call(e);if(t!=="[object Object]")return this.serializeBuiltInType(t.length<10?`unknown:${t}`:t.slice(8,-1),e);const r=e.constructor,a=r===Object||r===void 0?"":r.name;if(a!==""&&globalThis[a]===r)return this.serializeBuiltInType(a,e);if(typeof e.toJSON=="function"){const o=e.toJSON();return a+(o!==null&&typeof o=="object"?this.$object(o):`(${this.serialize(o)})`)}return this.serializeObjectEntries(a,Object.entries(e))}serializeBuiltInType(e,t){const r=this["$"+e];if(r)return r.call(this,t);if(typeof t?.entries=="function")return this.serializeObjectEntries(e,t.entries());throw new Error(`Cannot serialize ${e}`)}serializeObjectEntries(e,t){const r=Array.from(t).sort((o,f)=>this.compare(o[0],f[0]));let a=`${e}{`;for(let o=0;o<r.length;o++){const[f,y]=r[o];a+=`${this.serialize(f,!0)}:${this.serialize(y)}`,o<r.length-1&&(a+=",")}return a+"}"}$object(e){let t=this.#e.get(e);return t===void 0&&(this.#e.set(e,`#${this.#e.size}`),t=this.serializeObject(e),this.#e.set(e,t)),t}$function(e){const t=Function.prototype.toString.call(e);return t.slice(-15)==="[native code] }"?`${e.name||""}()[native]`:`${e.name}(${e.length})${t.replace(/\s*\n\s*/g,"")}`}$Array(e){let t="[";for(let r=0;r<e.length;r++)t+=this.serialize(e[r]),r<e.length-1&&(t+=",");return t+"]"}$Date(e){try{return`Date(${e.toISOString()})`}catch{return"Date(null)"}}$ArrayBuffer(e){return`ArrayBuffer[${new Uint8Array(e).join(",")}]`}$Set(e){return`Set${this.$Array(Array.from(e).sort((t,r)=>this.compare(t,r)))}`}$Map(e){return this.serializeObjectEntries("Map",e.entries())}}for(const i of["Error","RegExp","URL"])n.prototype["$"+i]=function(e){return`${i}(${e})`};for(const i of["Int8Array","Uint8Array","Uint8ClampedArray","Int16Array","Uint16Array","Int32Array","Uint32Array","Float32Array","Float64Array"])n.prototype["$"+i]=function(e){return`${i}[${e.join(",")}]`};for(const i of["BigInt64Array","BigUint64Array"])n.prototype["$"+i]=function(e){return`${i}[${e.join("n,")}${e.length>0?"n":""}]`};return n})();function F(n,i){return n===i||A(n)===A(i)}function H(n){return n==null}function J(n){return h(()=>w(n)?!!j(n)?.closest("form"):!0)}function z(){const n=$(),i=h(()=>["#text","#comment"].includes(n.value?.$el.nodeName)?n.value?.$el.nextElementSibling:j(n));return{primitiveElement:n,currentElement:i}}const S="data-reka-collection-item";function K(n={}){const{key:i="",isProvider:e=!1}=n,t=`${i}CollectionProvider`;let r;if(e){const l=$(new Map);r={collectionRef:$(),itemMap:l},C(t,r)}else r=I(t);const a=(l=!1)=>{const s=r.collectionRef.value;if(!s)return[];const u=Array.from(s.querySelectorAll(`[${S}]`)),c=Array.from(r.itemMap.value.values()).sort((d,m)=>u.indexOf(d.ref)-u.indexOf(m.ref));return l?c:c.filter(d=>d.ref.dataset.disabled!=="")},o=v({name:"CollectionSlot",setup(l,{slots:s}){const{primitiveElement:u,currentElement:p}=z();return B(p,()=>{r.collectionRef.value=p.value}),()=>b(g,{ref:u},s)}}),f=v({name:"CollectionItem",inheritAttrs:!1,props:{value:{validator:()=>!0}},setup(l,{slots:s,attrs:u}){const{primitiveElement:p,currentElement:c}=z();return _(d=>{if(c.value){const m=M(c.value);r.itemMap.value.set(m,{ref:c.value,value:l.value}),d(()=>r.itemMap.value.delete(m))}}),()=>b(g,{...u,[S]:"",ref:p},s)}}),y=h(()=>Array.from(r.itemMap.value.values())),E=h(()=>r.itemMap.value.size);return{getItems:a,reactiveItems:y,itemMapSize:E,CollectionSlot:o,CollectionItem:f}}var P=v({__name:"VisuallyHidden",props:{feature:{type:String,required:!1,default:"focusable"},asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"span"}},setup(n){return(i,e)=>(R(),x(U(O),{as:i.as,"as-child":i.asChild,"aria-hidden":i.feature==="focusable"?"true":void 0,"data-hidden":i.feature==="fully-hidden"?"":void 0,tabindex:i.feature==="fully-hidden"?"-1":void 0,style:{position:"absolute",border:0,width:"1px",height:"1px",padding:0,margin:"-1px",overflow:"hidden",clip:"rect(0, 0, 0, 0)",clipPath:"inset(50%)",whiteSpace:"nowrap",wordWrap:"normal",top:"-1px",left:"-1px"}},{default:T(()=>[k(i.$slots,"default")]),_:3},8,["as","as-child","aria-hidden","data-hidden","tabindex"]))}}),L=P;export{L as V,H as a,J as b,z as c,F as i,K as u};
