import{d as w,r as O,J as Fe,z as $,u as t,a as b,b as d,A as q,o,G as ze,e as u,i as x,K as Ee,L as Se,f as k,t as h,n as I,l as W,h as f,g as s,q as me,c as C,E as Re,w as Te,F as T,p as N,C as ie,B as je,k as Ne}from"./app-DdZZOdGY.js";import{N as Ve}from"./Navbar-CWfFKEH6.js";import{M as Le,_ as Ue}from"./Breadcrumb.vue_vue_type_script_setup_true_lang-9RPC2ESH.js";import{P as J,c as ve,b as M,_ as Y,a as G,d as V,E as Ke}from"./index-DXlwujjl.js";import{A as He}from"./arrow-left-BgEG8mEy.js";import{X as ge,S as se}from"./Separator.vue_vue_type_script_setup_true_lang-BUqwOucx.js";import{C as U}from"./circle-check-big-Dnd1p0fC.js";import{_ as Qe}from"./Input.vue_vue_type_script_setup_true_lang-CjXn2THq.js";import{_ as R}from"./index-D-lM5zxs.js";import{u as ue,g as de,a as ae,P as ye,b as he,c as be}from"./Presence-FUATYo57.js";import{c as Xe}from"./createContext-DJu-mEbK.js";import{u as We}from"./index-HQ_s38JM.js";import{u as E}from"./useForwardExpose-O_30RnYg.js";import{D as Ye,g as Ge,F as Je,u as Ze,a as et,T as tt}from"./Teleport-CbbTO8NM.js";import{C as st}from"./circle-alert-BB0JoUBv.js";import{C as ce}from"./circle-x-CB_igF3I.js";import{C as fe}from"./chevron-left-CNcheviw.js";import{C as pe}from"./chevron-right-CqLtSmjD.js";import{P as at}from"./plus-CaCf3UI6.js";import{U as ot}from"./user-plus-BWOJ9cDT.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{H as lt}from"./heart-y1OFyHao.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-KWqpDFtO.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-ClZLuM7i.js";import"./house-QAH6l9UE.js";const[S,rt]=Xe("DialogRoot");var nt=w({inheritAttrs:!1,__name:"DialogRoot",props:{open:{type:Boolean,required:!1,default:void 0},defaultOpen:{type:Boolean,required:!1,default:!1},modal:{type:Boolean,required:!1,default:!0}},emits:["update:open"],setup(e,{emit:n}){const c=e,l=We(c,"open",n,{defaultValue:c.defaultOpen,passive:c.open===void 0}),i=O(),D=O(),{modal:y}=Fe(c);return rt({open:l,modal:y,openModal:()=>{l.value=!0},onOpenChange:v=>{l.value=v},onOpenToggle:()=>{l.value=!l.value},contentId:"",titleId:"",descriptionId:"",triggerElement:i,contentElement:D}),(v,g)=>$(v.$slots,"default",{open:t(l),close:()=>l.value=!1})}}),it=nt,ut=w({__name:"DialogClose",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"button"}},setup(e){const n=e;E();const c=S();return(r,l)=>(o(),b(t(J),q(n,{type:r.as==="button"?"button":void 0,onClick:l[0]||(l[0]=i=>t(c).onOpenChange(!1))}),{default:d(()=>[$(r.$slots,"default")]),_:3},16,["type"]))}}),dt=ut,ct=w({__name:"DialogContentImpl",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const c=e,r=n,l=S(),{forwardRef:i,currentElement:D}=E();return l.titleId||=ue(void 0,"reka-dialog-title"),l.descriptionId||=ue(void 0,"reka-dialog-description"),ze(()=>{l.contentElement=D,de()!==document.body&&(l.triggerElement.value=de())}),(y,v)=>(o(),b(t(Je),{"as-child":"",loop:"",trapped:c.trapFocus,onMountAutoFocus:v[5]||(v[5]=g=>r("openAutoFocus",g)),onUnmountAutoFocus:v[6]||(v[6]=g=>r("closeAutoFocus",g))},{default:d(()=>[u(t(Ye),q({id:t(l).contentId,ref:t(i),as:y.as,"as-child":y.asChild,"disable-outside-pointer-events":y.disableOutsidePointerEvents,role:"dialog","aria-describedby":t(l).descriptionId,"aria-labelledby":t(l).titleId,"data-state":t(Ge)(t(l).open.value)},y.$attrs,{onDismiss:v[0]||(v[0]=g=>t(l).onOpenChange(!1)),onEscapeKeyDown:v[1]||(v[1]=g=>r("escapeKeyDown",g)),onFocusOutside:v[2]||(v[2]=g=>r("focusOutside",g)),onInteractOutside:v[3]||(v[3]=g=>r("interactOutside",g)),onPointerDownOutside:v[4]||(v[4]=g=>r("pointerDownOutside",g))}),{default:d(()=>[$(y.$slots,"default")]),_:3},16,["id","as","as-child","disable-outside-pointer-events","aria-describedby","aria-labelledby","data-state"])]),_:3},8,["trapped"]))}}),_e=ct,ft=w({__name:"DialogContentModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const c=e,r=n,l=S(),i=ae(r),{forwardRef:D,currentElement:y}=E();return Ze(y),(v,g)=>(o(),b(_e,q({...c,...t(i)},{ref:t(D),"trap-focus":t(l).open.value,"disable-outside-pointer-events":!0,onCloseAutoFocus:g[0]||(g[0]=_=>{_.defaultPrevented||(_.preventDefault(),t(l).triggerElement.value?.focus())}),onPointerDownOutside:g[1]||(g[1]=_=>{const B=_.detail.originalEvent,A=B.button===0&&B.ctrlKey===!0;(B.button===2||A)&&_.preventDefault()}),onFocusOutside:g[2]||(g[2]=_=>{_.preventDefault()})}),{default:d(()=>[$(v.$slots,"default")]),_:3},16,["trap-focus"]))}}),pt=ft,mt=w({__name:"DialogContentNonModal",props:{forceMount:{type:Boolean,required:!1},trapFocus:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const c=e,l=ae(n);E();const i=S(),D=O(!1),y=O(!1);return(v,g)=>(o(),b(_e,q({...c,...t(l)},{"trap-focus":!1,"disable-outside-pointer-events":!1,onCloseAutoFocus:g[0]||(g[0]=_=>{_.defaultPrevented||(D.value||t(i).triggerElement.value?.focus(),_.preventDefault()),D.value=!1,y.value=!1}),onInteractOutside:g[1]||(g[1]=_=>{_.defaultPrevented||(D.value=!0,_.detail.originalEvent.type==="pointerdown"&&(y.value=!0));const B=_.target;t(i).triggerElement.value?.contains(B)&&_.preventDefault(),_.detail.originalEvent.type==="focusin"&&y.value&&_.preventDefault()})}),{default:d(()=>[$(v.$slots,"default")]),_:3},16))}}),vt=mt,gt=w({__name:"DialogContent",props:{forceMount:{type:Boolean,required:!1},disableOutsidePointerEvents:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const c=e,r=n,l=S(),i=ae(r),{forwardRef:D}=E();return(y,v)=>(o(),b(t(ye),{present:y.forceMount||t(l).open.value},{default:d(()=>[t(l).modal.value?(o(),b(pt,q({key:0,ref:t(D)},{...c,...t(i),...y.$attrs}),{default:d(()=>[$(y.$slots,"default")]),_:3},16)):(o(),b(vt,q({key:1,ref:t(D)},{...c,...t(i),...y.$attrs}),{default:d(()=>[$(y.$slots,"default")]),_:3},16))]),_:3},8,["present"]))}}),yt=gt,ht=w({__name:"DialogDescription",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"p"}},setup(e){const n=e;E();const c=S();return(r,l)=>(o(),b(t(J),q(n,{id:t(c).descriptionId}),{default:d(()=>[$(r.$slots,"default")]),_:3},16,["id"]))}}),bt=ht,xt=w({__name:"DialogOverlayImpl",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=S();return et(!0),E(),(c,r)=>(o(),b(t(J),{as:c.as,"as-child":c.asChild,"data-state":t(n).open.value?"open":"closed",style:{"pointer-events":"auto"}},{default:d(()=>[$(c.$slots,"default")]),_:3},8,["as","as-child","data-state"]))}}),_t=xt,kt=w({__name:"DialogOverlay",props:{forceMount:{type:Boolean,required:!1},asChild:{type:Boolean,required:!1},as:{type:null,required:!1}},setup(e){const n=S(),{forwardRef:c}=E();return(r,l)=>t(n)?.modal.value?(o(),b(t(ye),{key:0,present:r.forceMount||t(n).open.value},{default:d(()=>[u(_t,q(r.$attrs,{ref:t(c),as:r.as,"as-child":r.asChild}),{default:d(()=>[$(r.$slots,"default")]),_:3},16,["as","as-child"])]),_:3},8,["present"])):x("v-if",!0)}}),wt=kt,Ct=w({__name:"DialogPortal",props:{to:{type:null,required:!1},disabled:{type:Boolean,required:!1},defer:{type:Boolean,required:!1},forceMount:{type:Boolean,required:!1}},setup(e){const n=e;return(c,r)=>(o(),b(t(tt),Ee(Se(n)),{default:d(()=>[$(c.$slots,"default")]),_:3},16))}}),$t=Ct,Dt=w({__name:"DialogTitle",props:{asChild:{type:Boolean,required:!1},as:{type:null,required:!1,default:"h2"}},setup(e){const n=e,c=S();return E(),(r,l)=>(o(),b(t(J),q(n,{id:t(c).titleId}),{default:d(()=>[$(r.$slots,"default")]),_:3},16,["id"]))}}),Pt=Dt;/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=ve("LogInIcon",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const It=ve("TruckIcon",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]),qt=w({__name:"BackButton",props:{href:{default:"/products"},label:{default:"Back to Products"},className:{default:"mb-6"}},setup(e){const n=()=>{e.href.startsWith("http")||e.href.startsWith("/")?W.visit(e.href):window.history.back()};return(c,r)=>(o(),b(t(M),{variant:"outline",size:"sm",onClick:n,class:I(e.className)},{default:d(()=>[u(t(He),{class:"h-4 w-4 mr-2"}),k(" "+h(e.label),1)]),_:1},8,["class"]))}}),Bt={class:"flex items-center justify-between"},Mt={class:"flex items-center space-x-2"},At={class:"text-sm text-primary font-medium"},Ft=w({__name:"SuccessMessage",props:{message:{},icon:{default:"check"},dismissible:{type:Boolean,default:!1},className:{default:"mb-6"}},setup(e){const n=O(!0),c=()=>{n.value=!1},r=l=>{switch(l){case"cart":return se;case"check":default:return U}};return(l,i)=>n.value&&(e.message||l.$page.props.flash?.success)?(o(),f("div",{key:0,class:I(e.className)},[u(t(Y),{class:"border-primary/20 bg-primary/10"},{default:d(()=>[u(t(G),{class:"p-4"},{default:d(()=>[s("div",Bt,[s("div",Mt,[(o(),b(me(r(e.icon)),{class:"h-4 w-4 text-primary"})),s("p",At,h(e.message||l.$page.props.flash?.success),1)]),e.dismissible?(o(),f("button",{key:0,onClick:c,class:"text-primary hover:text-primary/80 transition-colors"},[u(t(ge),{class:"h-4 w-4"})])):x("",!0)])]),_:1})]),_:1})],2)):x("",!0)}}),zt=w({__name:"Dialog",props:{open:{type:Boolean},defaultOpen:{type:Boolean},modal:{type:Boolean}},emits:["update:open"],setup(e,{emit:n}){const l=he(e,n);return(i,D)=>(o(),b(t(it),q({"data-slot":"dialog"},t(l)),{default:d(()=>[$(i.$slots,"default")]),_:3},16))}}),Et=w({__name:"DialogOverlay",props:{forceMount:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},setup(e){const n=e,c=C(()=>{const{class:r,...l}=n;return l});return(r,l)=>(o(),b(t(wt),q({"data-slot":"dialog-overlay"},c.value,{class:t(V)("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/80",n.class)}),{default:d(()=>[$(r.$slots,"default")]),_:3},16,["class"]))}}),St=w({__name:"DialogContent",props:{forceMount:{type:Boolean},disableOutsidePointerEvents:{type:Boolean},asChild:{type:Boolean},as:{},class:{}},emits:["escapeKeyDown","pointerDownOutside","focusOutside","interactOutside","openAutoFocus","closeAutoFocus"],setup(e,{emit:n}){const c=e,r=n,l=C(()=>{const{class:D,...y}=c;return y}),i=he(l,r);return(D,y)=>(o(),b(t($t),null,{default:d(()=>[u(Et),u(t(yt),q({"data-slot":"dialog-content"},t(i),{class:t(V)("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",c.class)}),{default:d(()=>[$(D.$slots,"default"),u(t(dt),{class:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4"},{default:d(()=>[u(t(ge)),y[0]||(y[0]=s("span",{class:"sr-only"},"Close",-1))]),_:1})]),_:3},16,["class"])]),_:3}))}}),Rt=w({__name:"DialogDescription",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const n=e,c=C(()=>{const{class:l,...i}=n;return i}),r=be(c);return(l,i)=>(o(),b(t(bt),q({"data-slot":"dialog-description"},t(r),{class:t(V)("text-muted-foreground text-sm",n.class)}),{default:d(()=>[$(l.$slots,"default")]),_:3},16,["class"]))}}),Tt=w({__name:"DialogFooter",props:{class:{}},setup(e){const n=e;return(c,r)=>(o(),f("div",{"data-slot":"dialog-footer",class:I(t(V)("flex flex-col-reverse gap-2 sm:flex-row sm:justify-end",n.class))},[$(c.$slots,"default")],2))}}),jt=w({__name:"DialogHeader",props:{class:{}},setup(e){const n=e;return(c,r)=>(o(),f("div",{"data-slot":"dialog-header",class:I(t(V)("flex flex-col gap-2 text-center sm:text-left",n.class))},[$(c.$slots,"default")],2))}}),Nt=w({__name:"DialogTitle",props:{asChild:{type:Boolean},as:{},class:{}},setup(e){const n=e,c=C(()=>{const{class:l,...i}=n;return i}),r=be(c);return(l,i)=>(o(),b(t(Pt),q({"data-slot":"dialog-title"},t(r),{class:t(V)("text-lg leading-none font-semibold",n.class)}),{default:d(()=>[$(l.$slots,"default")]),_:3},16,["class"]))}}),Vt={class:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12"},Lt={class:"space-y-6 p-6"},Ut={class:"relative aspect-square bg-muted rounded-lg overflow-hidden group"},Kt=["src","alt"],Ht={key:1,class:"absolute inset-y-0 left-0 right-0 flex items-center justify-between p-4 opacity-0 group-hover:opacity-100 transition-opacity"},Qt={key:2,class:"absolute top-4 left-4 bg-black/50 text-white px-2 py-1 rounded text-sm"},Xt={key:3,class:"absolute bottom-4 left-4 bg-black/50 text-white px-2 py-1 rounded text-sm opacity-0 group-hover:opacity-100 transition-opacity"},Wt={key:0,class:"space-y-2"},Yt={class:"flex space-x-2 overflow-x-auto pb-2"},Gt=["onClick"],Jt=["src","alt"],Zt={class:"text-sm text-muted-foreground text-center"},es={class:"space-y-6 p-6"},ts={class:"text-3xl font-bold"},ss={class:"space-y-2"},as={class:"text-3xl font-bold text-primary"},os={key:0,class:"text-sm text-muted-foreground"},ls={key:1,class:"space-y-3"},rs={class:"flex gap-2 flex-wrap"},ns=["onClick","title"],is={key:0,class:"text-sm text-gray-600"},us={key:2,class:"space-y-3"},ds={class:"flex gap-2 flex-wrap"},cs=["onClick"],fs={key:0,class:"text-sm text-gray-600"},ps={class:"space-y-2"},ms={key:0,class:"flex items-center space-x-2 text-success"},vs={class:"text-sm font-medium"},gs={key:1,class:"flex items-center space-x-2 text-info"},ys={class:"text-sm font-medium"},hs={key:2,class:"flex items-center space-x-2 text-destructive"},bs={class:"text-sm font-medium"},xs={key:3,class:"text-warning text-sm"},_s={key:3,class:"space-y-4"},ks={class:"space-y-2"},ws={class:"flex items-center space-x-3"},Cs={class:"flex items-center border rounded-md"},$s={class:"text-sm text-muted-foreground"},Ds={key:1,class:"animate-spin h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full"},Ps={class:"bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg p-4"},Os={class:"flex items-start space-x-3"},Is={key:4,class:"p-4 bg-info/10 border border-info/20 rounded-lg"},qs={class:"py-6 space-y-4"},Bs={class:"bg-muted/50 rounded-lg p-4 space-y-2"},Ms={class:"text-sm text-muted-foreground space-y-1"},As={class:"flex items-center gap-2"},Fs={class:"flex items-center gap-2"},zs={class:"flex items-center gap-2"},Es={class:"relative max-w-4xl max-h-full p-4"},Ss=["src","alt"],Rs={key:0,class:"absolute inset-y-0 left-0 right-0 flex items-center justify-between px-4"},Ts=w({__name:"ProductDetails",props:{product:{type:Object,required:!0},user:{type:Object,default:null}},setup(e){const n=Re(),c=C(()=>!!(n.props.auth?.user||n.props.user||n.props.auth_user||n.props.authUser));C(()=>n.props.auth?.user||n.props.user||n.props.auth_user||n.props.authUser||null);const r=O(!1),l=m=>{const a=typeof window<"u"?window.location.pathname:"/products",p=`?redirect=${encodeURIComponent(a)}`;W.visit(`/login${p}`)},i=m=>{const a=typeof window<"u"?window.location.pathname:"/products",p=`?redirect=${encodeURIComponent(a)}`;W.visit(`/register${p}`)},D=(m,a)=>c.value?(typeof m=="function"&&m(),!0):(r.value=!0,!1),y=O(1),v=O(null),g=O(null),_=O(!1),B=O(""),A=O(""),F=O(0),Z=O(!1),K=C(()=>e.product.gallery&&e.product.gallery.length>0?e.product.gallery[F.value]?.url||e.product.primary_image||e.product.image:e.product.primary_image||e.product.image||"/placeholder.jpg"),j=C(()=>e.product.has_gallery&&e.product.images_count>1),ee=C(()=>e.product.gallery||[]),ke=m=>{F.value=m},oe=()=>{j.value&&(F.value=(F.value+1)%ee.value.length)},le=()=>{if(j.value){const m=ee.value.length;F.value=(F.value-1+m)%m}},we=()=>{Z.value=!0},re=()=>{Z.value=!1},P=C(()=>!e.product.has_variants||!v.value||!g.value?null:e.product.variants.find(m=>m.color_id===v.value&&m.size_id===g.value)),te=C(()=>{if(!e.product.has_variants||!v.value)return e.product.available_sizes||[];const a=e.product.variants.filter(p=>p.color_id===v.value).map(p=>p.size_id);return e.product.available_sizes.filter(p=>a.includes(p.id))}),Ce=C(()=>P.value?P.value.price:e.product.price),H=C(()=>e.product.has_variants?P.value?P.value.stock:e.product.variants.reduce((a,p)=>a+parseInt(p.stock||0),0):e.product.stock||0),$e=C(()=>e.product.is_donatable?!0:e.product.has_variants?P.value?P.value.stock>0:e.product.variants.some(m=>m.stock>0):(e.product.stock||0)>0),ne=C(()=>e.product.is_donatable?!0:e.product.has_variants?P.value&&P.value.stock>0:$e.value),Q=C(()=>{if(e.product.is_donatable)return 99;if(e.product.has_variants&&P.value)return Math.min(P.value.stock,99);if(e.product.has_variants&&!P.value){const m=Math.max(...e.product.variants.map(a=>a.stock||0));return Math.min(m,99)}return Math.min(H.value,99)}),z=C(()=>{if(e.product.has_variants){if(P.value)return P.value.stock>0?{type:"in-stock",message:`${P.value.stock} in stock for this variant`}:{type:"out-of-stock",message:"This variant is out of stock"};{const m=e.product.variants.filter(a=>a.stock>0);return m.length>0?{type:"variants-available",message:`${m.length} variants available (Total: ${H.value} items)`}:{type:"out-of-stock",message:"All variants are out of stock"}}}return H.value>0?{type:"in-stock",message:`${H.value} in stock`}:{type:"out-of-stock",message:"Out of stock"}}),De=C(()=>{switch(A.value){case"success":return U;case"error":return ce;case"warning":return st;default:return null}}),Pe=C(()=>{const m="flex items-center space-x-2 p-3 rounded-lg text-sm font-medium";switch(A.value){case"success":return m+" bg-success/10 text-success border border-success/20";case"error":return m+" bg-destructive/10 text-destructive border border-destructive/20";case"warning":return m+" bg-warning/10 text-warning border border-warning/20";default:return m+" bg-info/10 text-info border border-info/20"}});Te(v,()=>{g.value=null});const Oe=m=>parseFloat(m.toString()).toFixed(2),Ie=m=>{v.value=m},qe=m=>{g.value=m},Be=()=>{y.value<Q.value&&y.value++},Me=()=>{y.value>1&&y.value--},X=(m,a)=>{B.value=m,A.value=a,a==="success"&&setTimeout(()=>{B.value="",A.value=""},3e3)},Ae=()=>{D(()=>{if(e.product.has_variants&&!P.value){X("Please select both color and size before adding to cart.","warning");return}_.value=!0,B.value="";const m={quantity:y.value};P.value&&(m.variant_id=P.value.id),fetch(`/cart/add/${e.product.id}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(m)}).then(async a=>{const p=await a.json();a.ok&&p.success?(X(p.message||"Item added to cart successfully!","success"),W.reload({only:["cartItems"]})):X(p.message||"Failed to add item to cart.","error")}).catch(a=>{console.error("Error:",a),X("Something went wrong. Please try again.","error")}).finally(()=>{_.value=!1})})};return(m,a)=>(o(),f(T,null,[s("div",Vt,[s("div",Lt,[s("div",Ut,[s("img",{src:K.value,alt:e.product.name,class:"w-full h-full object-cover cursor-pointer transition-transform group-hover:scale-105",onClick:we},null,8,Kt),e.product.is_donatable?(o(),b(t(R),{key:0,class:"absolute top-4 right-4 bg-warning/20 text-warning"},{default:d(()=>[...a[6]||(a[6]=[k(" Donation ",-1)])]),_:1})):x("",!0),j.value?(o(),f("div",Ht,[s("button",{onClick:le,class:"p-2 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors"},[u(t(fe),{class:"h-5 w-5"})]),s("button",{onClick:oe,class:"p-2 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors"},[u(t(pe),{class:"h-5 w-5"})])])):x("",!0),j.value?(o(),f("div",Qt,h(F.value+1)+" / "+h(e.product.images_count),1)):x("",!0),K.value?(o(),f("div",Xt,[u(t(Ke),{class:"h-3 w-3 inline mr-1"}),a[7]||(a[7]=k(" Click to zoom ",-1))])):x("",!0)]),j.value?(o(),f("div",Wt,[s("div",Yt,[(o(!0),f(T,null,N(ee.value,(p,L)=>(o(),f("button",{key:p.id||L,onClick:ga=>ke(L),class:I(["flex-shrink-0 w-20 h-20 rounded-md overflow-hidden border-2 transition-all",F.value===L?"border-primary ring-2 ring-primary/20":"border-gray-200 hover:border-gray-300"])},[s("img",{src:p.url,alt:p.alt||e.product.name,class:"w-full h-full object-cover"},null,8,Jt)],10,Gt))),128))]),s("p",Zt,h(e.product.images_count)+" images available • Click thumbnails to view ",1)])):x("",!0)]),s("div",es,[u(t(R),{variant:"outline",class:"capitalize"},{default:d(()=>[k(h(e.product.category?.name||"Uncategorized"),1)]),_:1}),s("h1",ts,h(e.product.name),1),s("div",ss,[s("span",as,"$"+h(Oe(Ce.value)),1),e.product.is_donatable?(o(),f("p",os," This is a donation item. ")):x("",!0)]),B.value?(o(),f("div",{key:0,class:I(Pe.value)},[(o(),b(me(De.value),{class:"h-4 w-4 flex-shrink-0"})),s("span",null,h(B.value),1),A.value==="error"||A.value==="warning"?(o(),f("button",{key:0,onClick:a[0]||(a[0]=p=>{B.value="",A.value=""}),class:"ml-auto"},[u(t(ce),{class:"h-4 w-4"})])):x("",!0)],2)):x("",!0),e.product.has_variants&&e.product.available_colors?(o(),f("div",ls,[a[8]||(a[8]=s("h4",{class:"font-medium"},"Color:",-1)),s("div",rs,[(o(!0),f(T,null,N(e.product.available_colors,p=>(o(),f("button",{key:p.id,onClick:L=>Ie(p.id),class:I(["w-12 h-12 rounded-full border-2 transition-all",v.value===p.id?"ring-2 ring-primary ring-offset-2":"border-gray-300"]),style:je({backgroundColor:p.hex_code}),title:p.name},null,14,ns))),128))]),v.value?(o(),f("p",is," Selected: "+h(e.product.available_colors.find(p=>p.id===v.value)?.name),1)):x("",!0)])):x("",!0),e.product.has_variants&&te.value.length>0?(o(),f("div",us,[a[9]||(a[9]=s("h4",{class:"font-medium"},"Size:",-1)),s("div",ds,[(o(!0),f(T,null,N(te.value,p=>(o(),f("button",{key:p.id,onClick:L=>qe(p.id),class:I(["px-4 py-2 border rounded-md transition-all",g.value===p.id?"border-primary bg-primary text-white":"border-gray-300 hover:border-primary"])},h(p.name),11,cs))),128))]),g.value?(o(),f("p",fs," Selected: "+h(te.value.find(p=>p.id===g.value)?.name),1)):x("",!0)])):x("",!0),s("div",ps,[z.value.type==="in-stock"||z.value.type==="variants-available"?(o(),f("div",ms,[a[10]||(a[10]=s("div",{class:"w-2 h-2 bg-success rounded-full"},null,-1)),s("span",vs,h(z.value.message),1)])):z.value.type==="donation"?(o(),f("div",gs,[a[11]||(a[11]=s("div",{class:"w-2 h-2 bg-info rounded-full"},null,-1)),s("span",ys,h(z.value.message),1)])):z.value.type==="out-of-stock"?(o(),f("div",hs,[a[12]||(a[12]=s("div",{class:"w-2 h-2 bg-destructive rounded-full"},null,-1)),s("span",bs,h(z.value.message),1)])):x("",!0),e.product.has_variants&&(!v.value||!g.value)?(o(),f("div",xs," Please select "+h(v.value?"":"color")+h(!v.value&&!g.value?" and ":"")+h(g.value?"":"size"),1)):x("",!0)]),ne.value||z.value.type==="variants-available"?(o(),f("div",_s,[s("div",ks,[a[13]||(a[13]=s("label",{class:"text-sm font-medium"},"Quantity",-1)),s("div",ws,[s("div",Cs,[u(t(M),{size:"sm",variant:"ghost",onClick:Me,disabled:y.value<=1||_.value,class:"h-10 w-10 p-0"},{default:d(()=>[u(t(Le),{class:"h-4 w-4"})]),_:1},8,["disabled"]),u(t(Qe),{modelValue:y.value,"onUpdate:modelValue":a[1]||(a[1]=p=>y.value=p),modelModifiers:{number:!0},max:Q.value,min:"1",type:"number",disabled:_.value,class:"h-10 w-16 text-center border-0"},null,8,["modelValue","max","disabled"]),u(t(M),{size:"sm",variant:"ghost",onClick:Be,disabled:y.value>=Q.value||_.value,class:"h-10 w-10 p-0"},{default:d(()=>[u(t(at),{class:"h-4 w-4"})]),_:1},8,["disabled"])]),s("span",$s," Max: "+h(Q.value),1)])]),u(t(M),{onClick:Ae,disabled:!ne.value||_.value,size:"lg",class:I(["w-full",_.value?"opacity-75 cursor-not-allowed":""])},{default:d(()=>[_.value?(o(),f("div",Ds)):(o(),b(t(se),{key:0,class:"h-4 w-4 mr-2"})),a[14]||(a[14]=k(" Add to Cart ",-1))]),_:1},8,["disabled","class"]),s("div",Ps,[s("div",Os,[u(t(It),{class:"h-5 w-5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5"}),a[15]||(a[15]=s("div",{class:"flex-1"},[s("h4",{class:"text-sm font-semibold text-blue-900 dark:text-blue-300 mb-1"}," Information "),s("p",{class:"text-sm text-blue-800 dark:text-blue-400"},[k(" Your order will be received within "),s("strong",null,"1 to 7 days"),k(" after purchase. ")])],-1))])])])):e.product.has_variants&&z.value.type==="variants-available"?(o(),f("div",Is,[...a[16]||(a[16]=[s("p",{class:"text-info font-medium"},"Please select color and size to continue",-1)])])):x("",!0)])]),u(t(zt),{open:r.value,"onUpdate:open":a[5]||(a[5]=p=>r.value=p)},{default:d(()=>[u(t(St),{class:"sm:max-w-md"},{default:d(()=>[u(t(jt),null,{default:d(()=>[u(t(Nt),{class:"flex items-center gap-2 text-xl"},{default:d(()=>[u(t(se),{class:"h-5 w-5 text-primary"}),a[17]||(a[17]=k(" Account Required ",-1))]),_:1}),u(t(Rt),{class:"text-base pt-2"},{default:d(()=>[...a[18]||(a[18]=[k(" You need to be signed in to add items to your cart. Create an account or log in to continue shopping! ",-1)])]),_:1})]),_:1}),s("div",qs,[s("div",Bs,[a[22]||(a[22]=s("p",{class:"text-sm font-medium"},"With an account you can:",-1)),s("ul",Ms,[s("li",As,[u(t(U),{class:"h-4 w-4 text-success"}),a[19]||(a[19]=k(" Save items to your cart ",-1))]),s("li",Fs,[u(t(U),{class:"h-4 w-4 text-success"}),a[20]||(a[20]=k(" Track your orders ",-1))]),s("li",zs,[u(t(U),{class:"h-4 w-4 text-success"}),a[21]||(a[21]=k(" Fast checkout ",-1))])])])]),u(t(Tt),{class:"flex-col sm:flex-col gap-3"},{default:d(()=>[u(t(M),{onClick:a[2]||(a[2]=p=>i()),size:"lg",class:"w-full"},{default:d(()=>[u(t(ot),{class:"h-4 w-4 mr-2"}),a[23]||(a[23]=k(" Create Account ",-1))]),_:1}),u(t(M),{onClick:a[3]||(a[3]=p=>l()),variant:"outline",size:"lg",class:"w-full"},{default:d(()=>[u(t(Ot),{class:"h-4 w-4 mr-2"}),a[24]||(a[24]=k(" Log In ",-1))]),_:1}),u(t(M),{onClick:a[4]||(a[4]=p=>r.value=!1),variant:"ghost",size:"sm",class:"w-full"},{default:d(()=>[...a[25]||(a[25]=[k(" Continue Browsing ",-1)])]),_:1})]),_:1})]),_:1})]),_:1},8,["open"]),Z.value&&K.value?(o(),f("div",{key:0,class:"fixed inset-0 z-50 flex items-center justify-center bg-black/80",onClick:re},[s("div",Es,[s("img",{src:K.value,alt:e.product.name,class:"max-w-full max-h-full object-contain"},null,8,Ss),s("button",{onClick:re,class:"absolute top-4 right-4 text-white hover:text-gray-300 text-2xl bg-black/50 rounded-full w-10 h-10 flex items-center justify-center"}," × "),j.value?(o(),f("div",Rs,[s("button",{onClick:ie(le,["stop"]),class:"p-3 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors"},[u(t(fe),{class:"h-6 w-6"})]),s("button",{onClick:ie(oe,["stop"]),class:"p-3 bg-black/50 text-white rounded-full hover:bg-black/70 transition-colors"},[u(t(pe),{class:"h-6 w-6"})])])):x("",!0)])])):x("",!0)],64))}}),js=xe(Ts,[["__scopeId","data-v-ada0ec9c"]]),Ns={class:"prose max-w-none"},Vs={key:0},Ls={class:"text-muted-foreground leading-relaxed whitespace-pre-line"},Us={class:"space-y-2"},Ks={class:"text-muted-foreground"},Hs={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},Qs={class:"text-muted-foreground font-medium"},Xs={class:"font-semibold"},Ws=w({__name:"ProductDescription",props:{description:{},specifications:{},features:{},className:{default:"mb-12"}},setup(e){const n=e.description||e.specifications||e.features?.length;return(c,r)=>t(n)?(o(),b(t(Y),{key:0,class:I(e.className)},{default:d(()=>[u(t(G),{class:"p-6"},{default:d(()=>[s("div",Ns,[e.description?(o(),f("div",Vs,[r[0]||(r[0]=s("h3",{class:"text-xl font-semibold mb-4"},"Product Description",-1)),s("div",Ls,h(e.description),1)])):x("",!0),e.features?.length?(o(),f("div",{key:1,class:I({"mt-8":e.description})},[r[2]||(r[2]=s("h4",{class:"font-semibold mb-3"},"Key Features",-1)),s("ul",Us,[(o(!0),f(T,null,N(e.features,(l,i)=>(o(),f("li",{key:i,class:"flex items-start space-x-2"},[r[1]||(r[1]=s("div",{class:"w-1.5 h-1.5 bg-primary/80 rounded-full mt-2 flex-shrink-0"},null,-1)),s("span",Ks,h(l),1)]))),128))])],2)):x("",!0),e.specifications?(o(),f("div",{key:2,class:I({"mt-8":e.description||e.features?.length})},[r[3]||(r[3]=s("h4",{class:"font-semibold mb-4"},"Specifications",-1)),s("div",Hs,[(o(!0),f(T,null,N(e.specifications,(l,i)=>(o(),f("div",{key:i,class:"flex justify-between items-center py-2 px-3 bg-muted/30 rounded-lg"},[s("span",Qs,h(i)+":",1),s("span",Xs,h(l),1)]))),128))])],2)):x("",!0)])]),_:1})]),_:1},8,["class"])):(o(),b(t(Y),{key:1,class:I(e.className)},{default:d(()=>[u(t(G),{class:"p-6 text-center"},{default:d(()=>[...r[4]||(r[4]=[s("p",{class:"text-muted-foreground"},"No additional product information available.",-1)])]),_:1})]),_:1},8,["class"]))}}),Ys={class:"flex items-center justify-between"},Gs={class:"text-2xl font-bold"},Js={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},Zs={class:"relative overflow-hidden"},ea=["src","alt"],ta={class:"absolute top-3 left-3"},sa={class:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-all duration-300"},aa={class:"absolute bottom-3 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-all duration-300"},oa={class:"font-semibold line-clamp-2 group-hover:text-primary transition-colors"},la=["href"],ra={class:"flex items-center justify-between"},na={class:"flex flex-col"},ia={class:"text-lg font-bold text-primary"},ua={key:0,class:"text-sm text-muted-foreground line-through"},da={class:"flex space-x-2"},ca={key:0,class:"text-center"},fa=w({__name:"RelatedProducts",props:{products:{},title:{default:"Related Products"},maxItems:{default:4},className:{default:""}},setup(e){const n=r=>parseFloat(r.toString()).toFixed(2),c=e.products.slice(0,e.maxItems);return(r,l)=>e.products.length?(o(),f("div",{key:0,class:I(`space-y-6 ${e.className}`)},[s("div",Ys,[s("h2",Gs,h(e.title),1),e.products.length>e.maxItems?(o(),b(t(M),{key:0,variant:"outline",size:"sm",as:"a",href:"/products"},{default:d(()=>[...l[0]||(l[0]=[k(" View All ",-1)])]),_:1})):x("",!0)]),s("div",Js,[(o(!0),f(T,null,N(t(c),i=>(o(),b(t(Y),{key:i.id,class:"group overflow-hidden hover:shadow-xl hover:scale-[1.02] transition-all duration-500 cursor-pointer border-0 shadow-md"},{default:d(()=>[s("div",Zs,[s("img",{src:i.image||"/placeholder-product.jpg",alt:i.name,class:"h-48 w-full object-cover group-hover:scale-110 transition-transform duration-700",loading:"lazy"},null,8,ea),s("div",ta,[i.is_donatable?(o(),b(t(R),{key:0,class:"bg-warning text-warning-foreground"},{default:d(()=>[...l[1]||(l[1]=[k(" Donation ",-1)])]),_:1})):i.stock<10&&i.stock>0?(o(),b(t(R),{key:1,variant:"destructive"},{default:d(()=>[k(" Only "+h(i.stock)+" left ",1)]),_:2},1024)):i.stock===0?(o(),b(t(R),{key:2,variant:"destructive"},{default:d(()=>[...l[2]||(l[2]=[k(" Out of Stock ",-1)])]),_:1})):i.original_price&&i.original_price>i.price?(o(),b(t(R),{key:3,class:"bg-destructive/80 text-destructive-foreground"},{default:d(()=>[k(h(Math.round((i.original_price-i.price)/i.original_price*100))+"% OFF ",1)]),_:2},1024)):x("",!0)]),s("div",sa,[u(t(M),{size:"icon",variant:"secondary",class:"shadow-lg mb-2",title:"Add to wishlist"},{default:d(()=>[u(t(lt),{class:"h-4 w-4"})]),_:1})]),s("div",aa,[u(t(M),{size:"sm",variant:"secondary",class:"shadow-lg",as:"a",href:`/products/${i.slug}`},{default:d(()=>[...l[3]||(l[3]=[k(" Quick View ",-1)])]),_:1},8,["href"])])]),u(t(G),{class:"p-4 space-y-3"},{default:d(()=>[s("h3",oa,[s("a",{href:`/products/${i.slug}`,class:"hover:underline"},h(i.name),9,la)]),u(t(R),{variant:"outline",class:"text-xs capitalize"},{default:d(()=>[k(h(i.category?.name||"Uncategorized"),1)]),_:2},1024),s("div",ra,[s("div",na,[s("span",ia," $"+h(n(i.price)),1),i.original_price&&i.original_price>i.price?(o(),f("span",ua," $"+h(n(i.original_price)),1)):x("",!0)]),s("div",da,[u(t(M),{size:"sm",variant:"outline",as:"a",href:`/products/${i.slug}`,class:"hover:scale-105 transition-all duration-300"},{default:d(()=>[...l[4]||(l[4]=[k(" View ",-1)])]),_:1},8,["href"])])])]),_:2},1024)]),_:2},1024))),128))]),e.products.length>e.maxItems?(o(),f("div",ca,[u(t(M),{variant:"outline",as:"a",href:"/products"},{default:d(()=>[k(" View More Products ("+h(e.products.length-e.maxItems)+" more) ",1)]),_:1})])):x("",!0)],2)):x("",!0)}}),pa=xe(fa,[["__scopeId","data-v-e966bdae"]]),ma={class:"min-h-screen bg-background text-foreground"},va={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Va=w({__name:"ProductDetail",props:{product:{type:Object,required:!0},relatedProducts:{type:Array,default:()=>[]},categories:{type:Array,default:()=>[]},auth:{type:Object,default:()=>({})},cartItems:{type:Array,default:()=>[]},settings:{type:Object,default:()=>({})}},setup(e){const n=e.settings.site_name||"Elegant Store",c=e.auth.user,r=[{label:"Home",href:"/"},{label:"Products",href:"/products"},{label:e.product.category?.name||"Uncategorized",href:`/products?category=${e.product.category?.slug}`},{label:e.product.name,isActive:!0}];return(l,i)=>(o(),f("div",ma,[u(t(Ne),{title:e.product.name},null,8,["title"]),u(Ve,{categories:e.categories,cartItems:e.cartItems,user:t(c),siteName:t(n),settings:e.settings},null,8,["categories","cartItems","user","siteName","settings"]),s("div",va,[u(Ue,{items:r}),u(qt,{href:"/products",label:"Back to Products"}),u(Ft,{icon:"cart",dismissible:!0}),u(js,{product:e.product,user:t(c)},null,8,["product","user"]),u(Ws,{description:e.product.description,specifications:e.product.specifications,features:e.product.features},null,8,["description","specifications","features"]),u(pa,{products:e.relatedProducts,title:"You might also like",maxItems:4},null,8,["products"])])]))}});export{Va as default};
