import{d as L,J as X,h as m,n as h,g as t,e as a,u as e,t as o,a as N,i as b,b as d,f,o as i,c as g,r as w,w as de,m as D,D as R,F as P,p as j,y as se,v as ie,q as me,k as pe,l as he}from"./app-yiE6uSpj.js";import{N as fe}from"./Navbar-DSt-yin_.js";import{b as S,a as O,_ as q}from"./index-BkCac0jj.js";import{u as J}from"./useLocale-D4osIG5o.js";import{S as U,U as ve}from"./Separator.vue_vue_type_script_setup_true_lang-CoE9-6I-.js";import{S as oe}from"./star-BspN8hJe.js";import{G as xe}from"./gift-qhrTcAc3.js";import{H}from"./heart-BtDmXrEm.js";import{_ as V}from"./Input.vue_vue_type_script_setup_true_lang-BFKXwIBs.js";import{_ as z}from"./Label.vue_vue_type_script_setup_true_lang-BrqxV2jP.js";import{a as A,_ as B}from"./CardTitle.vue_vue_type_script_setup_true_lang-VWCklcNr.js";import{C as le}from"./clock-BzLt4z_A.js";import{C as ae}from"./credit-card-C6Z3ypdT.js";import{M as ne}from"./message-square-EDc9kg8u.js";import"./index-mUKK6tz8.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-BWd9wGrz.js";import"./useForwardExpose-QaTcUrh8.js";import"./index-Bw1oo_aB.js";import"./createContext-6SANLQZW.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-DNUHzSUa.js";import"./house-Bas7qKW4.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const ge={class:"w-32 h-32 bg-gradient-to-br from-muted to-muted/60 rounded-full flex items-center justify-center mx-auto mb-8 shadow-inner"},_e={class:"text-3xl font-bold mb-3"},be={class:"text-muted-foreground mb-8 max-w-md mx-auto"},ye={class:"flex flex-col sm:flex-row gap-4 justify-center mb-12"},ke={class:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-3xl mx-auto"},we={class:"text-center p-6 bg-primary/10 rounded-xl"},$e={class:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4"},Ce={class:"font-semibold mb-2"},Ie={class:"text-sm text-muted-foreground"},De={class:"text-center p-6 bg-destructive/10 rounded-xl"},Ve={class:"w-12 h-12 bg-destructive/20 rounded-full flex items-center justify-center mx-auto mb-4"},Se={class:"font-semibold mb-2"},Ne={class:"text-sm text-muted-foreground"},Ue={class:"text-center p-6 bg-secondary/10 rounded-xl"},Me={class:"w-12 h-12 bg-secondary/20 rounded-full flex items-center justify-center mx-auto mb-4"},Pe={class:"font-semibold mb-2"},je={class:"text-sm text-muted-foreground"},Oe={class:"mt-12 p-6 bg-muted/30 rounded-xl max-w-md mx-auto"},qe={class:"font-semibold mb-2"},ze={class:"text-sm text-muted-foreground mb-4"},Ae={class:"flex flex-col sm:flex-row gap-2 justify-center"},Be=L({__name:"EmptyCartState",props:{className:{default:""},showDonationOption:{type:Boolean,default:!1}},setup(p){const{t:s}=X(),{localizedUrl:x}=J();return(M,$)=>(i(),m("div",{class:h(`text-center py-20 ${p.className}`)},[t("div",ge,[a(e(U),{class:"h-16 w-16 text-muted-foreground"})]),t("h2",_e,o(e(s)("checkout.emptyCart")),1),t("p",be,o(e(s)("checkout.emptyCartMessage")),1),t("div",ye,[a(e(S),{as:"a",href:e(x)("/products"),size:"lg",class:"min-w-48"},{default:d(()=>[a(e(U),{class:"h-5 w-5 mr-2"}),f(" "+o(e(s)("home.shopNow")),1)]),_:1},8,["href"]),a(e(S),{variant:"outline",as:"a",href:e(x)("/products?featured=true"),size:"lg"},{default:d(()=>[a(e(oe),{class:"h-5 w-5 mr-2"}),f(" "+o(e(s)("home.featuredProducts")),1)]),_:1},8,["href"]),p.showDonationOption?(i(),N(e(S),{key:0,variant:"outline",as:"a",href:e(x)("/products?type=donation"),size:"lg",class:"text-warning hover:bg-warning/10"},{default:d(()=>[a(e(xe),{class:"h-5 w-5 mr-2"}),f(" "+o(e(s)("checkout.orDonate")),1)]),_:1},8,["href"])):b("",!0)]),t("div",ke,[t("div",we,[t("div",$e,[a(e(U),{class:"h-6 w-6 text-primary"})]),t("h3",Ce,o(e(s)("checkout.browseProducts")),1),t("p",Ie,o(e(s)("checkout.browseProductsDesc")),1)]),t("div",De,[t("div",Ve,[a(e(H),{class:"h-6 w-6 text-destructive"})]),t("h3",Se,o(e(s)("checkout.checkWishlist")),1),t("p",Ne,o(e(s)("checkout.checkWishlistDesc")),1)]),t("div",Ue,[t("div",Me,[a(e(oe),{class:"h-6 w-6 text-secondary"})]),t("h3",Pe,o(e(s)("checkout.featuredItems")),1),t("p",je,o(e(s)("checkout.featuredItemsDesc")),1)])]),t("div",Oe,[t("h4",qe,o(e(s)("checkout.needHelp")),1),t("p",ze,o(e(s)("checkout.helpMessage")),1),t("div",Ae,[a(e(S),{variant:"outline",size:"sm",as:"a",href:e(x)("/contact")},{default:d(()=>[f(o(e(s)("checkout.contactSupport")),1)]),_:1},8,["href"]),a(e(S),{variant:"outline",size:"sm",as:"a",href:e(x)("/help")},{default:d(()=>[f(o(e(s)("checkout.viewFaq")),1)]),_:1},8,["href"])])])],2))}}),Te={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},Fe={class:"lg:col-span-2 space-y-8"},Ee={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},Re={class:"flex flex-col items-center text-center space-y-4"},He={class:"flex items-center space-x-1"},Le={key:0,class:"absolute top-3 right-3"},Xe={class:"inline-flex items-center rounded-full bg-red-100 px-2.5 py-0.5 text-xs font-medium text-red-800"},Je={class:"flex flex-col items-center text-center space-y-4"},We={key:0,class:"absolute top-3 right-3"},Ge={class:"inline-flex items-center rounded-full bg-red-100 px-2.5 py-0.5 text-xs font-medium text-red-800"},Ke={class:"flex justify-center"},Ye={class:"relative cursor-pointer rounded-xl border-2 p-6 focus:outline-none transition-all hover:shadow-md border-primary bg-primary shadow-md max-w-md w-full"},Ze={class:"flex flex-col items-center text-center space-y-4"},Qe={class:"p-4 rounded-full bg-primary"},et={class:"font-bold text-lg text-primary-foreground"},tt={class:"text-sm text-primary-foreground/90"},st={class:"absolute top-3 right-3"},ot={class:"inline-flex items-center rounded-full bg-white/20 px-2.5 py-0.5 text-xs font-medium text-white"},lt={key:0,class:"ml-auto inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"},at={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},nt={class:"space-y-2"},rt={class:"space-y-2"},ct={class:"space-y-2"},ut={class:"hidden sm:flex gap-2"},dt=["value"],it={class:"sm:hidden space-y-2"},mt=["value"],pt={class:"text-xs text-muted-foreground"},ht={key:0,class:"text-xs text-amber-600"},ft={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},vt={class:"flex items-start space-x-3"},xt={class:"space-y-2"},gt={class:"text-sm font-medium text-blue-800"},_t={class:"text-sm text-blue-700"},bt={class:"text-sm text-blue-700"},yt={class:"text-sm text-blue-700"},kt={class:"space-y-2"},wt=["placeholder"],$t={class:"lg:col-span-1"},Ct={class:"sticky top-24 space-y-6"},It={class:"space-y-3"},Dt={class:"flex items-center space-x-3"},Vt=["src","alt"],St={key:1,class:"w-12 h-12 bg-muted rounded flex items-center justify-center border"},Nt={class:"font-medium"},Ut={class:"text-muted-foreground"},Mt={class:"font-bold"},Pt={class:"border-t pt-4"},jt={class:"flex justify-between text-xl font-bold"},Ot={key:0,class:"bg-destructive/10 border border-destructive/20 rounded-lg p-4 text-center"},qt={class:"text-sm text-destructive font-medium"},zt={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},At={class:"space-y-3"},Bt={class:"flex items-center justify-center space-x-2"},Tt={class:"text-sm font-semibold text-blue-900"},Ft={class:"text-sm text-blue-800 text-center"},Et=["href"],Rt={key:0,class:"flex items-center"},Ht={key:1,class:"flex items-center justify-center"},Lt={key:1,class:"mt-3 rounded-md border border-amber-300 bg-amber-50 px-3 py-3 text-sm text-amber-900",role:"alert","aria-live":"polite"},Xt={class:"font-medium"},Jt={class:"mt-2 flex flex-wrap gap-2"},Wt={class:"text-center text-xs text-muted-foreground space-y-1"},Gt=L({__name:"CheckoutContent",props:{cartItems:{},customer:{default:null},user:{default:null},shippingMethods:{default:()=>[]},paymentMethods:{default:()=>[]},existingCustomerData:{default:null}},setup(p){const{t:s,locale:x}=X(),{localizedUrl:M}=J(),$=g(()=>x.value==="ar"),T=g(()=>$.value?"ml-2":"mr-2"),_=p,y=w(!1),r=w("purchase"),k=w("stripe"),W=g(()=>!1),C=w("+963"),I=w(!1),v=w(""),G=[{code:"+963",country:"Syria",flag:"ðŸ‡¸ðŸ‡¾"},{code:"+1",country:"USA",flag:"ðŸ‡ºðŸ‡¸"},{code:"+44",country:"UK",flag:"ðŸ‡¬ðŸ‡§"},{code:"+971",country:"UAE",flag:"ðŸ‡¦ðŸ‡ª"},{code:"+966",country:"Saudi Arabia",flag:"ðŸ‡¸ðŸ‡¦"},{code:"+962",country:"Jordan",flag:"ðŸ‡¯ðŸ‡´"},{code:"+961",country:"Lebanon",flag:"ðŸ‡±ðŸ‡§"},{code:"+20",country:"Egypt",flag:"ðŸ‡ªðŸ‡¬"},{code:"custom",country:"Other Country",flag:"ðŸŒ"}],u=w({first_name:_.existingCustomerData?.first_name||_.customer?.first_name||"",last_name:_.existingCustomerData?.last_name||_.customer?.last_name||"",phone:_.existingCustomerData?.phone?.replace(/^\+\d+\s*/,"")||_.customer?.phone?.replace(/^\+\d+\s*/,"")||"",notes:""});de(C,c=>{c==="custom"?(I.value=!0,v.value="+"):(I.value=!1,v.value="")});const K=g(()=>{if(!u.value.phone)return"";const c=I.value?v.value:C.value;return!c||c==="custom"?u.value.phone:`${c}${u.value.phone.replace(/^0+/,"")}`}),Y=g(()=>_.cartItems.reduce((c,n)=>c+n.price*n.quantity,0)),F=c=>new Intl.NumberFormat(x.value==="ar"?"ar-SY":"en-US",{style:"currency",currency:"USD"}).format(c),re=g(()=>{const c=F(Y.value);return r.value==="donation"?`${s("checkout.donate")} ${c}`:`${s("checkout.pay")} ${c}`}),Z=g(()=>{const c=[];return u.value.first_name||c.push(s("checkout.firstName")),u.value.last_name||c.push(s("checkout.lastName")),u.value.phone||c.push(s("checkout.phone")),c}),Q=c=>c.product?.name||c.product_name||"Product",ee=c=>c.product?.image||null,E=g(()=>u.value.first_name&&u.value.last_name&&u.value.phone),ce=async()=>{if(!(y.value||!E.value)){y.value=!0;try{const c=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(!c)throw new Error("CSRF token not found. Please refresh the page.");const n={is_donation:r.value==="donation",first_name:u.value.first_name,last_name:u.value.last_name,phone:K.value,notes:u.value.notes,payment_method:k.value},l=await fetch(M("/orders"),{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":c,Accept:"application/json"},credentials:"same-origin",body:JSON.stringify(n)});if(!l.ok){const ue=await l.text();throw console.error("Response error:",l.status,ue),new Error(`Server error: ${l.status}`)}const te=await l.json();if(te.url)window.location.href=te.url;else throw new Error("No checkout URL received")}catch(c){console.error("Order creation error:",c),alert(`Failed to create order: ${c.message}`)}finally{y.value=!1}}};return(c,n)=>(i(),m("div",Te,[t("div",Fe,[a(e(q),null,{default:d(()=>[a(e(A),null,{default:d(()=>[a(e(B),{class:"text-center text-xl"},{default:d(()=>[f(o(e(s)("checkout.chooseOption")),1)]),_:1})]),_:1}),a(e(O),null,{default:d(()=>[t("div",Ee,[t("label",{class:h(["relative cursor-pointer rounded-xl border-2 p-6 focus:outline-none transition-all hover:shadow-md",r.value==="purchase"?"border-primary bg-primary shadow-md":"border-border hover:border-primary/50 bg-background"])},[D(t("input",{type:"radio",value:"purchase","onUpdate:modelValue":n[0]||(n[0]=l=>r.value=l),class:"sr-only"},null,512),[[R,r.value]]),t("div",Re,[t("div",{class:h(["p-4 rounded-full",r.value==="purchase"?"bg-primary":"bg-primary/20"])},[a(e(U),{class:h(["h-8 w-8",r.value==="purchase"?"text-primary-foreground":"text-primary"])},null,8,["class"])],2),t("div",null,[t("h3",{class:h(["font-bold text-lg transition-colors",r.value==="purchase"?"text-primary-foreground":"text-foreground"])},o(e(s)("checkout.purchaseItems")),3),t("p",{class:h(["text-sm transition-colors",r.value==="purchase"?"text-primary-foreground/90":"text-muted-foreground"])},o(e(s)("checkout.purchaseDescription")),3)])]),t("div",{class:h(["mt-4 space-y-1 text-sm transition-colors",r.value==="purchase"?"text-yellow-100":"text-gray-600"])},[t("p",null,"âœ“ "+o(e(s)("checkout.purchaseBenefit1")),1),t("p",null,"âœ“ "+o(e(s)("checkout.purchaseBenefit2")),1),t("p",He,[a(e(le),{class:"h-3 w-3"}),t("span",null,o(e(s)("checkout.deliveryTime")),1)])],2),r.value==="purchase"?(i(),m("div",Le,[t("span",Xe,o(e(s)("checkout.selected"))+" âœ“ ",1)])):b("",!0)],2),t("label",{class:h(["relative cursor-pointer rounded-xl border-2 p-6 focus:outline-none transition-all hover:shadow-md",r.value==="donation"?"border-destructive bg-destructive shadow-md":"border-border hover:border-destructive/50 bg-background"])},[D(t("input",{type:"radio",value:"donation","onUpdate:modelValue":n[1]||(n[1]=l=>r.value=l),class:"sr-only"},null,512),[[R,r.value]]),t("div",Je,[t("div",{class:h(["p-4 rounded-full",r.value==="donation"?"bg-destructive":"bg-destructive/20"])},[a(e(H),{class:h(["h-8 w-8",r.value==="donation"?"text-destructive-foreground":"text-destructive"])},null,8,["class"])],2),t("div",null,[t("h3",{class:h(["font-bold text-lg transition-colors",r.value==="donation"?"text-destructive-foreground":"text-foreground"])},o(e(s)("checkout.donateAmount")),3),t("p",{class:h(["text-sm transition-colors",r.value==="donation"?"text-yellow-100":"text-gray-600"])},o(e(s)("checkout.donateDescription")),3)])]),t("div",{class:h(["mt-4 space-y-1 text-sm transition-colors",r.value==="donation"?"text-yellow-100":"text-gray-600"])},[t("p",null,"â¤ï¸ "+o(e(s)("checkout.donateBenefit1")),1),t("p",null,"â¤ï¸ "+o(e(s)("checkout.donateBenefit2")),1)],2),r.value==="donation"?(i(),m("div",We,[t("span",Ge,o(e(s)("checkout.selected"))+" âœ“ ",1)])):b("",!0)],2)])]),_:1})]),_:1}),a(e(q),null,{default:d(()=>[a(e(A),null,{default:d(()=>[a(e(B),{class:"text-center text-xl"},{default:d(()=>[f(o(e(s)("checkout.paymentMethod")),1)]),_:1})]),_:1}),a(e(O),null,{default:d(()=>[t("div",Ke,[t("label",Ye,[D(t("input",{type:"radio",value:"stripe","onUpdate:modelValue":n[2]||(n[2]=l=>k.value=l),class:"sr-only",checked:""},null,512),[[R,k.value]]),t("div",Ze,[t("div",Qe,[a(e(ae),{class:"h-8 w-8 text-primary-foreground"})]),t("div",null,[t("h3",et,o(e(s)("checkout.cardOptionTitle")),1),t("p",tt,o(e(s)("checkout.cardOptionDescription")),1)])]),t("div",st,[t("span",ot,o(e(s)("checkout.selected"))+" âœ“ ",1)])])])]),_:1})]),_:1}),a(e(q),null,{default:d(()=>[a(e(A),null,{default:d(()=>[a(e(B),{class:"flex items-center space-x-2"},{default:d(()=>[a(e(ve),{class:"h-5 w-5"}),t("span",null,o(r.value==="donation"?e(s)("checkout.donorInfo"):e(s)("checkout.customerInfo")),1),p.existingCustomerData?.has_existing_data?(i(),m("span",lt,o(e(s)("checkout.prefilled")),1)):b("",!0)]),_:1})]),_:1}),a(e(O),{class:"space-y-4"},{default:d(()=>[t("div",at,[t("div",nt,[a(e(z),{for:"first_name"},{default:d(()=>[f(o(e(s)("checkout.firstName"))+" *",1)]),_:1}),a(e(V),{id:"first_name",modelValue:u.value.first_name,"onUpdate:modelValue":n[3]||(n[3]=l=>u.value.first_name=l),required:"",placeholder:e(s)("checkout.firstNamePlaceholder")},null,8,["modelValue","placeholder"])]),t("div",rt,[a(e(z),{for:"last_name"},{default:d(()=>[f(o(e(s)("checkout.lastName"))+" *",1)]),_:1}),a(e(V),{id:"last_name",modelValue:u.value.last_name,"onUpdate:modelValue":n[4]||(n[4]=l=>u.value.last_name=l),required:"",placeholder:e(s)("checkout.lastNamePlaceholder")},null,8,["modelValue","placeholder"])])]),t("div",ct,[a(e(z),{for:"phone"},{default:d(()=>[f(o(e(s)("checkout.phone"))+" *",1)]),_:1}),t("div",ut,[D(t("select",{"onUpdate:modelValue":n[5]||(n[5]=l=>C.value=l),class:"flex h-10 w-40 rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"},[(i(),m(P,null,j(G,l=>t("option",{key:l.code,value:l.code},o(l.flag)+" "+o(l.code==="custom"?l.country:l.code),9,dt)),64))],512),[[se,C.value]]),I.value?(i(),N(e(V),{key:0,modelValue:v.value,"onUpdate:modelValue":n[6]||(n[6]=l=>v.value=l),type:"text",placeholder:"+XXX",class:"w-24",onInput:n[7]||(n[7]=l=>v.value=v.value.replace(/[^0-9+]/g,""))},null,8,["modelValue"])):b("",!0),a(e(V),{id:"phone",modelValue:u.value.phone,"onUpdate:modelValue":n[8]||(n[8]=l=>u.value.phone=l),type:"tel",required:"",placeholder:"944255208",class:"flex-1",onInput:n[9]||(n[9]=l=>u.value.phone=u.value.phone.replace(/[^0-9]/g,""))},null,8,["modelValue"])]),t("div",it,[D(t("select",{"onUpdate:modelValue":n[10]||(n[10]=l=>C.value=l),class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring"},[(i(),m(P,null,j(G,l=>t("option",{key:l.code,value:l.code},o(l.flag)+" "+o(l.code==="custom"?l.country:l.code),9,mt)),64))],512),[[se,C.value]]),I.value?(i(),N(e(V),{key:0,modelValue:v.value,"onUpdate:modelValue":n[11]||(n[11]=l=>v.value=l),type:"text",placeholder:"+XXX",class:"w-full",onInput:n[12]||(n[12]=l=>v.value=v.value.replace(/[^0-9+]/g,""))},null,8,["modelValue"])):b("",!0),a(e(V),{id:"phone",modelValue:u.value.phone,"onUpdate:modelValue":n[13]||(n[13]=l=>u.value.phone=l),type:"tel",required:"",placeholder:"944255208",class:"w-full",onInput:n[14]||(n[14]=l=>u.value.phone=u.value.phone.replace(/[^0-9]/g,""))},null,8,["modelValue"])]),t("p",pt,[f(o(e(s)("checkout.fullNumber"))+": ",1),t("strong",null,o(K.value||e(s)("checkout.enterPhone")),1)]),I.value?(i(),m("p",ht," ðŸ’¡ "+o(e(s)("checkout.countryCodeHint")),1)):b("",!0)]),t("div",ft,[t("div",vt,[a(e(le),{class:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),t("div",xt,[t("h4",gt,o(e(s)("checkout.information")),1),t("p",_t," ðŸ“¦ "+o(e(s)("checkout.orderDeliveryInfo")),1),t("p",bt," ðŸ¢ "+o(e(s)("checkout.coordinationInfo")),1),t("p",yt," ðŸ“ž "+o(e(s)("checkout.contactInfo")),1)])])]),t("div",kt,[a(e(z),{for:"notes",class:"flex items-center space-x-2"},{default:d(()=>[a(e(ne),{class:"h-4 w-4"}),t("span",null,o(e(s)("checkout.additionalNotes"))+" ("+o(e(s)("common.optional"))+")",1)]),_:1}),D(t("textarea",{id:"notes","onUpdate:modelValue":n[15]||(n[15]=l=>u.value.notes=l),rows:"2",placeholder:r.value==="donation"?e(s)("checkout.notesPlaceholder"):e(s)("checkout.purchaseNotesPlaceholder"),class:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,8,wt),[[ie,u.value.notes]])])]),_:1})]),_:1})]),t("div",$t,[t("div",Ct,[a(e(q),null,{default:d(()=>[a(e(A),null,{default:d(()=>[a(e(B),{class:"flex items-center space-x-2"},{default:d(()=>[(i(),N(me(r.value==="donation"?e(H):e(U)),{class:"h-5 w-5"})),t("span",null,o(r.value==="donation"?e(s)("checkout.donationSummary"):e(s)("checkout.orderSummary")),1)]),_:1})]),_:1}),a(e(O),{class:"space-y-4"},{default:d(()=>[t("div",It,[(i(!0),m(P,null,j(p.cartItems,l=>(i(),m("div",{key:l.id,class:"flex justify-between items-center text-sm"},[t("div",Dt,[ee(l)?(i(),m("img",{key:0,src:ee(l),alt:Q(l),class:"w-12 h-12 object-cover rounded border"},null,8,Vt)):(i(),m("div",St,[a(e(U),{class:"h-5 w-5 text-muted-foreground"})])),t("div",null,[t("p",Nt,o(Q(l)),1),t("p",Ut,o(e(s)("checkout.qty"))+": "+o(l.quantity),1)])]),t("p",Mt,o(F(l.price*l.quantity)),1)]))),128))]),t("div",Pt,[t("div",jt,[t("span",null,o(r.value==="donation"?e(s)("checkout.donationAmount"):e(s)("cart.total"))+":",1),t("span",null,o(F(Y.value)),1)])]),r.value==="donation"?(i(),m("div",Ot,[t("p",qt,"ðŸ™ "+o(e(s)("checkout.thankYouSupport")),1)])):b("",!0),t("div",zt,[t("div",At,[t("div",Bt,[a(e(ne),{class:"h-5 w-5 text-blue-600"}),t("h4",Tt,o(e(s)("checkout.needHelp")),1)]),t("p",Ft,o(e(s)("checkout.helpMessage")),1),t("a",{href:`https://wa.me/963937671126?text=${encodeURIComponent("Hi, I need help with my payment on the order")}`,target:"_blank",rel:"noopener noreferrer",class:"flex items-center justify-center gap-2 w-full bg-green-600 hover:bg-green-700 text-white font-medium py-3 px-4 rounded-lg transition-colors duration-200"},[n[16]||(n[16]=t("svg",{class:"h-5 w-5",fill:"currentColor",viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},[t("path",{d:"M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.01-.57-.01-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"})],-1)),t("span",null,o(e(s)("checkout.contactWhatsapp")),1)],8,Et),n[17]||(n[17]=t("p",{class:"text-xs text-blue-700 text-center"},[f(" ðŸ“ž "),t("span",{class:"font-medium"},"+963 937 671 126")],-1))])]),a(e(S),{onClick:ce,disabled:y.value||!E.value,class:h(["w-full h-14 text-lg font-bold",W.value?"bg-yellow-500 hover:bg-yellow-600 text-gray-900 disabled:bg-yellow-300":r.value==="donation"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-400":"bg-blue-600 hover:bg-blue-700 text-white disabled:bg-blue-400"])},{default:d(()=>[y.value?(i(),m("div",Rt,[(i(),m("svg",{class:h(["animate-spin h-6 w-6 text-white",$.value?"ml-3 -mr-1":"-ml-1 mr-3"]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[...n[18]||(n[18]=[t("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"},null,-1),t("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"},null,-1)])],2)),t("span",null,o(e(s)("checkout.processing"))+"...",1)])):(i(),m("div",Ht,[a(e(ae),{class:h(["h-6 w-6",T.value])},null,8,["class"]),t("span",null,o(re.value),1)]))]),_:1},8,["disabled","class"]),!y.value&&!E.value&&Z.value.length?(i(),m("div",Lt,[t("p",Xt,o(e(s)("checkout.fillAllFields"))+": ",1),t("div",Jt,[(i(!0),m(P,null,j(Z.value,l=>(i(),m("span",{key:l,class:"inline-flex items-center rounded-full bg-amber-100 px-2.5 py-1 text-xs font-medium"},o(l),1))),128))])])):b("",!0),t("div",Wt,[t("p",null,"ðŸ”’ "+o(e(s)("checkout.securePayment")),1),t("p",null,o(e(s)("checkout.redirectMessage")),1)])]),_:1})]),_:1})])])]))}}),Kt={class:"min-h-screen bg-background text-foreground"},Yt={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},bs=L({__name:"Checkout",props:{cartItems:{},categories:{},auth:{},settings:{},shippingMethods:{},paymentMethods:{},existingCustomerData:{}},setup(p){const{t:s}=X(),{localizedUrl:x}=J(),M=p.settings?.site_name||"Elegant Store",$=p.auth?.user,T=g(()=>p.cartItems.length>0),_=g(()=>p.cartItems.some(k=>k.is_donatable)),y=k=>{he.delete(x(`/cart/remove/${k}`),{preserveState:!0})},r=()=>{console.log("Processing payment...")};return(k,W)=>(i(),m("div",Kt,[a(e(pe),{title:e(s)("checkout.title")},null,8,["title"]),a(fe,{categories:p.categories,cartItems:p.cartItems,user:e($),siteName:e(M),settings:p.settings},null,8,["categories","cartItems","user","siteName","settings"]),t("div",Yt,[T.value?(i(),N(Gt,{key:1,cartItems:p.cartItems,user:e($),shippingMethods:p.shippingMethods,paymentMethods:p.paymentMethods,existingCustomerData:p.existingCustomerData,onRemoveItem:y,onProcessPayment:r},null,8,["cartItems","user","shippingMethods","paymentMethods","existingCustomerData"])):(i(),N(Be,{key:0,showDonationOption:_.value},null,8,["showDonationOption"]))])]))}});export{bs as default};
