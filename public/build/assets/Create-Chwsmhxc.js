import{d as C,w as T,c as _,a as k,u as t,b as o,e as a,f,g as r,h as b,i as x,n as I,t as l,o as g,j,r as M,k as W,l as q}from"./app-ZtWrQ5IN.js";import{_ as F}from"./Input.vue_vue_type_script_setup_true_lang-CMQJ5Ers.js";import{_ as $}from"./Label.vue_vue_type_script_setup_true_lang-C2OSXkIw.js";import{_ as D,a as P,c as G,b as N}from"./index-DL6FTeFP.js";import{_ as U,a as L}from"./CardTitle.vue_vue_type_script_setup_true_lang-BYtr1Flc.js";import{_ as R}from"./Checkbox.vue_vue_type_script_setup_true_lang-D9Coni1W.js";import{I as H}from"./info-Cb5_27UB.js";import{_ as Z}from"./PageHeader.vue_vue_type_script_setup_true_lang-BSflIHxr.js";import{_ as J}from"./AdminLayout.vue_vue_type_script_setup_true_lang-lOHfc-3S.js";import{S as z}from"./save-CE9B4UKg.js";import{P as K}from"./package-jPYzlnag.js";import"./useForwardExpose-DQJdJ13F.js";import"./createContext-Cy1H3f4p.js";import"./arrow-left-njwBY1XA.js";import"./Separator.vue_vue_type_script_setup_true_lang-Cx_wNFAq.js";import"./heart-cOn8MTEG.js";import"./chevron-down-B9fap7f-.js";import"./search-Bzds7p4q.js";import"./eye-BeeZpH2G.js";import"./house-D2UI-oI7.js";import"./users-36gKzr2m.js";import"./chevron-right-Btn1kPFe.js";const Q={class:"space-y-2"},X={key:0,class:"text-sm text-destructive"},Y={class:"space-y-2"},ee={class:"flex"},te={class:"text-xs text-muted-foreground"},se={key:0,class:"text-sm text-destructive"},ae={class:"space-y-2"},re=["value","maxlength"],oe={class:"text-xs text-muted-foreground"},ie={key:0,class:"text-sm text-destructive"},le=C({__name:"BasicInformationForm",props:{name:{},slug:{},description:{},errors:{},autoGenerateSlug:{type:Boolean,default:!0},maxDescriptionLength:{default:500}},emits:["update:name","update:slug","update:description"],setup(s,{emit:p}){const e=s,m=p,i=c=>c?c.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-"):"";T(()=>e.name,c=>{e.autoGenerateSlug&&c&&!e.slug&&m("update:slug",i(c))});const n=_(()=>e.slug||i(e.name)||"category-slug"),h=_(()=>e.description.length),A=c=>{m("update:name",c)},O=c=>{m("update:slug",c)},B=c=>{c.length<=e.maxDescriptionLength&&m("update:description",c)};return(c,d)=>(g(),k(t(D),null,{default:o(()=>[a(t(L),null,{default:o(()=>[a(t(U),null,{default:o(()=>[...d[1]||(d[1]=[f("Basic Information",-1)])]),_:1})]),_:1}),a(t(P),{class:"space-y-6"},{default:o(()=>[r("div",Q,[a(t($),{for:"name"},{default:o(()=>[...d[2]||(d[2]=[f(" Category Name ",-1),r("span",{class:"text-destructive"},"*",-1)])]),_:1}),a(t(F),{id:"name","model-value":s.name,"onUpdate:modelValue":A,placeholder:"Electronics, Clothing, Books...",class:I(["text-lg",{"border-destructive":s.errors.name}])},null,8,["model-value","class"]),s.errors.name?(g(),b("p",X,l(s.errors.name),1)):x("",!0)]),r("div",Y,[a(t($),{for:"slug"},{default:o(()=>[...d[3]||(d[3]=[f("Category URL Slug",-1)])]),_:1}),r("div",ee,[d[4]||(d[4]=r("span",{class:"inline-flex items-center px-3 rounded-l-md border border-r-0 border-input bg-muted text-sm text-muted-foreground"}," /categories/ ",-1)),a(t(F),{id:"slug","model-value":s.slug,"onUpdate:modelValue":O,placeholder:i(s.name)||"category-slug",class:I(["rounded-l-none",{"border-destructive":s.errors.slug}])},null,8,["model-value","placeholder","class"])]),r("p",te," Preview: /categories/"+l(n.value),1),s.errors.slug?(g(),b("p",se,l(s.errors.slug),1)):x("",!0)]),r("div",ae,[a(t($),{for:"description"},{default:o(()=>[...d[5]||(d[5]=[f("Description",-1)])]),_:1}),r("textarea",{id:"description",value:s.description,onInput:d[0]||(d[0]=S=>B(S.target.value)),placeholder:"Describe this category and what products it contains...",rows:"4",maxlength:s.maxDescriptionLength,class:"flex min-h-[100px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,40,re),r("p",oe,l(h.value)+"/"+l(s.maxDescriptionLength)+" characters ",1),s.errors.description?(g(),b("p",ie,l(s.errors.description),1)):x("",!0)])]),_:1})]),_:1}))}});/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E=G("FolderPlusIcon",[["path",{d:"M12 10v6",key:"1bos4e"}],["path",{d:"M9 13h6",key:"1uhe8q"}],["path",{d:"M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z",key:"1kt360"}]]),ne={class:"flex items-center space-x-2"},ce={key:0,class:"p-3 bg-orange-50 border border-orange-200 rounded-lg"},de={class:"flex items-start space-x-2"},ue=C({__name:"PublishingOptions",props:{isActive:{type:Boolean},showDraftWarning:{type:Boolean,default:!0},title:{default:"Publishing"},activeLabel:{default:"Active (Visible to customers)"}},emits:["update:isActive"],setup(s,{emit:p}){const e=p,m=i=>{e("update:isActive",i)};return(i,n)=>(g(),k(t(D),null,{default:o(()=>[a(t(L),null,{default:o(()=>[a(t(U),null,{default:o(()=>[f(l(s.title),1)]),_:1})]),_:1}),a(t(P),{class:"space-y-4"},{default:o(()=>[r("div",ne,[a(t(R),{checked:s.isActive,"onUpdate:checked":m},null,8,["checked"]),a(t($),{class:"cursor-pointer"},{default:o(()=>[f(l(s.activeLabel),1)]),_:1})]),!s.isActive&&s.showDraftWarning?(g(),b("div",ce,[r("div",de,[a(t(H),{class:"h-4 w-4 text-orange-600 mt-0.5 flex-shrink-0"}),n[0]||(n[0]=r("div",{class:"text-sm text-orange-700"},[r("p",{class:"font-medium"},"Draft Mode"),r("p",{class:"text-xs"},"This item will not be visible to customers")],-1))])])):x("",!0)]),_:1})]),_:1}))}}),me={class:"space-y-2"},ge={key:0,class:"text-xs text-muted-foreground"},pe=C({__name:"OrganizationSettings",props:{sortOrder:{},title:{default:"Organization"},helpText:{default:"Lower numbers appear first in listings"}},emits:["update:sortOrder"],setup(s,{emit:p}){const e=p,m=i=>{const n=i.target,h=parseInt(n.value)||0;e("update:sortOrder",h)};return(i,n)=>(g(),k(t(D),null,{default:o(()=>[a(t(L),null,{default:o(()=>[a(t(U),null,{default:o(()=>[f(l(s.title),1)]),_:1})]),_:1}),a(t(P),{class:"space-y-4"},{default:o(()=>[r("div",me,[a(t($),{for:"sort_order"},{default:o(()=>[...n[0]||(n[0]=[f("Sort Order",-1)])]),_:1}),a(t(F),{id:"sort_order",value:s.sortOrder,onInput:m,type:"number",min:"0",placeholder:"0"},null,8,["value"]),s.helpText?(g(),b("p",ge,l(s.helpText),1)):x("",!0)])]),_:1})]),_:1}))}}),fe={key:0,class:"aspect-video"},ve=["src","alt"],he={class:"space-y-3"},xe={class:"font-semibold text-lg"},_e={key:0,class:"text-sm text-muted-foreground leading-relaxed"},be={class:"flex items-center space-x-2 text-xs"},ye={class:"bg-muted px-2 py-1 rounded text-xs font-mono"},we=C({__name:"LivePreview",props:{name:{},slug:{},description:{},imagePreview:{},title:{default:"Preview"},baseUrl:{default:"/categories"}},setup(s){const p=s,e=n=>n?n.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-"):"",m=_(()=>p.slug||e(p.name)||"category-slug"),i=_(()=>`${p.baseUrl}/${m.value}`);return(n,h)=>s.name?(g(),k(t(D),{key:0},{default:o(()=>[a(t(L),null,{default:o(()=>[a(t(U),{class:"text-lg"},{default:o(()=>[f(l(s.title),1)]),_:1})]),_:1}),a(t(P),{class:"space-y-4"},{default:o(()=>[s.imagePreview?(g(),b("div",fe,[r("img",{src:s.imagePreview,alt:`${s.name} preview`,class:"w-full h-full object-cover rounded-lg border"},null,8,ve)])):x("",!0),r("div",he,[r("h3",xe,l(s.name),1),s.description?(g(),b("p",_e,l(s.description),1)):x("",!0),r("div",be,[h[0]||(h[0]=r("span",{class:"text-muted-foreground"},"URL:",-1)),r("code",ye,l(i.value),1)])])]),_:1})]),_:1})):x("",!0)}}),$e={class:"max-w-8xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Ce={class:"grid grid-cols-1 lg:grid-cols-3 gap-8 bg-background text-foreground"},ke={class:"lg:col-span-2 space-y-8"},Se={class:"lg:col-span-1 space-y-6"},De={class:"lg:hidden fixed bottom-0 left-0 right-0 bg-background border-t p-4 shadow-lg z-50"},Pe={class:"flex space-x-3"},Qe=C({__name:"Create",setup(s){const p=[{label:"Categories",href:"/admin/categories"},{label:"Create Category",isActive:!0}],e=j({name:"",slug:"",description:"",image:null,is_active:!0,sort_order:0}),m=M(null),i=_(()=>e.name&&e.name.trim().length>0),n=_(()=>[{label:"Save as Draft",variant:"outline",icon:E,disabled:e.processing||!i.value,loading:e.processing,onClick:S},{label:"Save & Publish",variant:"default",icon:z,disabled:e.processing||!i.value,loading:e.processing,onClick:V}]);_(()=>[{label:i.value?"Form is valid":"Category name is required",color:i.value?"green":"red",active:!0},{label:e.is_active?"Will be published":"Will be saved as draft",color:e.is_active?"blue":"gray",active:!0}]);const h=u=>{e.name=u},A=u=>{e.slug=u},O=u=>{e.description=u},B=u=>{e.is_active=u},c=u=>{e.sort_order=u},d=(u=!1)=>{if(!i.value){alert("Category name is required");return}!e.slug&&e.name&&(e.slug=e.name.toLowerCase().replace(/[^\w ]+/g,"").replace(/ +/g,"-"));const y={...e.data()};if(u&&(y.is_active=!1),e.image){const w=new FormData;Object.keys(y).forEach(v=>{v==="image"&&e.image?w.append("image",e.image):v==="is_active"?w.append(v,!u&&e[v]?"1":"0"):y[v]!==null&&y[v]!==""&&w.append(v,y[v].toString())}),q.post("/admin/categories",w,{forceFormData:!0,onSuccess:()=>{},onError:v=>{console.error("Form submission errors:",v)}})}else u&&(e.is_active=!1),e.post("/admin/categories",{onSuccess:()=>{},onError:w=>{console.error("Form submission errors:",w)}})},S=()=>{d(!0)},V=()=>{d(!1)};return(u,y)=>(g(),k(J,{title:"Create Category",breadcrumbs:p},{default:o(()=>[a(t(W),{title:"Create Category"}),a(Z,{title:"Create New Category",description:"Add a new category to organize your products",icon:t(K),"icon-color":"text-primary",actions:n.value},null,8,["icon","actions"]),r("div",$e,[r("div",Ce,[r("div",ke,[a(le,{name:t(e).name,slug:t(e).slug,description:t(e).description,errors:t(e).errors,"auto-generate-slug":!0,"max-description-length":500,"onUpdate:name":h,"onUpdate:slug":A,"onUpdate:description":O},null,8,["name","slug","description","errors"])]),r("div",Se,[a(ue,{"is-active":t(e).is_active,"show-draft-warning":!0,title:"Publishing","active-label":"Active (Visible to customers)","onUpdate:isActive":B},null,8,["is-active"]),a(pe,{"sort-order":t(e).sort_order,title:"Organization","help-text":"Lower numbers appear first in category listings","onUpdate:sortOrder":c},null,8,["sort-order"]),a(we,{name:t(e).name,slug:t(e).slug,description:t(e).description,"image-preview":m.value,title:"Preview","base-url":"/categories"},null,8,["name","slug","description","image-preview"])])])]),r("div",De,[r("div",Pe,[a(t(N),{onClick:S,variant:"outline",disabled:t(e).processing||!i.value,class:"flex-1"},{default:o(()=>[a(t(E),{class:"h-4 w-4 mr-2"}),f(" "+l(t(e).processing?"Saving...":"Save Draft"),1)]),_:1},8,["disabled"]),a(t(N),{onClick:V,disabled:t(e).processing||!i.value,class:"flex-1"},{default:o(()=>[a(t(z),{class:"h-4 w-4 mr-2"}),f(" "+l(t(e).processing?"Publishing...":"Publish"),1)]),_:1},8,["disabled"])])])]),_:1}))}});export{Qe as default};
