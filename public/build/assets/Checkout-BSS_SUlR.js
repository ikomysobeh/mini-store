import{d as U,h as c,n as p,g as e,e as o,u as s,a as D,i as y,b as n,f as v,o as u,r as N,c as k,m as I,E as A,t as x,v as L,q as G,F as E,p as T,k as Q,l as W}from"./app-CtOeZm3Q.js";import{N as J}from"./Navbar-tvCjcpd9.js";import{b,a as P,_ as V}from"./index-dgqChElI.js";import{S as w,U as K}from"./Separator.vue_vue_type_script_setup_true_lang-DE6ePIgQ.js";import{S as B}from"./star-DH0JXDNr.js";import{G as X}from"./gift-C19vfiRF.js";import{H as O}from"./heart-v0xXzQxe.js";import{_ as M}from"./Input.vue_vue_type_script_setup_true_lang-DZXZYSAb.js";import{_ as C}from"./Label.vue_vue_type_script_setup_true_lang-C7G-dnxW.js";import{a as j,_ as F}from"./CardTitle.vue_vue_type_script_setup_true_lang-C6R_zWDG.js";import{C as R}from"./clock-nl6pvHtL.js";import{M as Z}from"./message-square-BSj2bWqN.js";import{C as ee}from"./credit-card-Slkx4sOx.js";import"./index-CFYIl74C.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-C0SnATGU.js";import"./useForwardExpose-Bb6P-pKm.js";import"./index-BwJNnqo0.js";import"./createContext-v-WowEnp.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-B7EUnC_p.js";import"./house-BrHmf67V.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const te={class:"w-32 h-32 bg-gradient-to-br from-muted to-muted/60 rounded-full flex items-center justify-center mx-auto mb-8 shadow-inner"},se={class:"flex flex-col sm:flex-row gap-4 justify-center mb-12"},oe={class:"grid grid-cols-1 md:grid-cols-3 gap-6 max-w-3xl mx-auto"},re={class:"text-center p-6 bg-primary/10 rounded-xl"},ae={class:"w-12 h-12 bg-primary/20 rounded-full flex items-center justify-center mx-auto mb-4"},le={class:"text-center p-6 bg-destructive/10 rounded-xl"},ne={class:"w-12 h-12 bg-destructive/20 rounded-full flex items-center justify-center mx-auto mb-4"},ie={class:"text-center p-6 bg-secondary/10 rounded-xl"},de={class:"w-12 h-12 bg-secondary/20 rounded-full flex items-center justify-center mx-auto mb-4"},ue={class:"mt-12 p-6 bg-muted/30 rounded-xl max-w-md mx-auto"},me={class:"flex flex-col sm:flex-row gap-2 justify-center"},ce=U({__name:"EmptyCartState",props:{className:{default:""},showDonationOption:{type:Boolean,default:!1}},setup(m){return(f,r)=>(u(),c("div",{class:p(`text-center py-20 ${m.className}`)},[e("div",te,[o(s(w),{class:"h-16 w-16 text-muted-foreground"})]),r[13]||(r[13]=e("h2",{class:"text-3xl font-bold mb-3"},"Your cart is empty",-1)),r[14]||(r[14]=e("p",{class:"text-muted-foreground mb-8 max-w-md mx-auto"}," Add some items to your cart to proceed with checkout. Browse our collection of amazing products! ",-1)),e("div",se,[o(s(b),{as:"a",href:"/products",size:"lg",class:"min-w-48"},{default:n(()=>[o(s(w),{class:"h-5 w-5 mr-2"}),r[0]||(r[0]=v(" Start Shopping ",-1))]),_:1}),o(s(b),{variant:"outline",as:"a",href:"/products?featured=true",size:"lg"},{default:n(()=>[o(s(B),{class:"h-5 w-5 mr-2"}),r[1]||(r[1]=v(" View Featured Products ",-1))]),_:1}),m.showDonationOption?(u(),D(s(b),{key:0,variant:"outline",as:"a",href:"/products?type=donation",size:"lg",class:"text-warning hover:bg-warning/10"},{default:n(()=>[o(s(X),{class:"h-5 w-5 mr-2"}),r[2]||(r[2]=v(" Make a Donation ",-1))]),_:1})):y("",!0)]),e("div",oe,[e("div",re,[e("div",ae,[o(s(w),{class:"h-6 w-6 text-primary"})]),r[3]||(r[3]=e("h3",{class:"font-semibold mb-2"},"Browse Products",-1)),r[4]||(r[4]=e("p",{class:"text-sm text-muted-foreground"},"Discover our wide range of quality products and amazing deals",-1))]),e("div",le,[e("div",ne,[o(s(O),{class:"h-6 w-6 text-destructive"})]),r[5]||(r[5]=e("h3",{class:"font-semibold mb-2"},"Check Wishlist",-1)),r[6]||(r[6]=e("p",{class:"text-sm text-muted-foreground"},"Items you've saved for later are waiting for you",-1))]),e("div",ie,[e("div",de,[o(s(B),{class:"h-6 w-6 text-secondary"})]),r[7]||(r[7]=e("h3",{class:"font-semibold mb-2"},"Featured Items",-1)),r[8]||(r[8]=e("p",{class:"text-sm text-muted-foreground"},"Our handpicked recommendations just for you",-1))])]),e("div",ue,[r[11]||(r[11]=e("h4",{class:"font-semibold mb-2"},"Need Help?",-1)),r[12]||(r[12]=e("p",{class:"text-sm text-muted-foreground mb-4"}," Contact our customer support for assistance with your order ",-1)),e("div",me,[o(s(b),{variant:"outline",size:"sm",as:"a",href:"/contact"},{default:n(()=>[...r[9]||(r[9]=[v(" Contact Support ",-1)])]),_:1}),o(s(b),{variant:"outline",size:"sm",as:"a",href:"/help"},{default:n(()=>[...r[10]||(r[10]=[v(" View FAQ ",-1)])]),_:1})])])],2))}}),pe={class:"grid grid-cols-1 lg:grid-cols-3 gap-8"},fe={class:"lg:col-span-2 space-y-8"},xe={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},ve={class:"flex flex-col items-center text-center space-y-4"},ge={class:"flex items-center space-x-1"},he={key:0,class:"absolute top-3 right-3"},ye={class:"flex flex-col items-center text-center space-y-4"},be={key:0,class:"absolute top-3 right-3"},we={key:0,class:"ml-auto inline-flex items-center rounded-full bg-gray-100 px-2.5 py-0.5 text-xs font-medium text-gray-800"},_e={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},ke={class:"space-y-2"},Ce={class:"space-y-2"},De={class:"space-y-2"},Se={class:"bg-blue-50 border border-blue-200 rounded-lg p-4"},$e={class:"flex items-start space-x-3"},Ne={class:"space-y-2"},Ie=["placeholder"],Pe={class:"lg:col-span-1"},Ve={class:"sticky top-24 space-y-6"},Me={class:"space-y-3"},je={class:"flex items-center space-x-3"},Fe=["src","alt"],Oe={key:1,class:"w-12 h-12 bg-muted rounded flex items-center justify-center border"},Ue={class:"font-medium"},qe={class:"text-muted-foreground"},ze={class:"font-bold"},Ae={class:"border-t pt-4"},Ee={class:"flex justify-between text-xl font-bold"},Te={key:0,class:"bg-destructive/10 border border-destructive/20 rounded-lg p-4 text-center"},Be={key:0,class:"flex items-center"},Re={key:1,class:"flex items-center justify-center"},Ye={key:1,class:"mt-3 rounded-md border border-amber-300 bg-amber-50 px-3 py-3 text-sm text-amber-900",role:"alert","aria-live":"polite"},He={class:"font-medium"},Le={class:"mt-2 flex flex-wrap gap-2"},Ge=U({__name:"CheckoutContent",props:{cartItems:{},customer:{default:null},user:{default:null},shippingMethods:{default:()=>[]},paymentMethods:{default:()=>[]},existingCustomerData:{default:null}},setup(m){const f=m,r=N(!1),a=N("purchase"),i=N({first_name:f.existingCustomerData?.first_name||f.customer?.first_name||"",last_name:f.existingCustomerData?.last_name||f.customer?.last_name||"",phone:f.existingCustomerData?.phone||f.customer?.phone||"",notes:""}),_=k(()=>f.cartItems.reduce((d,t)=>d+t.price*t.quantity,0)),h=d=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(d),g=k(()=>{const d=[];return i.value.first_name||d.push("First Name"),i.value.last_name||d.push("Last Name"),i.value.phone||d.push("Phone Number"),d}),S=d=>d.product?.name||d.product_name||"Product",q=d=>d.product?.image||null,$=k(()=>i.value.first_name&&i.value.last_name&&i.value.phone),Y=async()=>{if(!(r.value||!$.value)){r.value=!0;try{const d=document.querySelector('meta[name="csrf-token"]')?.getAttribute("content");if(!d)throw new Error("CSRF token not found. Please refresh the page.");const t={is_donation:a.value==="donation",first_name:i.value.first_name,last_name:i.value.last_name,phone:i.value.phone,notes:i.value.notes},l=await fetch("/orders",{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":d,Accept:"application/json"},credentials:"same-origin",body:JSON.stringify(t)});if(!l.ok){const H=await l.text();throw console.error("Response error:",l.status,H),new Error(`Server error: ${l.status}`)}const z=await l.json();if(z.url)window.location.href=z.url;else throw new Error("No checkout URL received")}catch(d){console.error("Order creation error:",d),alert(`Failed to create order: ${d.message}`)}finally{r.value=!1}}};return(d,t)=>(u(),c("div",pe,[e("div",fe,[o(s(V),null,{default:n(()=>[o(s(j),null,{default:n(()=>[o(s(F),{class:"text-center text-xl"},{default:n(()=>[...t[6]||(t[6]=[v("Choose Your Option",-1)])]),_:1})]),_:1}),o(s(P),null,{default:n(()=>[e("div",xe,[e("label",{class:p(["relative cursor-pointer rounded-xl border-2 p-6 focus:outline-none transition-all hover:shadow-md",a.value==="purchase"?"border-primary bg-primary shadow-md":"border-border hover:border-primary/50 bg-background"])},[I(e("input",{type:"radio",value:"purchase","onUpdate:modelValue":t[0]||(t[0]=l=>a.value=l),class:"sr-only"},null,512),[[A,a.value]]),e("div",ve,[e("div",{class:p(["p-4 rounded-full",a.value==="purchase"?"bg-primary":"bg-primary/20"])},[o(s(w),{class:p(["h-8 w-8",a.value==="purchase"?"text-primary-foreground":"text-primary"])},null,8,["class"])],2),e("div",null,[e("h3",{class:p(["font-bold text-lg transition-colors",a.value==="purchase"?"text-primary-foreground":"text-foreground"])}," Purchase Items ",2),e("p",{class:p(["text-sm transition-colors",a.value==="purchase"?"text-primary-foreground/90":"text-muted-foreground"])}," Get the actual products delivered ",2)])]),e("div",{class:p(["mt-4 space-y-1 text-sm transition-colors",a.value==="purchase"?"text-yellow-100":"text-gray-600"])},[t[8]||(t[8]=e("p",null,"âœ“ Buy it for yourself or for one of your relatives in Sweida",-1)),t[9]||(t[9]=e("p",null,"âœ“ Receive it from one of our centers",-1)),e("p",ge,[o(s(R),{class:"h-3 w-3"}),t[7]||(t[7]=e("span",null,"Delivery: 1 day to 1 week",-1))])],2),a.value==="purchase"?(u(),c("div",he,[...t[10]||(t[10]=[e("span",{class:"inline-flex items-center rounded-full bg-red-100 px-2.5 py-0.5 text-xs font-medium text-red-800"}," Selected âœ“ ",-1)])])):y("",!0)],2),e("label",{class:p(["relative cursor-pointer rounded-xl border-2 p-6 focus:outline-none transition-all hover:shadow-md",a.value==="donation"?"border-destructive bg-destructive shadow-md":"border-border hover:border-destructive/50 bg-background"])},[I(e("input",{type:"radio",value:"donation","onUpdate:modelValue":t[1]||(t[1]=l=>a.value=l),class:"sr-only"},null,512),[[A,a.value]]),e("div",ye,[e("div",{class:p(["p-4 rounded-full",a.value==="donation"?"bg-destructive":"bg-destructive/20"])},[o(s(O),{class:p(["h-8 w-8",a.value==="donation"?"text-destructive-foreground":"text-destructive"])},null,8,["class"])],2),e("div",null,[e("h3",{class:p(["font-bold text-lg transition-colors",a.value==="donation"?"text-destructive-foreground":"text-foreground"])}," Donate Amount ",2),e("p",{class:p(["text-sm transition-colors",a.value==="donation"?"text-yellow-100":"text-gray-600"])}," Support our cause financially ",2)])]),e("div",{class:p(["mt-4 space-y-1 text-sm transition-colors",a.value==="donation"?"text-yellow-100":"text-gray-600"])},[...t[11]||(t[11]=[e("p",null,"â¤ï¸ Donate to one of the displaced families",-1),e("p",null,"â¤ï¸ Contributed to warming a family",-1)])],2),a.value==="donation"?(u(),c("div",be,[...t[12]||(t[12]=[e("span",{class:"inline-flex items-center rounded-full bg-red-100 px-2.5 py-0.5 text-xs font-medium text-red-800"}," Selected âœ“ ",-1)])])):y("",!0)],2)])]),_:1})]),_:1}),o(s(V),null,{default:n(()=>[o(s(j),null,{default:n(()=>[o(s(F),{class:"flex items-center space-x-2"},{default:n(()=>[o(s(K),{class:"h-5 w-5"}),e("span",null,x(a.value==="donation"?"Donor":"Customer")+" Information",1),m.existingCustomerData?.has_existing_data?(u(),c("span",we," Pre-filled ")):y("",!0)]),_:1})]),_:1}),o(s(P),{class:"space-y-4"},{default:n(()=>[e("div",_e,[e("div",ke,[o(s(C),{for:"first_name"},{default:n(()=>[...t[13]||(t[13]=[v("First Name *",-1)])]),_:1}),o(s(M),{id:"first_name",modelValue:i.value.first_name,"onUpdate:modelValue":t[2]||(t[2]=l=>i.value.first_name=l),required:"",placeholder:"Enter your first name"},null,8,["modelValue"])]),e("div",Ce,[o(s(C),{for:"last_name"},{default:n(()=>[...t[14]||(t[14]=[v("Last Name *",-1)])]),_:1}),o(s(M),{id:"last_name",modelValue:i.value.last_name,"onUpdate:modelValue":t[3]||(t[3]=l=>i.value.last_name=l),required:"",placeholder:"Enter your last name"},null,8,["modelValue"])])]),e("div",De,[o(s(C),{for:"phone"},{default:n(()=>[...t[15]||(t[15]=[v("Phone Number *",-1)])]),_:1}),o(s(M),{id:"phone",modelValue:i.value.phone,"onUpdate:modelValue":t[4]||(t[4]=l=>i.value.phone=l),type:"tel",required:"",placeholder:"Your contact number"},null,8,["modelValue"])]),e("div",Se,[e("div",$e,[o(s(R),{class:"h-5 w-5 text-blue-600 mt-0.5 flex-shrink-0"}),t[16]||(t[16]=e("div",{class:"space-y-2"},[e("h4",{class:"text-sm font-medium text-blue-800"},"Delivery Information"),e("p",{class:"text-sm text-blue-700"}," ðŸ“¦ Your order will be received within 1 to 7 days "),e("p",{class:"text-sm text-blue-700"}," ðŸ¢ The delivery will be coordinated either at one of our centers or through another suitable method. "),e("p",{class:"text-sm text-blue-700"}," ðŸ“ž We will contact the number you provided within a week. ")],-1))])]),e("div",Ne,[o(s(C),{for:"notes",class:"flex items-center space-x-2"},{default:n(()=>[o(s(Z),{class:"h-4 w-4"}),t[17]||(t[17]=e("span",null,"Additional Notes (Optional)",-1))]),_:1}),I(e("textarea",{id:"notes","onUpdate:modelValue":t[5]||(t[5]=l=>i.value.notes=l),rows:"2",placeholder:a.value==="donation"?"Any message or special instructions...":"Delivery preferences, preferred time slots, special instructions, etc...",class:"flex min-h-[60px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2"},null,8,Ie),[[L,i.value.notes]])])]),_:1})]),_:1})]),e("div",Pe,[e("div",Ve,[o(s(V),null,{default:n(()=>[o(s(j),null,{default:n(()=>[o(s(F),{class:"flex items-center space-x-2"},{default:n(()=>[(u(),D(G(a.value==="donation"?s(O):s(w)),{class:"h-5 w-5"})),e("span",null,x(a.value==="donation"?"Donation":"Order")+" Summary",1)]),_:1})]),_:1}),o(s(P),{class:"space-y-4"},{default:n(()=>[e("div",Me,[(u(!0),c(E,null,T(m.cartItems,l=>(u(),c("div",{key:l.id,class:"flex justify-between items-center text-sm"},[e("div",je,[q(l)?(u(),c("img",{key:0,src:q(l),alt:S(l),class:"w-12 h-12 object-cover rounded border"},null,8,Fe)):(u(),c("div",Oe,[o(s(w),{class:"h-5 w-5 text-muted-foreground"})])),e("div",null,[e("p",Ue,x(S(l)),1),e("p",qe,"Qty: "+x(l.quantity),1)])]),e("p",ze,x(h(l.price*l.quantity)),1)]))),128))]),e("div",Ae,[e("div",Ee,[e("span",null,x(a.value==="donation"?"Donation Amount":"Total")+":",1),e("span",null,x(h(_.value)),1)])]),a.value==="donation"?(u(),c("div",Te,[...t[18]||(t[18]=[e("p",{class:"text-sm text-destructive font-medium"},"ðŸ™ Thank you for supporting our cause!",-1)])])):y("",!0),o(s(b),{onClick:Y,disabled:r.value||!$.value,class:p(["w-full h-14 text-lg font-bold",a.value==="donation"?"bg-red-600 hover:bg-red-700 text-white disabled:bg-red-400":"bg-blue-600 hover:bg-blue-700 text-white disabled:bg-blue-400"])},{default:n(()=>[r.value?(u(),c("div",Be,[...t[19]||(t[19]=[e("svg",{class:"animate-spin -ml-1 mr-3 h-6 w-6 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[e("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),e("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),e("span",null,"Processing...",-1)])])):(u(),c("div",Re,[o(s(ee),{class:"h-6 w-6 mr-3"}),e("span",null,x(a.value==="donation"?`Donate ${h(_.value)} via Stripe`:`Pay ${h(_.value)} via Stripe`),1)]))]),_:1},8,["disabled","class"]),!r.value&&!$.value&&g.value.length?(u(),c("div",Ye,[e("p",He," Please complete the following to "+x(a.value==="donation"?"donate":"checkout")+": ",1),e("div",Le,[(u(!0),c(E,null,T(g.value,l=>(u(),c("span",{key:l,class:"inline-flex items-center rounded-full bg-amber-100 px-2.5 py-1 text-xs font-medium"},x(l),1))),128))])])):y("",!0),t[20]||(t[20]=e("div",{class:"text-center text-xs text-muted-foreground space-y-1"},[e("p",null,"ðŸ”’ Secure payment powered by Stripe"),e("p",null,"You'll be redirected to complete your payment")],-1))]),_:1})]),_:1})])])]))}}),Qe={class:"min-h-screen bg-background text-foreground"},We={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},gt=U({__name:"Checkout",props:{cartItems:{},categories:{},auth:{},settings:{},shippingMethods:{},paymentMethods:{},existingCustomerData:{}},setup(m){const f=m.settings?.site_name||"Elegant Store",r=m.auth?.user,a=k(()=>m.cartItems.length>0),i=k(()=>m.cartItems.some(g=>g.is_donatable)),_=g=>{W.delete(`/cart/remove/${g}`,{preserveState:!0})},h=()=>{console.log("Processing payment...")};return(g,S)=>(u(),c("div",Qe,[o(s(Q),{title:"Checkout"}),o(J,{categories:m.categories,cartItems:m.cartItems,user:s(r),siteName:s(f),settings:m.settings},null,8,["categories","cartItems","user","siteName","settings"]),e("div",We,[a.value?(u(),D(Ge,{key:1,cartItems:m.cartItems,user:s(r),shippingMethods:m.shippingMethods,paymentMethods:m.paymentMethods,existingCustomerData:m.existingCustomerData,onRemoveItem:_,onProcessPayment:h},null,8,["cartItems","user","shippingMethods","paymentMethods","existingCustomerData"])):(u(),D(ce,{key:0,showDonationOption:i.value},null,8,["showDonationOption"]))])]))}});export{gt as default};
