import{d as M,r as D,c as P,h as n,e as o,g as s,u as e,k as q,b as l,t as m,f as b,i as _,o as r,l as j}from"./app-SjLUGOZr.js";import{N as A}from"./Navbar-R4jjqAnd.js";import{a as h,_ as w,b as E}from"./index-BrapZYxY.js";import{_ as k}from"./Input.vue_vue_type_script_setup_true_lang-uc9VEEMx.js";import{_ as v}from"./Label.vue_vue_type_script_setup_true_lang-COcHfFWw.js";import{_ as z}from"./Textarea.vue_vue_type_script_setup_true_lang-CRUTleGp.js";import{_ as B}from"./CardDescription.vue_vue_type_script_setup_true_lang-BJhd7_X8.js";import{a as F,_ as H}from"./CardTitle.vue_vue_type_script_setup_true_lang-DuRW2HGp.js";import{H as g}from"./heart-7zeck1Uh.js";import{U as O}from"./Separator.vue_vue_type_script_setup_true_lang-BZDczlZu.js";import{P as Y}from"./phone-BxR0ldb2.js";import{D as T}from"./dollar-sign-YGqJYbR0.js";import{M as I}from"./message-square-Cgdf32JX.js";import{S as L}from"./shield-B2-PHcil.js";import"./index-CVt7A2K-.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-Dht7uqjh.js";import"./useForwardExpose-BQPLfNwB.js";import"./index-CcgqDx5H.js";import"./createContext-Bi0Gw4MR.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-BTLyLvfZ.js";import"./house-DBR-gnoZ.js";import"./_plugin-vue_export-helper-DlAUqK2U.js";const W={class:"min-h-screen bg-background text-foreground"},G={class:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-12"},J={key:0,class:"text-center py-16"},K={key:1},Q={class:"text-center mb-12"},R={class:"text-4xl font-bold mb-4"},X={class:"text-xl text-muted-foreground mb-8"},Z={class:"text-left whitespace-pre-wrap leading-relaxed"},ee={class:"space-y-2"},te={class:"space-y-2"},se={class:"space-y-2"},oe={class:"text-xs text-muted-foreground"},ae={class:"space-y-2"},le={class:"bg-muted/30 rounded-lg p-4"},ne={class:"flex items-center justify-between"},re={class:"text-2xl font-bold text-primary"},ie={key:0,class:"flex items-center"},ue={key:1,class:"flex items-center justify-center"},me={key:0,class:"rounded-md border border-amber-300 bg-amber-50 px-3 py-3 text-sm text-amber-900"},de={class:"mt-2 list-disc list-inside space-y-1"},pe={key:0},ce={key:1},fe={key:2},xe={class:"text-center mt-8 space-y-2"},_e={class:"flex items-center justify-center space-x-2 text-sm text-muted-foreground"},Fe=M({__name:"Donation",props:{settings:{type:Object,required:!0},categories:{type:Array,default:()=>[]},auth:{type:Object,default:()=>({})}},setup(c){const d=c,V=d.settings?.donation_page_title||"Support Our Cause",N=d.settings?.donation_page_subtitle||"Your contribution makes a difference",$=d.settings?.donation_page_message||"Help us continue our important work...",p=Number(d.settings?.donation_min_amount)||5,U=d.settings?.donation_enable!=="0",S=d.settings?.site_name||"Elegant Store",a=D({name:"",phone:"",value:p,message:""}),i=D(!1),y=P(()=>a.value.name.trim()!==""&&a.value.phone.trim()!==""&&a.value.value>=p),C=()=>{!y.value||i.value||(i.value=!0,j.post("/donate",a.value,{onFinish:()=>{i.value=!1},onError:x=>{console.error("Donation errors:",x),i.value=!1}}))},f=x=>new Intl.NumberFormat("en-US",{style:"currency",currency:"USD"}).format(x);return(x,t)=>(r(),n("div",W,[o(e(q),{title:`${e(V)} - ${e(S)}`},null,8,["title"]),o(A,{categories:c.categories,"cart-items":[],user:c.auth.user,"site-name":e(S),settings:c.settings},null,8,["categories","user","site-name","settings"]),s("div",G,[U?(r(),n("div",K,[s("div",Q,[o(e(g),{class:"h-12 w-12 mx-auto text-primary mb-4"}),s("h1",R,m(e(V)),1),s("p",X,m(e(N)),1),o(e(w),{class:"bg-primary/5 border-primary/20"},{default:l(()=>[o(e(h),{class:"p-6"},{default:l(()=>[s("p",Z,m(e($)),1)]),_:1})]),_:1})]),o(e(w),null,{default:l(()=>[o(e(F),null,{default:l(()=>[o(e(H),{class:"flex items-center space-x-2"},{default:l(()=>[o(e(g),{class:"h-6 w-6 text-red-500"}),t[6]||(t[6]=s("span",null,"Make Your Donation",-1))]),_:1}),o(e(B),null,{default:l(()=>[...t[7]||(t[7]=[b(" Your support helps us make a real difference ",-1)])]),_:1})]),_:1}),o(e(h),{class:"space-y-6"},{default:l(()=>[s("div",ee,[o(e(v),{for:"name",class:"flex items-center space-x-2"},{default:l(()=>[o(e(O),{class:"h-4 w-4"}),t[8]||(t[8]=s("span",null,"Full Name",-1))]),_:1}),o(e(k),{id:"name",modelValue:a.value.name,"onUpdate:modelValue":t[0]||(t[0]=u=>a.value.name=u),placeholder:"Enter your full name",required:""},null,8,["modelValue"])]),s("div",te,[o(e(v),{for:"phone",class:"flex items-center space-x-2"},{default:l(()=>[o(e(Y),{class:"h-4 w-4"}),t[9]||(t[9]=s("span",null,"Phone Number",-1))]),_:1}),o(e(k),{id:"phone",modelValue:a.value.phone,"onUpdate:modelValue":t[1]||(t[1]=u=>a.value.phone=u),type:"tel",placeholder:"+963944255208",required:""},null,8,["modelValue"]),t[10]||(t[10]=s("p",{class:"text-xs text-muted-foreground"}," Include country code (e.g., +963) ",-1))]),s("div",se,[o(e(v),{for:"value",class:"flex items-center space-x-2"},{default:l(()=>[o(e(T),{class:"h-4 w-4"}),t[11]||(t[11]=s("span",null,"Donation Amount (USD)",-1))]),_:1}),o(e(k),{id:"value",modelValue:a.value.value,"onUpdate:modelValue":t[2]||(t[2]=u=>a.value.value=u),modelModifiers:{number:!0},type:"number",min:e(p),step:"1",required:""},null,8,["modelValue","min"]),s("p",oe," Minimum amount: "+m(f(e(p))),1)]),s("div",ae,[o(e(v),{for:"message",class:"flex items-center space-x-2"},{default:l(()=>[o(e(I),{class:"h-4 w-4"}),t[12]||(t[12]=s("span",null,"Message (Optional)",-1))]),_:1}),o(e(z),{id:"message",modelValue:a.value.message,"onUpdate:modelValue":t[3]||(t[3]=u=>a.value.message=u),rows:"4",placeholder:"Leave a message, dedication, or special note...",class:"resize-none"},null,8,["modelValue"])]),s("div",le,[s("div",ne,[t[13]||(t[13]=s("span",{class:"text-sm font-medium"},"Donation Amount:",-1)),s("span",re,m(f(a.value.value)),1)])]),o(e(E),{onClick:C,disabled:!y.value||i.value,class:"w-full h-14 text-lg font-bold bg-red-600 hover:bg-red-700 text-white",size:"lg"},{default:l(()=>[i.value?(r(),n("div",ie,[...t[14]||(t[14]=[s("svg",{class:"animate-spin -ml-1 mr-3 h-5 w-5",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24"},[s("circle",{class:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor","stroke-width":"4"}),s("path",{class:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})],-1),b(" Processing... ",-1)])])):(r(),n("div",ue,[o(e(g),{class:"h-6 w-6 mr-2"}),b(" Donate "+m(f(a.value.value))+" via Stripe ",1)]))]),_:1},8,["disabled"]),!y.value&&!i.value?(r(),n("div",me,[t[15]||(t[15]=s("p",{class:"font-medium"},"Please complete the following:",-1)),s("ul",de,[a.value.name?_("",!0):(r(),n("li",pe,"Full Name is required")),a.value.phone?_("",!0):(r(),n("li",ce,"Phone Number is required")),a.value.value<e(p)?(r(),n("li",fe," Minimum donation is "+m(f(e(p))),1)):_("",!0)])])):_("",!0)]),_:1})]),_:1}),s("div",xe,[s("div",_e,[o(e(L),{class:"h-4 w-4"}),t[16]||(t[16]=s("p",null,"Secure payment powered by Stripe",-1))]),t[17]||(t[17]=s("p",{class:"text-xs text-muted-foreground"}," Your donation is processed securely and safely. We never store your payment information. ",-1))])])):(r(),n("div",J,[o(e(w),null,{default:l(()=>[o(e(h),{class:"p-12"},{default:l(()=>[o(e(g),{class:"h-16 w-16 mx-auto text-muted-foreground mb-4"}),t[4]||(t[4]=s("h2",{class:"text-2xl font-bold mb-4"},"Donations Currently Unavailable",-1)),t[5]||(t[5]=s("p",{class:"text-muted-foreground"}," The donation feature is temporarily disabled. Please check back later. ",-1))]),_:1})]),_:1})]))])]))}});export{Fe as default};
