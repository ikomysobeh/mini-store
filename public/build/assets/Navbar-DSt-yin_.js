import{d as ee,J as te,r as I,c as $,h as c,g as t,e as s,i as p,t as a,n as M,Z as z,b as r,m as ue,o,_ as de,E as fe,G as ve,H as me,F as U,p as B,a as k,u as e,f as h,l as D}from"./app-yiE6uSpj.js";import{c as se,b as m,E as he}from"./index-BkCac0jj.js";import{_ as O}from"./index-mUKK6tz8.js";import{S as F,L as V,M as ge,X as pe,_ as Z,U as G}from"./Separator.vue_vue_type_script_setup_true_lang-CoE9-6I-.js";import{_ as J,a as Q}from"./AvatarFallback.vue_vue_type_script_setup_true_lang-BWd9wGrz.js";import{_ as W}from"./AvatarImage.vue_vue_type_script_setup_true_lang-DNUHzSUa.js";import{H as X}from"./house-Bas7qKW4.js";import{_ as xe}from"./_plugin-vue_export-helper-DlAUqK2U.js";/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K=se("HistoryIcon",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-vue-next v0.468.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ye=se("ShoppingBagIcon",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]),be={class:"relative inline-block text-left"},_e=["aria-label"],we={class:"text-base"},ke={class:"hidden sm:inline"},Ce={class:"py-1",role:"menu","aria-orientation":"vertical"},$e={key:0,class:"h-4 w-4 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},je={key:0,class:"h-4 w-4 text-primary",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},Y=ee({__name:"LanguageSwitcher",setup(i){const{locale:d}=te(),C=I(!1),y=$(()=>d.value),b=$(()=>d.value==="ar"?"Ø¹Ø±Ø¨ÙŠ":"English"),w=$(()=>d.value==="ar"?"ðŸ‡¸ðŸ‡¦":"ðŸ‡¬ðŸ‡§"),x=j=>{if(j===y.value){C.value=!1;return}const l=window.location.pathname;let u;console.log("ðŸ”„ Language Switch Debug:"),console.log("  Current locale:",y.value),console.log("  Target locale:",j),console.log("  Current path:",l);let g=l.replace(/\/public/g,"").replace(/^\/(en|ar)/,"");!g||g===""?g="/":g.startsWith("/")||(g="/"+g),console.log("  Clean path:",g),j==="ar"?u=`/ar${g}`:u=`/en${g}`,console.log("  New path:",u),console.log("  Full URL:",window.location.origin+u),window.location.href=u};return(j,l)=>(o(),c("div",be,[t("button",{type:"button",onClick:l[0]||(l[0]=u=>C.value=!C.value),class:"inline-flex items-center gap-2 rounded-lg bg-background px-3 py-2 text-sm font-medium text-foreground transition-colors hover:bg-accent hover:text-accent-foreground focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2","aria-label":`Switch language - Current: ${b.value}`},[t("span",we,a(w.value),1),t("span",ke,a(b.value),1),(o(),c("svg",{class:M(["h-4 w-4 transition-transform",{"rotate-180":C.value}]),xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor"},[...l[4]||(l[4]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1)])],2))],8,_e),s(z,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:r(()=>[ue(t("div",{class:M(["absolute right-0 z-50 mt-2 w-48 origin-top-right rounded-lg bg-background shadow-lg ring-1 ring-border focus:outline-none",y.value==="ar"?"left-0 right-auto":"right-0"])},[t("div",Ce,[t("button",{onClick:l[1]||(l[1]=u=>x("en")),class:M(["flex w-full items-center gap-3 px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground",{"bg-accent text-accent-foreground":y.value==="en","text-foreground":y.value!=="en"}]),role:"menuitem"},[l[6]||(l[6]=t("span",{class:"text-base"},"ðŸ‡¬ðŸ‡§",-1)),l[7]||(l[7]=t("span",{class:"flex-1 text-left"},"English",-1)),y.value==="en"?(o(),c("svg",$e,[...l[5]||(l[5]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):p("",!0)],2),t("button",{onClick:l[2]||(l[2]=u=>x("ar")),class:M(["flex w-full items-center gap-3 px-4 py-2 text-sm transition-colors hover:bg-accent hover:text-accent-foreground",{"bg-accent text-accent-foreground":y.value==="ar","text-foreground":y.value!=="ar"}]),role:"menuitem"},[l[9]||(l[9]=t("span",{class:"text-base"},"ðŸ‡¸ðŸ‡¦",-1)),t("span",{class:M(["flex-1",y.value==="ar"?"text-right":"text-left"])},"Ø¹Ø±Ø¨ÙŠ",2),y.value==="ar"?(o(),c("svg",je,[...l[8]||(l[8]=[t("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 13l4 4L19 7"},null,-1)])])):p("",!0)],2)])],2),[[de,C.value]])]),_:1}),C.value?(o(),c("div",{key:0,onClick:l[3]||(l[3]=u=>C.value=!1),class:"fixed inset-0 z-40","aria-hidden":"true"})):p("",!0)]))}}),Le={class:"sticky top-0 z-50 backdrop-blur-lg border-b bg-background/80"},Ie={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8"},Me={class:"flex items-center justify-between h-16"},Ne={href:"/",class:"flex items-center space-x-2 sm:space-x-3 group"},Se={key:0,class:"w-8 h-8 sm:w-10 sm:h-10 rounded-xl overflow-hidden flex items-center justify-center bg-white border flex-shrink-0"},ze=["src","alt"],Ee={key:1,class:"w-8 h-8 sm:w-10 sm:h-10 bg-primary rounded-xl flex items-center justify-center flex-shrink-0"},Ue={class:"text-primary-foreground font-bold text-base sm:text-lg"},Be={class:"font-bold text-base sm:text-lg md:text-xl text-primary truncate"},De={class:"hidden lg:flex space-x-4"},Oe={class:"hidden md:flex items-center space-x-4"},Fe={key:0,class:"absolute right-0 mt-2 w-80 bg-popover border border-border rounded-md shadow-lg z-50"},qe={class:"px-4 py-3 border-b border-border"},Ae={class:"flex items-center justify-between"},He={class:"text-sm font-semibold"},Pe={key:0,class:"px-4 py-8 text-center"},Re={class:"text-sm text-muted-foreground"},Te={key:1,class:"max-h-80 overflow-y-auto"},Ve={class:"px-4 py-3 space-y-3"},Ze=["src","alt"],Ge={class:"flex-1 min-w-0"},Je={class:"text-sm font-medium truncate"},Qe={class:"text-xs text-muted-foreground"},We={class:"text-sm font-semibold"},Xe={key:0,class:"text-center text-xs text-muted-foreground"},Ke={class:"px-4 py-3 border-t border-border space-y-3"},Ye={class:"flex justify-between items-center font-semibold"},et={class:"text-lg text-primary"},tt={key:0,class:"absolute right-0 mt-2 w-56 bg-popover border border-border rounded-md shadow-lg z-50"},st={class:"px-3 py-2 border-b border-border"},at={class:"flex flex-col space-y-1"},ot={class:"text-sm font-medium leading-none"},lt={class:"text-xs text-muted-foreground leading-none"},rt={class:"py-1"},nt=["disabled"],it={class:"border-t border-border py-1"},ct=["disabled"],ut={key:2,class:"flex items-center space-x-2"},dt={class:"md:hidden flex items-center space-x-2"},ft={key:0,class:"md:hidden border-t py-4 space-y-2"},vt={class:"flex flex-col space-y-2"},mt={key:0,class:"space-y-2"},ht={class:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider"},gt={key:1,class:"space-y-2"},pt={class:"px-3 py-2 bg-muted/30 rounded-lg mx-2"},xt={class:"flex items-center space-x-3"},yt={class:"text-sm font-medium"},bt={class:"text-xs text-muted-foreground"},_t={key:2,class:"space-y-2"},wt=ee({__name:"Navbar",props:{categories:{type:Array,default:()=>[]},cartItems:{type:Array,default:()=>[]},user:{type:Object,default:null},siteName:{type:String,default:"Elegant Store"},settings:{type:Object,default:()=>({})}},setup(i){const{t:d,locale:C}=te(),y=fe(),b=I(!1),w=I(!1),x=I(!1),j=I(null),l=I(null),u=I(!1),g=$(()=>i.user?.avatar||null),N=$(()=>i.user?.name||"User"),q=$(()=>i.user?.email||""),A=$(()=>i.settings?.logo_url||null),L=$(()=>i.cartItems.reduce((f,v)=>f+(parseInt(v.quantity)||0),0)),ae=$(()=>i.cartItems.reduce((f,v)=>{const n=parseFloat(v.price||0),ce=parseInt(v.quantity||0);return f+n*ce},0)),H=()=>"text-primary hover:bg-primary/10 hover:text-primary transition-all duration-300",P=f=>{j.value&&!j.value.contains(f.target)&&(w.value=!1),l.value&&!l.value.contains(f.target)&&(x.value=!1)},R=()=>{u.value||(w.value=!1,b.value=!1,u.value=!0,D.post("/logout",{},{onSuccess:()=>{window.location.href="/"},onError:f=>{console.error("Logout failed:",f),u.value=!1},onFinish:()=>{u.value=!1}}))},T=f=>f?.name?f.name.split(" ").map(v=>v[0]).join("").toUpperCase().substring(0,2):f?.email?.charAt(0).toUpperCase()||"U",oe=()=>{b.value=!b.value,b.value&&(w.value=!1,x.value=!1)},le=()=>{w.value=!w.value,w.value&&(b.value=!1,x.value=!1)},re=()=>{x.value=!x.value,x.value&&(b.value=!1,w.value=!1)},ne=f=>{w.value=!1,x.value=!1,D.visit(_(f))},E=f=>parseFloat(f||0).toFixed(2),_=f=>`/${C.value||y.props.locale||"en"}${f}`,ie=()=>{x.value=!1,D.visit(_("/cart"))},S=()=>{b.value=!1};return ve(()=>{document.addEventListener("click",P)}),me(()=>{document.removeEventListener("click",P)}),(f,v)=>(o(),c("nav",Le,[t("div",Ie,[t("div",Me,[t("a",Ne,[A.value?(o(),c("div",Se,[t("img",{src:A.value,alt:i.siteName+" Logo",class:"w-full h-full object-contain",onError:v[0]||(v[0]=n=>n.target.style.display="none")},null,40,ze)])):(o(),c("div",Ee,[t("span",Ue,a(i.siteName.charAt(0)),1)])),t("span",Be,a(i.siteName),1)]),t("div",De,[(o(!0),c(U,null,B(i.categories,n=>(o(),k(e(m),{key:n.id,variant:"ghost",class:M(H()),as:"a",href:_(`/products?category=${n.slug}`)},{default:r(()=>[h(a(n.name),1)]),_:2},1032,["class","href"]))),128))]),t("div",Oe,[s(Y),t("div",{class:"relative",ref_key:"cartDropdownRef",ref:l},[s(e(m),{variant:"outline",class:"relative",onClick:re},{default:r(()=>[s(e(F),{class:"h-5 w-5"}),L.value>0?(o(),k(e(O),{key:0,class:"absolute -top-2 -right-2 bg-primary text-primary-foreground min-w-5 h-5 flex items-center justify-center text-xs"},{default:r(()=>[h(a(L.value>99?"99+":L.value),1)]),_:1})):p("",!0)]),_:1}),s(z,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:r(()=>[x.value?(o(),c("div",Fe,[t("div",qe,[t("div",Ae,[t("h3",He,a(e(d)("cart.title")),1),s(e(O),{variant:"secondary"},{default:r(()=>[h(a(L.value)+" "+a(e(d)("cart.itemsInCart")),1)]),_:1})])]),i.cartItems.length===0?(o(),c("div",Pe,[s(e(F),{class:"h-12 w-12 text-muted-foreground mx-auto mb-2"}),t("p",Re,a(e(d)("cart.empty")),1)])):(o(),c("div",Te,[t("div",Ve,[(o(!0),c(U,null,B(i.cartItems.slice(0,3),n=>(o(),c("div",{key:n.id,class:"flex items-center space-x-3 p-2 bg-muted/30 rounded-lg"},[t("img",{src:n.product?.image||n.image||"/placeholder-product.jpg",alt:n.product?.name||n.name,class:"w-12 h-12 object-cover rounded-md border"},null,8,Ze),t("div",Ge,[t("p",Je,a(n.product?.name||n.name),1),t("p",Qe," Qty: "+a(n.quantity)+" Ã— $"+a(E(n.price)),1)]),t("span",We," $"+a(E((n.price||0)*(n.quantity||1))),1)]))),128)),i.cartItems.length>3?(o(),c("div",Xe," +"+a(i.cartItems.length-3)+" more items ",1)):p("",!0)]),t("div",Ke,[t("div",Ye,[t("span",null,a(e(d)("cart.total"))+":",1),t("span",et,"$"+a(E(ae.value)),1)]),s(e(m),{class:"w-full",onClick:ie},{default:r(()=>[s(e(he),{class:"h-4 w-4 mr-2"}),h(" "+a(e(d)("cart.title")),1)]),_:1}),s(e(m),{class:"w-full",variant:"outline",as:"a",href:_("/checkout"),onClick:v[1]||(v[1]=n=>x.value=!1)},{default:r(()=>[s(e(ye),{class:"h-4 w-4 mr-2"}),h(" "+a(e(d)("checkout.title")),1)]),_:1},8,["href"])])]))])):p("",!0)]),_:1})],512),i.user?(o(),k(e(m),{key:0,variant:"outline",class:"relative",as:"a",href:_("/my-orders"),title:"My Orders"},{default:r(()=>[s(e(K),{class:"h-5 w-5"})]),_:1},8,["href"])):p("",!0),i.user?(o(),c("div",{key:1,class:"relative",ref_key:"userDropdownRef",ref:j},[s(e(m),{variant:"ghost",class:"relative h-10 w-10 rounded-full",onClick:le,disabled:u.value},{default:r(()=>[s(e(J),{class:"h-9 w-9"},{default:r(()=>[g.value?(o(),k(e(W),{key:0,src:g.value,alt:N.value},null,8,["src","alt"])):p("",!0),s(e(Q),{class:"bg-primary/10 text-primary"},{default:r(()=>[h(a(T(i.user)),1)]),_:1})]),_:1})]),_:1},8,["disabled"]),s(z,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:r(()=>[w.value?(o(),c("div",tt,[t("div",st,[t("div",at,[t("p",ot,a(N.value),1),t("p",lt,a(q.value),1)])]),t("div",rt,[t("button",{onClick:v[2]||(v[2]=n=>ne("/")),class:"w-full px-3 py-2 text-left text-sm hover:bg-accent hover:text-accent-foreground flex items-center transition-colors",disabled:u.value},[s(e(X),{class:"mr-2 h-4 w-4"}),t("span",null,a(e(d)("nav.home")),1)],8,nt)]),t("div",it,[t("button",{onClick:R,disabled:u.value,class:"w-full px-3 py-2 text-left text-sm text-destructive hover:bg-destructive/10 flex items-center transition-colors disabled:opacity-50"},[s(e(V),{class:"mr-2 h-4 w-4"}),t("span",null,a(u.value?"...":e(d)("nav.logout")),1)],8,ct)])])):p("",!0)]),_:1})],512)):(o(),c("div",ut,[s(e(m),{variant:"ghost",size:"sm",as:"a",href:_("/login")},{default:r(()=>[h(a(e(d)("nav.login")),1)]),_:1},8,["href"]),s(e(m),{size:"sm",as:"a",href:_("/register")},{default:r(()=>[h(a(e(d)("nav.register")),1)]),_:1},8,["href"])]))]),t("div",dt,[s(Y),s(e(m),{variant:"outline",size:"sm",class:"relative",as:"a",href:_("/cart")},{default:r(()=>[s(e(F),{class:"h-4 w-4"}),L.value>0?(o(),k(e(O),{key:0,class:"absolute -top-1 -right-1 h-4 w-4 p-0 flex items-center justify-center text-xs bg-primary text-primary-foreground"},{default:r(()=>[h(a(L.value>9?"9+":L.value),1)]),_:1})):p("",!0)]),_:1},8,["href"]),i.user?(o(),k(e(m),{key:0,variant:"outline",size:"sm",class:"relative",as:"a",href:_("/my-orders")},{default:r(()=>[s(e(K),{class:"h-4 w-4"})]),_:1},8,["href"])):p("",!0),s(e(m),{variant:"ghost",size:"sm",onClick:oe,disabled:u.value},{default:r(()=>[b.value?(o(),k(e(pe),{key:1,class:"h-5 w-5"})):(o(),k(e(ge),{key:0,class:"h-5 w-5"}))]),_:1},8,["disabled"])])]),s(z,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"transform scale-95 opacity-0","enter-to-class":"transform scale-100 opacity-100","leave-active-class":"transition duration-75 ease-in","leave-from-class":"transform scale-100 opacity-100","leave-to-class":"transform scale-95 opacity-0"},{default:r(()=>[b.value?(o(),c("div",ft,[t("div",vt,[i.categories.length>0?(o(),c("div",mt,[t("p",ht,a(e(d)("common.category")),1),(o(!0),c(U,null,B(i.categories,n=>(o(),k(e(m),{key:n.id,variant:"ghost",class:M(H()+" justify-start"),as:"a",href:_(`/products?category=${n.slug}`),onClick:S},{default:r(()=>[h(a(n.name),1)]),_:2},1032,["class","href"]))),128)),s(e(Z),{class:"my-2"})])):p("",!0),i.user?(o(),c("div",gt,[t("div",pt,[t("div",xt,[s(e(J),{class:"h-8 w-8"},{default:r(()=>[g.value?(o(),k(e(W),{key:0,src:g.value,alt:N.value},null,8,["src","alt"])):p("",!0),s(e(Q),{class:"bg-primary/10 text-primary text-sm"},{default:r(()=>[h(a(T(i.user)),1)]),_:1})]),_:1}),t("div",null,[t("p",yt,a(N.value),1),t("p",bt,a(q.value),1)])])]),s(e(m),{variant:"ghost",class:"justify-start w-full",as:"a",href:"/",onClick:S,disabled:u.value},{default:r(()=>[s(e(X),{class:"mr-2 h-4 w-4"}),h(" "+a(e(d)("nav.home")),1)]),_:1},8,["disabled"]),s(e(Z),{class:"my-2"}),s(e(m),{variant:"ghost",class:"justify-start w-full text-destructive hover:text-destructive hover:bg-destructive/10",onClick:R,disabled:u.value},{default:r(()=>[s(e(V),{class:"mr-2 h-4 w-4"}),h(" "+a(u.value?"...":e(d)("nav.logout")),1)]),_:1},8,["disabled"])])):(o(),c("div",_t,[v[3]||(v[3]=t("p",{class:"px-3 text-xs font-semibold text-muted-foreground uppercase tracking-wider"},"Account",-1)),s(e(m),{variant:"ghost",class:"justify-start w-full",as:"a",href:_("/login"),onClick:S},{default:r(()=>[s(e(G),{class:"mr-2 h-4 w-4"}),h(" "+a(e(d)("nav.login")),1)]),_:1},8,["href"]),s(e(m),{variant:"outline",class:"justify-start w-full",as:"a",href:_("/register"),onClick:S},{default:r(()=>[s(e(G),{class:"mr-2 h-4 w-4"}),h(" "+a(e(d)("nav.register")),1)]),_:1},8,["href"])]))])])):p("",!0)]),_:1})])]))}}),St=xe(wt,[["__scopeId","data-v-498f42f3"]]);export{St as N,ye as S};
