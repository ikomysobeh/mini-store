import{d as M,r as U,c as F,h as u,g as e,e as l,i as y,b as m,f as v,u as s,t as f,m as D,y as Z,F as P,p as N,x as O,n as L,o as r,s as R,v as ee,B as T,a as q,w as te}from"./app-CdWJsdjD.js";import{_ as z}from"./Input.vue_vue_type_script_setup_true_lang-CvImpZJx.js";import{_ as X}from"./Textarea.vue_vue_type_script_setup_true_lang-Dtn4KViz.js";import{_ as b}from"./Label.vue_vue_type_script_setup_true_lang-Dw-cLlbn.js";import{a as G,_ as K,b as I,E as se}from"./index-D4dNSDEJ.js";import{a as J,_ as Q}from"./CardTitle.vue_vue_type_script_setup_true_lang-Dv_0XedS.js";import{I as W,U as H}from"./upload-kVK_faoU.js";import{X as le}from"./Separator.vue_vue_type_script_setup_true_lang-BwArgNY3.js";import{S as oe}from"./star-Ce6pcYEi.js";import{T as B}from"./trash-2-BhVnhb-W.js";import{P as Y}from"./plus-teeu78Bb.js";import{_ as ae}from"./Checkbox.vue_vue_type_script_setup_true_lang-BQT0AJ_2.js";import{_ as re}from"./index-sDLcCfmY.js";import{E as ne}from"./eye-off-BksRuq-v.js";import{R as ie}from"./refresh-cw-D5ssntRV.js";const de={class:"grid grid-cols-1 lg:grid-cols-2 gap-6"},ue={class:"space-y-6"},me={key:0,class:"text-red-500 text-sm mt-1"},ce={key:0,class:"text-red-500 text-sm mt-1"},fe={key:0,class:"text-red-500 text-sm mt-1"},ve={key:0,class:"text-red-500 text-sm mt-1"},ge={class:"grid grid-cols-2 gap-4"},xe={key:0,class:"text-red-500 text-sm mt-1"},pe={key:0,class:"text-red-500 text-sm mt-1"},ye=["value"],be={key:0,class:"text-red-500 text-sm mt-1"},he={class:"space-y-4"},_e={class:"flex items-center space-x-2"},ke={class:"flex items-center space-x-2"},$e={class:"space-y-6"},we={key:0,class:"space-y-2"},Ce={class:"font-medium text-sm"},Ve={class:"grid grid-cols-3 gap-2"},Se=["src","alt"],Ae={key:1,class:"w-full h-20 bg-gray-200 rounded border flex items-center justify-center"},ze=["onClick"],Ie={class:"text-xs mt-1 truncate"},Ue={key:1,class:"space-y-2"},Pe={class:"font-medium text-sm"},Ne={class:"grid grid-cols-3 gap-2"},Ee=["src"],je={key:0,class:"absolute top-1 left-1"},Fe={class:"absolute -top-2 -right-2 opacity-0 group-hover:opacity-100 transition-opacity flex space-x-1"},De=["onClick"],Le=["onClick"],Me={key:2,class:"text-center py-8 text-gray-500"},Be={key:3,class:"text-red-500 text-sm"},Re={key:0,class:"text-red-500 text-sm mt-1"},is=M({__name:"BasicProductForm",props:{form:{},categories:{},images:{}},emits:["imagesChange","deleteImage","setPrimaryImage"],setup(o,{emit:E}){const C=E,n=U([]),h=U(null),V=U(!1),j=a=>{const t=a.target;if(t.files){const d=Array.from(t.files);n.value=[...n.value,...d],o.form.images=n.value,C("imagesChange",n.value)}},$=a=>{n.value.splice(a,1),o.form.images=n.value,C("imagesChange",n.value)},_=a=>{confirm("Are you sure you want to delete this image?")&&C("deleteImage",a)},p=a=>{C("setPrimaryImage",a)},x=a=>{a.preventDefault(),a.stopPropagation(),h.value?.click()},k=a=>{try{return window.URL.createObjectURL(a)}catch(t){return console.error("Failed to create object URL:",t),""}},i=a=>{a.preventDefault(),V.value=!1;const t=a.dataTransfer?.files;if(t){const d=Array.from(t).filter(A=>A.type.startsWith("image/"));n.value=[...n.value,...d],o.form.images=n.value,C("imagesChange",n.value)}},c=a=>{a.preventDefault(),V.value=!0},w=a=>{a.preventDefault(),V.value=!1},S=F(()=>o.images||[]),g=F(()=>S.value.length>0||n.value.length>0);return(a,t)=>(r(),u("div",de,[e("div",ue,[e("div",null,[l(s(b),{for:"name_en"},{default:m(()=>[...t[10]||(t[10]=[v("Product Name (English) *",-1)])]),_:1}),l(s(z),{id:"name_en",modelValue:o.form.name_en,"onUpdate:modelValue":t[0]||(t[0]=d=>o.form.name_en=d),type:"text",class:"mt-1",placeholder:"Enter product name in English"},null,8,["modelValue"]),o.form.errors?.name_en?(r(),u("div",me,f(o.form.errors.name_en),1)):y("",!0)]),e("div",null,[l(s(b),{for:"name_ar"},{default:m(()=>[...t[11]||(t[11]=[v("Product Name (Arabic) - اسم المنتج *",-1)])]),_:1}),l(s(z),{id:"name_ar",modelValue:o.form.name_ar,"onUpdate:modelValue":t[1]||(t[1]=d=>o.form.name_ar=d),type:"text",class:"mt-1",dir:"rtl",placeholder:"أدخل اسم المنتج بالعربية"},null,8,["modelValue"]),o.form.errors?.name_ar?(r(),u("div",ce,f(o.form.errors.name_ar),1)):y("",!0),t[12]||(t[12]=e("p",{class:"text-xs text-gray-500 mt-1"},"At least one language (English or Arabic) is required",-1))]),e("div",null,[l(s(b),{for:"description_en"},{default:m(()=>[...t[13]||(t[13]=[v("Description (English)",-1)])]),_:1}),l(s(X),{id:"description_en",modelValue:o.form.description_en,"onUpdate:modelValue":t[2]||(t[2]=d=>o.form.description_en=d),rows:"4",class:"mt-1",placeholder:"Product description in English..."},null,8,["modelValue"]),o.form.errors?.description_en?(r(),u("div",fe,f(o.form.errors.description_en),1)):y("",!0)]),e("div",null,[l(s(b),{for:"description_ar"},{default:m(()=>[...t[14]||(t[14]=[v("Description (Arabic) - الوصف",-1)])]),_:1}),l(s(X),{id:"description_ar",modelValue:o.form.description_ar,"onUpdate:modelValue":t[3]||(t[3]=d=>o.form.description_ar=d),rows:"4",class:"mt-1",dir:"rtl",placeholder:"وصف المنتج بالعربية..."},null,8,["modelValue"]),o.form.errors?.description_ar?(r(),u("div",ve,f(o.form.errors.description_ar),1)):y("",!0),t[15]||(t[15]=e("p",{class:"text-xs text-gray-500 mt-1"},"At least one language (English or Arabic) is required",-1))]),e("div",ge,[e("div",null,[l(s(b),{for:"price"},{default:m(()=>[...t[16]||(t[16]=[v("Base Price ($) *",-1)])]),_:1}),l(s(z),{id:"price",modelValue:o.form.price,"onUpdate:modelValue":t[4]||(t[4]=d=>o.form.price=d),modelModifiers:{number:!0},type:"number",step:"0.01",min:"0",required:"",class:"mt-1",placeholder:"0.00"},null,8,["modelValue"]),o.form.errors?.price?(r(),u("div",xe,f(o.form.errors.price),1)):y("",!0)]),e("div",null,[l(s(b),{for:"stock"},{default:m(()=>[...t[17]||(t[17]=[v("Base Stock *",-1)])]),_:1}),l(s(z),{id:"stock",modelValue:o.form.stock,"onUpdate:modelValue":t[5]||(t[5]=d=>o.form.stock=d),modelModifiers:{number:!0},type:"number",min:"0",required:"",class:"mt-1",placeholder:"0"},null,8,["modelValue"]),t[18]||(t[18]=e("small",{class:"text-gray-500 block mt-1"},"Used when no variants are created",-1)),o.form.errors?.stock?(r(),u("div",pe,f(o.form.errors.stock),1)):y("",!0)])]),e("div",null,[l(s(b),{for:"category_id"},{default:m(()=>[...t[19]||(t[19]=[v("Category *",-1)])]),_:1}),D(e("select",{id:"category_id","onUpdate:modelValue":t[6]||(t[6]=d=>o.form.category_id=d),required:"",class:"flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-sm mt-1"},[t[20]||(t[20]=e("option",{value:""},"Select a category",-1)),(r(!0),u(P,null,N(o.categories,d=>(r(),u("option",{key:d.id,value:d.id},f(d.name),9,ye))),128))],512),[[Z,o.form.category_id]]),o.form.errors?.category_id?(r(),u("div",be,f(o.form.errors.category_id),1)):y("",!0)]),e("div",he,[e("div",_e,[D(e("input",{id:"is_active","onUpdate:modelValue":t[7]||(t[7]=d=>o.form.is_active=d),type:"checkbox",class:"rounded border-gray-300"},null,512),[[O,o.form.is_active]]),l(s(b),{for:"is_active"},{default:m(()=>[...t[21]||(t[21]=[v("Active Product",-1)])]),_:1})]),e("div",ke,[D(e("input",{id:"is_donatable","onUpdate:modelValue":t[8]||(t[8]=d=>o.form.is_donatable=d),type:"checkbox",class:"rounded border-gray-300"},null,512),[[O,o.form.is_donatable]]),l(s(b),{for:"is_donatable"},{default:m(()=>[...t[22]||(t[22]=[v("Available for Donation",-1)])]),_:1})])])]),e("div",$e,[l(s(K),null,{default:m(()=>[l(s(J),null,{default:m(()=>[l(s(Q),{class:"flex items-center space-x-2"},{default:m(()=>[l(s(W),{class:"h-5 w-5"}),t[23]||(t[23]=e("span",null,"Product Images",-1))]),_:1})]),_:1}),l(s(G),{class:"space-y-4"},{default:m(()=>[e("div",{class:L(["border-2 border-dashed rounded-lg p-6 text-center transition-colors",V.value?"border-blue-500 bg-blue-50":"border-gray-300"]),onDrop:i,onDragover:c,onDragleave:w},[e("input",{ref_key:"fileInput",ref:h,type:"file",multiple:"",accept:"image/*",onChange:j,class:"hidden"},null,544),l(s(H),{class:"mx-auto h-12 w-12 text-gray-400 mb-4"}),t[25]||(t[25]=e("p",{class:"text-gray-600 mb-4"}," Drag images here or click the button below ",-1)),e("button",{type:"button",onClick:x,class:"inline-flex items-center px-4 py-2 bg-blue-600 text-white rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500"},[l(s(H),{class:"h-4 w-4 mr-2"}),t[24]||(t[24]=v(" Select Images ",-1))]),t[26]||(t[26]=e("p",{class:"text-xs text-gray-500 mt-2"}," Supports: JPG, PNG, GIF (max 2MB each) ",-1))],34),n.value.length>0?(r(),u("div",we,[e("h4",Ce,"Selected Images ("+f(n.value.length)+")",1),e("div",Ve,[(r(!0),u(P,null,N(n.value,(d,A)=>(r(),u("div",{key:`file-${A}`,class:"relative group"},[k(d)?(r(),u("img",{key:0,src:k(d),alt:d.name,class:"w-full h-20 object-cover rounded border"},null,8,Se)):(r(),u("div",Ae,[...t[27]||(t[27]=[e("span",{class:"text-xs text-gray-500"},"Loading...",-1)])])),e("button",{type:"button",onClick:Gt=>$(A),class:"absolute -top-2 -right-2 bg-red-500 text-white rounded-full p-1 opacity-0 group-hover:opacity-100 transition-opacity"},[l(s(le),{class:"h-3 w-3"})],8,ze),e("p",Ie,f(d.name),1)]))),128))])])):y("",!0),S.value.length>0?(r(),u("div",Ue,[e("h4",Pe,"Current Images ("+f(S.value.length)+")",1),e("div",Ne,[(r(!0),u(P,null,N(S.value,d=>(r(),u("div",{key:d.id,class:"relative group"},[e("img",{src:d.url,alt:"Product image",class:L(["w-full h-20 object-cover rounded border",{"ring-2 ring-blue-500":d.is_primary}])},null,10,Ee),d.is_primary?(r(),u("div",je,[...t[28]||(t[28]=[e("span",{class:"bg-blue-500 text-white text-xs px-1 py-0.5 rounded text-[10px]"}," Primary ",-1)])])):y("",!0),e("div",Fe,[d.is_primary?y("",!0):(r(),u("button",{key:0,type:"button",onClick:A=>p(d.id),class:"bg-blue-500 text-white rounded-full p-1",title:"Set as primary"},[l(s(oe),{class:"h-3 w-3"})],8,De)),e("button",{type:"button",onClick:A=>_(d.id),class:"bg-red-500 text-white rounded-full p-1",title:"Delete image"},[l(s(B),{class:"h-3 w-3"})],8,Le)])]))),128))])])):y("",!0),g.value?y("",!0):(r(),u("div",Me,[l(s(W),{class:"mx-auto h-12 w-12 text-gray-300 mb-2"}),t[29]||(t[29]=e("p",{class:"text-sm"},"No images selected",-1)),t[30]||(t[30]=e("p",{class:"text-xs"},"Use the upload area above to add product images",-1))])),o.form.errors?.images?(r(),u("div",Be,f(o.form.errors.images),1)):y("",!0)]),_:1})]),_:1}),l(s(K),null,{default:m(()=>[l(s(J),null,{default:m(()=>[l(s(Q),{class:"text-sm"},{default:m(()=>[...t[31]||(t[31]=[v("Single Image Upload",-1)])]),_:1})]),_:1}),l(s(G),null,{default:m(()=>[l(s(b),{for:"image"},{default:m(()=>[...t[32]||(t[32]=[v("Upload Single Image",-1)])]),_:1}),l(s(z),{id:"image",type:"file",accept:"image/*",onChange:t[9]||(t[9]=d=>o.form.image=d.target.files[0]),class:"mt-1"}),t[33]||(t[33]=e("p",{class:"text-xs text-gray-500 mt-1"}," Use this for a quick single image upload ",-1)),o.form.errors?.image?(r(),u("div",Re,f(o.form.errors.image),1)):y("",!0)]),_:1})]),_:1})])]))}}),Te={class:"space-y-4"},qe={class:"space-y-3 p-4 border rounded-lg bg-muted/20"},Oe={class:"flex gap-3"},Xe={class:"flex-1"},Ge={class:"relative"},Ke={key:0,class:"space-y-2"},Je={class:"space-y-2"},Qe={class:"flex items-center space-x-3"},We=["title"],He={class:"font-medium"},Ye={class:"text-sm text-muted-foreground"},Ze={key:1,class:"text-center py-6 text-muted-foreground"},ds=M({__name:"ColorManager",props:{colors:{type:Array,default:()=>[]}},emits:["update:colors"],setup(o,{emit:E}){const C=E,n=U({name:"",hex:"#000000"}),h=()=>"temp_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),V=()=>{if(!n.value.name.trim())return;const _=[...o.colors,{id:h(),name:n.value.name.trim(),hex:n.value.hex,is_active:!0}];C("update:colors",_),n.value={name:"",hex:"#000000"}},j=_=>{const p=o.colors.filter(x=>x.id!==_);C("update:colors",p)},$=_=>{_.preventDefault(),V()};return(_,p)=>(r(),u("div",Te,[e("div",qe,[l(s(b),{class:"text-sm font-medium"},{default:m(()=>[...p[2]||(p[2]=[v("Add New Color",-1)])]),_:1}),e("div",Oe,[e("div",Xe,[l(s(z),{modelValue:n.value.name,"onUpdate:modelValue":p[0]||(p[0]=x=>n.value.name=x),placeholder:"Color name (e.g., Red)",onKeydown:R($,["enter"]),class:"h-9"},null,8,["modelValue"])]),e("div",Ge,[D(e("input",{"onUpdate:modelValue":p[1]||(p[1]=x=>n.value.hex=x),type:"color",class:"w-16 h-9 rounded border border-input cursor-pointer",style:T({backgroundColor:n.value.hex})},null,4),[[ee,n.value.hex]])]),l(s(I),{type:"button",onClick:V,size:"sm",disabled:!n.value.name.trim()},{default:m(()=>[l(s(Y),{class:"h-4 w-4 mr-1"}),p[3]||(p[3]=v(" Add ",-1))]),_:1},8,["disabled"])])]),o.colors.length>0?(r(),u("div",Ke,[l(s(b),{class:"text-sm font-medium"},{default:m(()=>[v("Selected Colors ("+f(o.colors.length)+")",1)]),_:1}),e("div",Je,[(r(!0),u(P,null,N(o.colors,x=>(r(),u("div",{key:x.id,class:"flex items-center justify-between p-3 border rounded-lg bg-background hover:bg-muted/50 transition-colors"},[e("div",Qe,[e("div",{class:"w-6 h-6 rounded-full border-2 border-gray-200",style:T({backgroundColor:x.hex}),title:x.hex},null,12,We),e("span",He,f(x.name),1),e("span",Ye,f(x.hex),1)]),l(s(I),{type:"button",variant:"ghost",size:"sm",onClick:k=>j(x.id),class:"text-red-600 hover:text-red-700 hover:bg-red-50"},{default:m(()=>[l(s(B),{class:"h-4 w-4"})]),_:1},8,["onClick"])]))),128))])])):(r(),u("div",Ze,[...p[4]||(p[4]=[e("div",{class:"text-sm"},"No colors added yet",-1),e("div",{class:"text-xs"},"Add colors to create product variants",-1)])]))]))}}),et={class:"space-y-4"},tt={class:"space-y-3 p-4 border rounded-lg bg-muted/20"},st={class:"space-y-2"},lt={class:"flex gap-2"},ot={class:"flex-1"},at={class:"flex-1"},rt={class:"space-y-3"},nt={class:"space-y-2"},it={class:"w-20 text-muted-foreground capitalize"},dt={class:"flex flex-wrap gap-1"},ut={key:0,class:"space-y-2"},mt={class:"space-y-2"},ct={class:"flex items-center space-x-3"},ft={class:"space-y-1"},vt={class:"px-2 py-1 bg-primary/10 text-primary rounded text-sm font-medium"},gt={key:0,class:"px-2 py-1 bg-secondary/10 text-secondary-foreground rounded text-sm",dir:"rtl"},xt={key:1,class:"text-center py-6 text-muted-foreground"},us=M({__name:"SizeManager",props:{sizes:{type:Array,default:()=>[]}},emits:["update:sizes"],setup(o,{emit:E}){const C=E,n=U(""),h=U(""),V=[{category:"clothing",sizes:[{en:"XS",ar:"صغير جداً"},{en:"S",ar:"صغير"},{en:"M",ar:"متوسط"},{en:"L",ar:"كبير"},{en:"XL",ar:"كبير جداً"},{en:"XXL",ar:"كبير جداً جداً"}]},{category:"shoes",sizes:[{en:"36",ar:"٣٦"},{en:"37",ar:"٣٧"},{en:"38",ar:"٣٨"},{en:"39",ar:"٣٩"},{en:"40",ar:"٤٠"},{en:"41",ar:"٤١"},{en:"42",ar:"٤٢"},{en:"43",ar:"٤٣"},{en:"44",ar:"٤٤"},{en:"45",ar:"٤٥"}]},{category:"general",sizes:[{en:"Small",ar:"صغير"},{en:"Medium",ar:"متوسط"},{en:"Large",ar:"كبير"},{en:"One Size",ar:"مقاس واحد"}]}],j=()=>"temp_"+Date.now()+"_"+Math.random().toString(36).substr(2,9),$=(k=null)=>{let i,c;if(k?(i=k.en,c=k.ar):(i=n.value.trim(),c=h.value.trim()),!i&&!c||o.sizes.some(S=>i&&S.name_en?.toLowerCase()===i.toLowerCase()||c&&S.name_ar===c))return;const w=[...o.sizes,{id:j(),name_en:i,name_ar:c,name:i||c,category_type:"general",is_active:!0}];C("update:sizes",w),n.value="",h.value=""},_=k=>{const i=o.sizes.filter(c=>c.id!==k);C("update:sizes",i)},p=k=>{k.forEach(i=>{o.sizes.some(c=>i.en&&c.name_en?.toLowerCase()===i.en.toLowerCase()||i.ar&&c.name_ar===i.ar)||$(i)})},x=k=>{k.preventDefault(),$()};return(k,i)=>(r(),u("div",et,[e("div",tt,[l(s(b),{class:"text-sm font-medium"},{default:m(()=>[...i[3]||(i[3]=[v("Add New Size",-1)])]),_:1}),e("div",st,[e("div",lt,[e("div",ot,[l(s(b),{class:"text-xs text-muted-foreground"},{default:m(()=>[...i[4]||(i[4]=[v("Name (English)",-1)])]),_:1}),l(s(z),{modelValue:n.value,"onUpdate:modelValue":i[0]||(i[0]=c=>n.value=c),placeholder:"e.g., Medium",onKeydown:R(x,["enter"]),class:"h-9 mt-1"},null,8,["modelValue"])]),e("div",at,[l(s(b),{class:"text-xs text-muted-foreground"},{default:m(()=>[...i[5]||(i[5]=[v("Name (Arabic)",-1)])]),_:1}),l(s(z),{modelValue:h.value,"onUpdate:modelValue":i[1]||(i[1]=c=>h.value=c),placeholder:"مثال: متوسط",onKeydown:R(x,["enter"]),class:"h-9 mt-1",dir:"rtl"},null,8,["modelValue"])])]),l(s(I),{type:"button",onClick:i[2]||(i[2]=c=>$()),size:"sm",disabled:!n.value.trim()&&!h.value.trim(),class:"w-full"},{default:m(()=>[l(s(Y),{class:"h-4 w-4 mr-1"}),i[6]||(i[6]=v(" Add Size ",-1))]),_:1},8,["disabled"])])]),e("div",rt,[l(s(b),{class:"text-sm font-medium"},{default:m(()=>[...i[7]||(i[7]=[v("Quick Add Common Sizes",-1)])]),_:1}),e("div",nt,[(r(),u(P,null,N(V,c=>e("div",{key:c.category,class:"flex items-center gap-2 text-sm"},[e("span",it,f(c.category)+":",1),e("div",dt,[(r(!0),u(P,null,N(c.sizes,w=>(r(),q(s(I),{key:w.en,type:"button",variant:"outline",size:"sm",onClick:S=>$(w),disabled:o.sizes.some(S=>S.name_en===w.en||S.name_ar===w.ar),class:"h-7 px-2 text-xs"},{default:m(()=>[v(f(w.en)+" / "+f(w.ar),1)]),_:2},1032,["onClick","disabled"]))),128))]),l(s(I),{type:"button",variant:"ghost",size:"sm",onClick:w=>p(c.sizes),class:"ml-2 h-7 px-2 text-xs"},{default:m(()=>[...i[8]||(i[8]=[v(" Add All ",-1)])]),_:1},8,["onClick"])])),64))])]),o.sizes.length>0?(r(),u("div",ut,[l(s(b),{class:"text-sm font-medium"},{default:m(()=>[v("Selected Sizes ("+f(o.sizes.length)+")",1)]),_:1}),e("div",mt,[(r(!0),u(P,null,N(o.sizes,c=>(r(),u("div",{key:c.id,class:"flex items-center justify-between p-3 border rounded-lg bg-background hover:bg-muted/50 transition-colors"},[e("div",ct,[e("div",ft,[e("div",vt,f(c.name_en||c.name),1),c.name_ar?(r(),u("div",gt,f(c.name_ar),1)):y("",!0)])]),l(s(I),{type:"button",variant:"ghost",size:"sm",onClick:w=>_(c.id),class:"text-red-600 hover:text-red-700 hover:bg-red-50"},{default:m(()=>[l(s(B),{class:"h-4 w-4"})]),_:1},8,["onClick"])]))),128))])])):(r(),u("div",xt,[...i[9]||(i[9]=[e("div",{class:"text-sm"},"No sizes added yet",-1),e("div",{class:"text-xs"},"Add sizes to create product variants",-1)])]))]))}}),pt={class:"space-y-4"},yt={key:0,class:"grid grid-cols-1 md:grid-cols-3 gap-4 p-4 bg-muted/30 rounded-lg"},bt={class:"text-center"},ht={class:"text-2xl font-bold text-primary"},_t={class:"text-center"},kt={class:"text-2xl font-bold text-green-600"},$t={class:"text-center"},wt={class:"text-2xl font-bold text-blue-600"},Ct={key:1,class:"p-4 border rounded-lg space-y-3"},Vt={class:"grid grid-cols-1 md:grid-cols-3 gap-3"},St={class:"flex gap-2"},At={class:"flex gap-2"},zt={key:2,class:"border rounded-lg overflow-hidden"},It={class:"overflow-x-auto"},Ut={class:"w-full"},Pt={class:"divide-y"},Nt={class:"p-3"},Et={class:"flex items-center space-x-2"},jt={class:"text-sm font-medium"},Ft={class:"p-3"},Dt={class:"p-3"},Lt={class:"p-3"},Mt={class:"flex items-center space-x-1"},Bt={class:"p-3"},Rt={class:"text-sm font-medium text-green-600"},Tt={class:"p-3"},qt={class:"flex items-center space-x-2"},Ot={class:"p-3"},Xt={key:3,class:"text-center py-8 text-muted-foreground border rounded-lg"},ms=M({__name:"VariantMatrix",props:{variants:{type:Array,default:()=>[]},basePrice:{type:[Number,String],default:0}},emits:["update:variants"],setup(o,{emit:E}){const C=E,n=U([...o.variants]);te(()=>o.variants,g=>{n.value=[...g]},{deep:!0});const h=()=>{C("update:variants",n.value)},V=(g,a,t)=>{n.value[g][a]=t,h()},j=g=>{n.value.splice(g,1),h()},$=U(""),_=U(""),p=()=>{const g=parseInt($.value);isNaN(g)||g<0||(n.value.forEach(a=>{a.stock=g}),h(),$.value="")},x=()=>{const g=parseFloat(_.value);isNaN(g)||(n.value.forEach(a=>{a.price_adjustment=g}),h(),_.value="")},k=()=>{const g=n.value.every(a=>a.is_active);n.value.forEach(a=>{a.is_active=!g}),h()},i=F(()=>n.value.length),c=F(()=>n.value.filter(g=>g.is_active).length),w=F(()=>n.value.reduce((g,a)=>g+(parseInt(a.stock)||0),0)),S=g=>{const a=parseFloat(o.basePrice)||0,t=parseFloat(g.price_adjustment)||0;return a+t};return(g,a)=>(r(),u("div",pt,[i.value>0?(r(),u("div",yt,[e("div",bt,[e("div",ht,f(i.value),1),a[2]||(a[2]=e("div",{class:"text-sm text-muted-foreground"},"Total Variants",-1))]),e("div",_t,[e("div",kt,f(c.value),1),a[3]||(a[3]=e("div",{class:"text-sm text-muted-foreground"},"Active Variants",-1))]),e("div",$t,[e("div",wt,f(w.value),1),a[4]||(a[4]=e("div",{class:"text-sm text-muted-foreground"},"Total Stock",-1))])])):y("",!0),i.value>0?(r(),u("div",Ct,[a[7]||(a[7]=e("h4",{class:"font-medium"},"Bulk Operations",-1)),e("div",Vt,[e("div",St,[l(s(z),{modelValue:$.value,"onUpdate:modelValue":a[0]||(a[0]=t=>$.value=t),type:"number",min:"0",placeholder:"Set all stock",class:"h-8 text-sm"},null,8,["modelValue"]),l(s(I),{onClick:p,size:"sm",variant:"outline",disabled:!$.value},{default:m(()=>[...a[5]||(a[5]=[v(" Apply Stock ",-1)])]),_:1},8,["disabled"])]),e("div",At,[l(s(z),{modelValue:_.value,"onUpdate:modelValue":a[1]||(a[1]=t=>_.value=t),type:"number",step:"0.01",placeholder:"Set all adjustments",class:"h-8 text-sm"},null,8,["modelValue"]),l(s(I),{onClick:x,size:"sm",variant:"outline",disabled:!_.value},{default:m(()=>[...a[6]||(a[6]=[v(" Apply Price ",-1)])]),_:1},8,["disabled"])]),l(s(I),{onClick:k,size:"sm",variant:"outline",class:"w-full"},{default:m(()=>[c.value===i.value?(r(),q(s(ne),{key:0,class:"h-4 w-4 mr-2"})):(r(),q(s(se),{key:1,class:"h-4 w-4 mr-2"})),v(" "+f(c.value===i.value?"Deactivate All":"Activate All"),1)]),_:1})])])):y("",!0),i.value>0?(r(),u("div",zt,[e("div",It,[e("table",Ut,[a[9]||(a[9]=e("thead",{class:"bg-muted/50"},[e("tr",null,[e("th",{class:"text-left p-3 font-medium text-sm"},"Color"),e("th",{class:"text-left p-3 font-medium text-sm"},"Size"),e("th",{class:"text-left p-3 font-medium text-sm"},"Stock"),e("th",{class:"text-left p-3 font-medium text-sm"},"Price Adj."),e("th",{class:"text-left p-3 font-medium text-sm"},"Final Price"),e("th",{class:"text-left p-3 font-medium text-sm"},"Status"),e("th",{class:"text-left p-3 font-medium text-sm"},"Actions")])],-1)),e("tbody",Pt,[(r(!0),u(P,null,N(n.value,(t,d)=>(r(),u("tr",{key:`${t.color_id}-${t.size_id}`,class:L(["hover:bg-muted/30 transition-colors",{"opacity-50":!t.is_active}])},[e("td",Nt,[e("div",Et,[e("div",{class:"w-5 h-5 rounded-full border border-gray-300",style:T({backgroundColor:t.color_hex})},null,4),e("span",jt,f(t.color_name),1)])]),e("td",Ft,[l(s(re),{variant:"outline"},{default:m(()=>[v(f(t.size_name),1)]),_:2},1024)]),e("td",Dt,[l(s(z),{value:t.stock,onInput:A=>V(d,"stock",parseInt(A.target.value)||0),type:"number",min:"0",class:"h-8 w-20 text-sm"},null,8,["value","onInput"])]),e("td",Lt,[e("div",Mt,[a[8]||(a[8]=e("span",{class:"text-sm"},"$",-1)),l(s(z),{value:t.price_adjustment,onInput:A=>V(d,"price_adjustment",parseFloat(A.target.value)||0),type:"number",step:"0.01",class:"h-8 w-20 text-sm"},null,8,["value","onInput"])])]),e("td",Bt,[e("span",Rt," $"+f(S(t).toFixed(2)),1)]),e("td",Tt,[e("div",qt,[l(s(ae),{checked:t.is_active,"onUpdate:checked":A=>V(d,"is_active",A)},null,8,["checked","onUpdate:checked"]),e("span",{class:L(["text-xs",t.is_active?"text-green-600":"text-red-600"])},f(t.is_active?"Active":"Inactive"),3)])]),e("td",Ot,[l(s(I),{onClick:A=>j(d),size:"sm",variant:"ghost",class:"text-red-600 hover:text-red-700 hover:bg-red-50"},{default:m(()=>[l(s(B),{class:"h-4 w-4"})]),_:1},8,["onClick"])])],2))),128))])])])])):(r(),u("div",Xt,[l(s(ie),{class:"h-12 w-12 mx-auto mb-3 opacity-50"}),a[10]||(a[10]=e("h3",{class:"font-medium mb-1"},"No Variants Generated",-1)),a[11]||(a[11]=e("p",{class:"text-sm"},"Add colors and sizes above to automatically generate product variants",-1))]))]))}});export{is as _,ds as a,us as b,ms as c};
