import{d as z,a as y,b as f,e as n,f as x,u as l,t as d,n as k,l as Z,o as s,r as C,h as i,i as v,g as t,q as F,c as p,w as ee,F as P,p as N,x as te,k as se}from"./app-Z0p12ZY1.js";import{N as ae}from"./Navbar-Cuj9huaO.js";import{M as le,_ as re}from"./Breadcrumb.vue_vue_type_script_setup_true_lang-8SMUoHUh.js";import{_ as w}from"./index-C6EVsNTI.js";import{A as ie}from"./arrow-left-C7wE9jPO.js";import{_ as j,a as A}from"./CardContent.vue_vue_type_script_setup_true_lang-CQMrU5cX.js";import{X as oe,S as T}from"./Separator.vue_vue_type_script_setup_true_lang-CcQ1zeyN.js";import{C as q}from"./circle-check-big-D6sWdGhy.js";import{_ as ne}from"./Input.vue_vue_type_script_setup_true_lang-DvD9KkSn.js";import{_ as S}from"./index-D-oT8fIx.js";import{C as ce}from"./circle-alert-D6vs6SCQ.js";import{C as D}from"./circle-x-ihmoxvYI.js";import{P as ue}from"./plus-BfDFAFPT.js";import{_ as R}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{H as de}from"./heart-B17uU2Pp.js";import"./AvatarFallback.vue_vue_type_script_setup_true_lang-B8VpEueL.js";import"./useForwardExpose-BHvqp7Az.js";import"./createContext-cbrDoWMw.js";import"./AvatarImage.vue_vue_type_script_setup_true_lang-DREzg87R.js";import"./chevron-right-zplc0Vtq.js";import"./house-3MHY2EkL.js";const me=z({__name:"BackButton",props:{href:{default:"/products"},label:{default:"Back to Products"},className:{default:"mb-6"}},setup(e){const g=()=>{e.href.startsWith("http")||e.href.startsWith("/")?Z.visit(e.href):window.history.back()};return(h,c)=>(s(),y(l(w),{variant:"outline",size:"sm",onClick:g,class:k(e.className)},{default:f(()=>[n(l(ie),{class:"h-4 w-4 mr-2"}),x(" "+d(e.label),1)]),_:1},8,["class"]))}}),fe={class:"flex items-center justify-between"},ve={class:"flex items-center space-x-2"},ge={class:"text-sm text-green-700 font-medium"},he=z({__name:"SuccessMessage",props:{message:{},icon:{default:"check"},dismissible:{type:Boolean,default:!1},className:{default:"mb-6"}},setup(e){const g=C(!0),h=()=>{g.value=!1},c=o=>{switch(o){case"cart":return T;case"check":default:return q}};return(o,a)=>g.value&&(e.message||o.$page.props.flash?.success)?(s(),i("div",{key:0,class:k(e.className)},[n(l(j),{class:"border-green-200 bg-green-50"},{default:f(()=>[n(l(A),{class:"p-4"},{default:f(()=>[t("div",fe,[t("div",ve,[(s(),y(F(c(e.icon)),{class:"h-4 w-4 text-green-600"})),t("p",ge,d(e.message||o.$page.props.flash?.success),1)]),e.dismissible?(s(),i("button",{key:0,onClick:h,class:"text-green-600 hover:text-green-800 transition-colors"},[n(l(oe),{class:"h-4 w-4"})])):v("",!0)])]),_:1})]),_:1})],2)):v("",!0)}}),be={class:"grid grid-cols-1 lg:grid-cols-2 gap-12 mb-12"},ye={class:"space-y-6 p-6"},xe={class:"relative aspect-square bg-muted rounded-lg overflow-hidden"},ke=["src","alt"],pe={class:"space-y-6 p-6"},we={class:"text-3xl font-bold"},$e={class:"space-y-2"},_e={class:"text-3xl font-bold text-primary"},Ce={key:0,class:"text-sm text-muted-foreground"},Se={key:1,class:"space-y-3"},ze={class:"flex gap-2"},Pe=["onClick","title"],Ne={key:0,class:"text-sm text-gray-600"},Ie={key:2,class:"space-y-3"},Ve={class:"flex gap-2"},Me=["onClick"],je={key:0,class:"text-sm text-gray-600"},Ae={class:"space-y-2"},Oe={key:0,class:"flex items-center space-x-2 text-green-600"},Te={class:"text-sm font-medium"},Be={key:1,class:"flex items-center space-x-2 text-blue-600"},De={class:"text-sm font-medium"},Fe={key:2,class:"flex items-center space-x-2 text-red-600"},qe={class:"text-sm font-medium"},Re={key:3,class:"text-orange-600 text-sm"},Qe={key:3,class:"space-y-4"},Xe={class:"space-y-2"},Ee={class:"flex items-center space-x-3"},He={class:"flex items-center border rounded-md"},Ue={class:"text-sm text-muted-foreground"},Le={key:1,class:"animate-spin h-4 w-4 mr-2 border-2 border-white border-t-transparent rounded-full"},We={key:4,class:"p-4 bg-blue-50 border border-blue-200 rounded-lg"},Ke=z({__name:"ProductDetails",props:{product:{type:Object,required:!0},user:{type:Object,default:null}},setup(e){const g=C(1),h=C(null),c=C(null),o=C(!1),a=C(""),_=C(""),b=p(()=>!e.product.has_variants||!h.value||!c.value?null:e.product.variants.find(m=>m.color_id===h.value&&m.size_id===c.value)),O=p(()=>{if(!e.product.has_variants||!h.value)return e.product.available_sizes||[];const r=e.product.variants.filter(u=>u.color_id===h.value).map(u=>u.size_id);return e.product.available_sizes.filter(u=>r.includes(u.id))}),Q=p(()=>b.value?b.value.price:e.product.price),I=p(()=>e.product.has_variants?b.value?b.value.stock:e.product.variants.reduce((r,u)=>r+parseInt(u.stock||0),0):e.product.stock||0),X=p(()=>e.product.is_donatable?!0:e.product.has_variants?b.value?b.value.stock>0:e.product.variants.some(m=>m.stock>0):(e.product.stock||0)>0),B=p(()=>e.product.is_donatable?!0:e.product.has_variants?b.value&&b.value.stock>0:X.value),V=p(()=>{if(e.product.is_donatable)return 99;if(e.product.has_variants&&b.value)return Math.min(b.value.stock,99);if(e.product.has_variants&&!b.value){const m=Math.max(...e.product.variants.map(r=>r.stock||0));return Math.min(m,99)}return Math.min(I.value,99)}),$=p(()=>{if(e.product.is_donatable)return{type:"donation",message:"Available for donation"};if(e.product.has_variants){if(b.value)return b.value.stock>0?{type:"in-stock",message:`${b.value.stock} in stock for this variant`}:{type:"out-of-stock",message:"This variant is out of stock"};{const m=e.product.variants.filter(r=>r.stock>0);return m.length>0?{type:"variants-available",message:`${m.length} variants available (Total: ${I.value} items)`}:{type:"out-of-stock",message:"All variants are out of stock"}}}return I.value>0?{type:"in-stock",message:`${I.value} in stock`}:{type:"out-of-stock",message:"Out of stock"}}),E=p(()=>{switch(_.value){case"success":return q;case"error":return D;case"warning":return ce;default:return null}}),H=p(()=>{const m="flex items-center space-x-2 p-3 rounded-lg text-sm font-medium";switch(_.value){case"success":return m+" bg-green-50 text-green-800 border border-green-200";case"error":return m+" bg-red-50 text-red-800 border border-red-200";case"warning":return m+" bg-orange-50 text-orange-800 border border-orange-200";default:return m+" bg-blue-50 text-blue-800 border border-blue-200"}});ee(h,()=>{c.value=null});const U=m=>parseFloat(m.toString()).toFixed(2),L=m=>{h.value=m},W=m=>{c.value=m},K=()=>{g.value<V.value&&g.value++},J=()=>{g.value>1&&g.value--},M=(m,r)=>{a.value=m,_.value=r,r==="success"&&setTimeout(()=>{a.value="",_.value=""},3e3)},Y=()=>{if(e.product.has_variants&&!b.value){M("Please select both color and size before adding to cart.","warning");return}o.value=!0,a.value="";const m={quantity:g.value};b.value&&(m.variant_id=b.value.id),fetch(`/cart/add/${e.product.id}`,{method:"POST",headers:{"Content-Type":"application/json","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]')?.content,"X-Requested-With":"XMLHttpRequest"},body:JSON.stringify(m)}).then(async r=>{const u=await r.json();r.ok&&u.success?M(u.message||"Item added to cart successfully!","success"):M(u.message||"Failed to add item to cart.","error")}).catch(r=>{console.error("Error:",r),M("Something went wrong. Please try again.","error")}).finally(()=>{o.value=!1})};return(m,r)=>(s(),i("div",be,[t("div",ye,[t("div",xe,[t("img",{src:e.product.image||"/placeholder.jpg",alt:e.product.name,class:"w-full h-full object-cover"},null,8,ke),e.product.is_donatable?(s(),y(l(S),{key:0,class:"absolute top-4 right-4 bg-orange-100 text-orange-800"},{default:f(()=>[...r[2]||(r[2]=[x(" Donation ",-1)])]),_:1})):v("",!0)])]),t("div",pe,[n(l(S),{variant:"outline",class:"capitalize"},{default:f(()=>[x(d(e.product.category?.name||"Uncategorized"),1)]),_:1}),t("h1",we,d(e.product.name),1),t("div",$e,[t("span",_e,"$"+d(U(Q.value)),1),e.product.is_donatable?(s(),i("p",Ce," This is a donation item. ")):v("",!0)]),a.value?(s(),i("div",{key:0,class:k(H.value)},[(s(),y(F(E.value),{class:"h-4 w-4 flex-shrink-0"})),t("span",null,d(a.value),1),_.value==="error"||_.value==="warning"?(s(),i("button",{key:0,onClick:r[0]||(r[0]=u=>{a.value="",_.value=""}),class:"ml-auto"},[n(l(D),{class:"h-4 w-4"})])):v("",!0)],2)):v("",!0),e.product.has_variants&&e.product.available_colors?(s(),i("div",Se,[r[3]||(r[3]=t("h4",{class:"font-medium"},"Color:",-1)),t("div",ze,[(s(!0),i(P,null,N(e.product.available_colors,u=>(s(),i("button",{key:u.id,onClick:G=>L(u.id),class:k(["w-12 h-12 rounded-full border-2 transition-all",h.value===u.id?"ring-2 ring-primary ring-offset-2":"border-gray-300"]),style:te({backgroundColor:u.hex_code}),title:u.name},null,14,Pe))),128))]),h.value?(s(),i("p",Ne," Selected: "+d(e.product.available_colors.find(u=>u.id===h.value)?.name),1)):v("",!0)])):v("",!0),e.product.has_variants&&O.value.length>0?(s(),i("div",Ie,[r[4]||(r[4]=t("h4",{class:"font-medium"},"Size:",-1)),t("div",Ve,[(s(!0),i(P,null,N(O.value,u=>(s(),i("button",{key:u.id,onClick:G=>W(u.id),class:k(["px-4 py-2 border rounded-md transition-all",c.value===u.id?"border-primary bg-primary text-white":"border-gray-300 hover:border-primary"])},d(u.name),11,Me))),128))]),c.value?(s(),i("p",je," Selected: "+d(O.value.find(u=>u.id===c.value)?.name),1)):v("",!0)])):v("",!0),t("div",Ae,[$.value.type==="in-stock"||$.value.type==="variants-available"?(s(),i("div",Oe,[r[5]||(r[5]=t("div",{class:"w-2 h-2 bg-green-600 rounded-full"},null,-1)),t("span",Te,d($.value.message),1)])):$.value.type==="donation"?(s(),i("div",Be,[r[6]||(r[6]=t("div",{class:"w-2 h-2 bg-blue-600 rounded-full"},null,-1)),t("span",De,d($.value.message),1)])):$.value.type==="out-of-stock"?(s(),i("div",Fe,[r[7]||(r[7]=t("div",{class:"w-2 h-2 bg-red-600 rounded-full"},null,-1)),t("span",qe,d($.value.message),1)])):v("",!0),e.product.has_variants&&(!h.value||!c.value)?(s(),i("div",Re," Please select "+d(h.value?"":"color")+d(!h.value&&!c.value?" and ":"")+d(c.value?"":"size"),1)):v("",!0)]),B.value||$.value.type==="variants-available"?(s(),i("div",Qe,[t("div",Xe,[r[8]||(r[8]=t("label",{class:"text-sm font-medium"},"Quantity",-1)),t("div",Ee,[t("div",He,[n(l(w),{size:"sm",variant:"ghost",onClick:J,disabled:g.value<=1||o.value,class:"h-10 w-10 p-0"},{default:f(()=>[n(l(le),{class:"h-4 w-4"})]),_:1},8,["disabled"]),n(l(ne),{modelValue:g.value,"onUpdate:modelValue":r[1]||(r[1]=u=>g.value=u),modelModifiers:{number:!0},max:V.value,min:"1",type:"number",disabled:o.value,class:"h-10 w-16 text-center border-0"},null,8,["modelValue","max","disabled"]),n(l(w),{size:"sm",variant:"ghost",onClick:K,disabled:g.value>=V.value||o.value,class:"h-10 w-10 p-0"},{default:f(()=>[n(l(ue),{class:"h-4 w-4"})]),_:1},8,["disabled"])]),t("span",Ue," Max: "+d(V.value),1)])]),n(l(w),{onClick:Y,disabled:!B.value||o.value,size:"lg",class:k(["w-full",o.value?"opacity-75 cursor-not-allowed":""])},{default:f(()=>[o.value?(s(),i("div",Le)):(s(),y(l(T),{key:0,class:"h-4 w-4 mr-2"})),x(" "+d(o.value?"Adding...":e.product.is_donatable?"Donate Now":"Add to Cart"),1)]),_:1},8,["disabled","class"])])):e.product.has_variants&&$.value.type==="variants-available"?(s(),i("div",We,[...r[9]||(r[9]=[t("p",{class:"text-blue-700 font-medium"},"Please select color and size to continue",-1)])])):v("",!0)])]))}}),Je=R(Ke,[["__scopeId","data-v-47174073"]]),Ye={class:"prose max-w-none"},Ge={key:0},Ze={class:"text-muted-foreground leading-relaxed whitespace-pre-line"},et={class:"space-y-2"},tt={class:"text-muted-foreground"},st={class:"grid grid-cols-1 md:grid-cols-2 gap-3"},at={class:"text-muted-foreground font-medium"},lt={class:"font-semibold"},rt=z({__name:"ProductDescription",props:{description:{},specifications:{},features:{},className:{default:"mb-12"}},setup(e){const g=e.description||e.specifications||e.features?.length;return(h,c)=>l(g)?(s(),y(l(j),{key:0,class:k(e.className)},{default:f(()=>[n(l(A),{class:"p-6"},{default:f(()=>[t("div",Ye,[e.description?(s(),i("div",Ge,[c[0]||(c[0]=t("h3",{class:"text-xl font-semibold mb-4"},"Product Description",-1)),t("div",Ze,d(e.description),1)])):v("",!0),e.features?.length?(s(),i("div",{key:1,class:k({"mt-8":e.description})},[c[2]||(c[2]=t("h4",{class:"font-semibold mb-3"},"Key Features",-1)),t("ul",et,[(s(!0),i(P,null,N(e.features,(o,a)=>(s(),i("li",{key:a,class:"flex items-start space-x-2"},[c[1]||(c[1]=t("div",{class:"w-1.5 h-1.5 bg-primary rounded-full mt-2 flex-shrink-0"},null,-1)),t("span",tt,d(o),1)]))),128))])],2)):v("",!0),e.specifications?(s(),i("div",{key:2,class:k({"mt-8":e.description||e.features?.length})},[c[3]||(c[3]=t("h4",{class:"font-semibold mb-4"},"Specifications",-1)),t("div",st,[(s(!0),i(P,null,N(e.specifications,(o,a)=>(s(),i("div",{key:a,class:"flex justify-between items-center py-2 px-3 bg-muted/30 rounded-lg"},[t("span",at,d(a)+":",1),t("span",lt,d(o),1)]))),128))])],2)):v("",!0)])]),_:1})]),_:1},8,["class"])):(s(),y(l(j),{key:1,class:k(e.className)},{default:f(()=>[n(l(A),{class:"p-6 text-center"},{default:f(()=>[...c[4]||(c[4]=[t("p",{class:"text-muted-foreground"},"No additional product information available.",-1)])]),_:1})]),_:1},8,["class"]))}}),it={class:"flex items-center justify-between"},ot={class:"text-2xl font-bold"},nt={class:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6"},ct={class:"relative overflow-hidden"},ut=["src","alt"],dt={class:"absolute top-3 left-3"},mt={class:"absolute top-3 right-3 opacity-0 group-hover:opacity-100 transition-all duration-300"},ft={class:"absolute bottom-3 left-1/2 transform -translate-x-1/2 opacity-0 group-hover:opacity-100 transition-all duration-300"},vt={class:"font-semibold line-clamp-2 group-hover:text-primary transition-colors"},gt=["href"],ht={class:"flex items-center justify-between"},bt={class:"flex flex-col"},yt={class:"text-lg font-bold text-primary"},xt={key:0,class:"text-sm text-muted-foreground line-through"},kt={class:"flex space-x-2"},pt={key:0,class:"text-center"},wt=z({__name:"RelatedProducts",props:{products:{},title:{default:"Related Products"},maxItems:{default:4},className:{default:""}},setup(e){const g=c=>parseFloat(c.toString()).toFixed(2),h=e.products.slice(0,e.maxItems);return(c,o)=>e.products.length?(s(),i("div",{key:0,class:k(`space-y-6 ${e.className}`)},[t("div",it,[t("h2",ot,d(e.title),1),e.products.length>e.maxItems?(s(),y(l(w),{key:0,variant:"outline",size:"sm",as:"a",href:"/products"},{default:f(()=>[...o[0]||(o[0]=[x(" View All ",-1)])]),_:1})):v("",!0)]),t("div",nt,[(s(!0),i(P,null,N(l(h),a=>(s(),y(l(j),{key:a.id,class:"group overflow-hidden hover:shadow-xl hover:scale-[1.02] transition-all duration-500 cursor-pointer border-0 shadow-md"},{default:f(()=>[t("div",ct,[t("img",{src:a.image||"/placeholder-product.jpg",alt:a.name,class:"h-48 w-full object-cover group-hover:scale-110 transition-transform duration-700",loading:"lazy"},null,8,ut),t("div",dt,[a.is_donatable?(s(),y(l(S),{key:0,class:"bg-orange-500 text-white"},{default:f(()=>[...o[1]||(o[1]=[x(" Donation ",-1)])]),_:1})):a.stock<10&&a.stock>0?(s(),y(l(S),{key:1,variant:"destructive"},{default:f(()=>[x(" Only "+d(a.stock)+" left ",1)]),_:2},1024)):a.stock===0?(s(),y(l(S),{key:2,variant:"destructive"},{default:f(()=>[...o[2]||(o[2]=[x(" Out of Stock ",-1)])]),_:1})):a.original_price&&a.original_price>a.price?(s(),y(l(S),{key:3,class:"bg-red-500 text-white"},{default:f(()=>[x(d(Math.round((a.original_price-a.price)/a.original_price*100))+"% OFF ",1)]),_:2},1024)):v("",!0)]),t("div",mt,[n(l(w),{size:"icon",variant:"secondary",class:"shadow-lg mb-2",title:"Add to wishlist"},{default:f(()=>[n(l(de),{class:"h-4 w-4"})]),_:1})]),t("div",ft,[n(l(w),{size:"sm",variant:"secondary",class:"shadow-lg",as:"a",href:`/products/${a.slug}`},{default:f(()=>[...o[3]||(o[3]=[x(" Quick View ",-1)])]),_:1},8,["href"])])]),n(l(A),{class:"p-4 space-y-3"},{default:f(()=>[t("h3",vt,[t("a",{href:`/products/${a.slug}`,class:"hover:underline"},d(a.name),9,gt)]),n(l(S),{variant:"outline",class:"text-xs capitalize"},{default:f(()=>[x(d(a.category?.name||"Uncategorized"),1)]),_:2},1024),t("div",ht,[t("div",bt,[t("span",yt," $"+d(g(a.price)),1),a.original_price&&a.original_price>a.price?(s(),i("span",xt," $"+d(g(a.original_price)),1)):v("",!0)]),t("div",kt,[n(l(w),{size:"sm",variant:"outline",as:"a",href:`/products/${a.slug}`,class:"hover:scale-105 transition-all duration-300"},{default:f(()=>[...o[4]||(o[4]=[x(" View ",-1)])]),_:1},8,["href"]),a.stock>0||a.is_donatable?(s(),y(l(w),{key:0,size:"sm",variant:"default",class:"hover:scale-105 transition-all duration-300",title:"Add to cart"},{default:f(()=>[n(l(T),{class:"h-4 w-4"})]),_:1})):v("",!0)])])]),_:2},1024)]),_:2},1024))),128))]),e.products.length>e.maxItems?(s(),i("div",pt,[n(l(w),{variant:"outline",as:"a",href:"/products"},{default:f(()=>[x(" View More Products ("+d(e.products.length-e.maxItems)+" more) ",1)]),_:1})])):v("",!0)],2)):v("",!0)}}),$t=R(wt,[["__scopeId","data-v-976d7cc6"]]),_t={class:"min-h-screen"},Ct={class:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8"},Lt=z({__name:"ProductDetail",props:{product:{type:Object,required:!0},relatedProducts:{type:Array,default:()=>[]},categories:{type:Array,default:()=>[]},auth:{type:Object,default:()=>({})},cartItems:{type:Array,default:()=>[]},settings:{type:Object,default:()=>({})}},setup(e){const g=e.settings.site_name||"Elegant Store",h=e.auth.user,c=[{label:"Home",href:"/"},{label:"Products",href:"/products"},{label:e.product.category?.name||"Uncategorized",href:`/products?category=${e.product.category?.slug}`},{label:e.product.name,isActive:!0}];return(o,a)=>(s(),i("div",_t,[n(l(se),{title:e.product.name},null,8,["title"]),n(ae,{categories:e.categories,cartItems:e.cartItems,user:l(h),siteName:l(g),settings:e.settings},null,8,["categories","cartItems","user","siteName","settings"]),t("div",Ct,[n(re,{items:c}),n(me,{href:"/products",label:"Back to Products"}),n(he,{icon:"cart",dismissible:!0}),n(Je,{product:e.product,user:l(h)},null,8,["product","user"]),n(rt,{description:e.product.description,specifications:e.product.specifications,features:e.product.features},null,8,["description","specifications","features"]),n($t,{products:e.relatedProducts,title:"You might also like",maxItems:4},null,8,["products"])])]))}});export{Lt as default};
